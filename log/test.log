  [1m[36m (124.9ms)[0m  [1mDROP DATABASE IF EXISTS "ShipmentsApp_test"[0m
  [1m[35m (424.1ms)[0m  CREATE DATABASE "ShipmentsApp_test" ENCODING = 'unicode'
  [1m[36mSQL (1.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "inventory_items" ("id" serial primary key, "product_id" integer NOT NULL, "inventoriable_id" integer NOT NULL, "inventoriable_type" character varying NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "products" ("id" serial primary key, "name" character varying NOT NULL, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "shipments" ("id" serial primary key, "warehouse_id" integer NOT NULL, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.9ms)[0m  [1mCREATE TABLE "warehouses" ("id" serial primary key, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160918212739')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160918212622')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160918212640')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160918212718')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.498758"], ["updated_at", "2016-11-02 14:06:38.498758"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:06:38.507799"], ["updated_at", "2016-11-02 14:06:38.507799"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-02 14:06:38.510484"], ["updated_at", "2016-11-02 14:06:38.510484"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.514111"], ["updated_at", "2016-11-02 14:06:38.514111"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.519467"], ["updated_at", "2016-11-02 14:06:38.519467"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.522295"], ["updated_at", "2016-11-02 14:06:38.522295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.525096"], ["updated_at", "2016-11-02 14:06:38.525096"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.528523"], ["updated_at", "2016-11-02 14:06:38.528523"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.531096"], ["updated_at", "2016-11-02 14:06:38.531096"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.534060"], ["updated_at", "2016-11-02 14:06:38.534060"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.536701"], ["updated_at", "2016-11-02 14:06:38.536701"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.539156"], ["updated_at", "2016-11-02 14:06:38.539156"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.542132"], ["updated_at", "2016-11-02 14:06:38.542132"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 2], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.545378"], ["updated_at", "2016-11-02 14:06:38.545378"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 2], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.547894"], ["updated_at", "2016-11-02 14:06:38.547894"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 2], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.550932"], ["updated_at", "2016-11-02 14:06:38.550932"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 2], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.553461"], ["updated_at", "2016-11-02 14:06:38.553461"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 2], ["inventoriable_type", "Warehouse"], ["product_id", 1], ["created_at", "2016-11-02 14:06:38.555870"], ["updated_at", "2016-11-02 14:06:38.555870"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 1], ["inventoriable_type", "Warehouse"], ["product_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 2], ["inventoriable_type", "Warehouse"], ["product_id", 1]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:06:38.581781"], ["updated_at", "2016-11-02 14:06:38.581781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.583620"], ["updated_at", "2016-11-02 14:06:38.583620"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-02 14:06:38.585157"], ["updated_at", "2016-11-02 14:06:38.585157"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.587411"], ["updated_at", "2016-11-02 14:06:38.587411"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.590372"], ["updated_at", "2016-11-02 14:06:38.590372"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.592904"], ["updated_at", "2016-11-02 14:06:38.592904"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.595780"], ["updated_at", "2016-11-02 14:06:38.595780"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.598951"], ["updated_at", "2016-11-02 14:06:38.598951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.601594"], ["updated_at", "2016-11-02 14:06:38.601594"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.603984"], ["updated_at", "2016-11-02 14:06:38.603984"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.606988"], ["updated_at", "2016-11-02 14:06:38.606988"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.609522"], ["updated_at", "2016-11-02 14:06:38.609522"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.612401"], ["updated_at", "2016-11-02 14:06:38.612401"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 4], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.615734"], ["updated_at", "2016-11-02 14:06:38.615734"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 4], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.618240"], ["updated_at", "2016-11-02 14:06:38.618240"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 4], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.620949"], ["updated_at", "2016-11-02 14:06:38.620949"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 4], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.624519"], ["updated_at", "2016-11-02 14:06:38.624519"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 4], ["inventoriable_type", "Warehouse"], ["product_id", 2], ["created_at", "2016-11-02 14:06:38.627033"], ["updated_at", "2016-11-02 14:06:38.627033"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 3], ["inventoriable_type", "Warehouse"], ["product_id", 2]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:06:38.635776"], ["updated_at", "2016-11-02 14:06:38.635776"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.638400"], ["updated_at", "2016-11-02 14:06:38.638400"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-02 14:06:38.640304"], ["updated_at", "2016-11-02 14:06:38.640304"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.642802"], ["updated_at", "2016-11-02 14:06:38.642802"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.646823"], ["updated_at", "2016-11-02 14:06:38.646823"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.649639"], ["updated_at", "2016-11-02 14:06:38.649639"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.652179"], ["updated_at", "2016-11-02 14:06:38.652179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.655291"], ["updated_at", "2016-11-02 14:06:38.655291"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.657801"], ["updated_at", "2016-11-02 14:06:38.657801"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.660329"], ["updated_at", "2016-11-02 14:06:38.660329"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.663742"], ["updated_at", "2016-11-02 14:06:38.663742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.666536"], ["updated_at", "2016-11-02 14:06:38.666536"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.669497"], ["updated_at", "2016-11-02 14:06:38.669497"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 6], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.672369"], ["updated_at", "2016-11-02 14:06:38.672369"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 6], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.674865"], ["updated_at", "2016-11-02 14:06:38.674865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 6], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.678055"], ["updated_at", "2016-11-02 14:06:38.678055"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 6], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.681655"], ["updated_at", "2016-11-02 14:06:38.681655"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 6], ["inventoriable_type", "Warehouse"], ["product_id", 3], ["created_at", "2016-11-02 14:06:38.684433"], ["updated_at", "2016-11-02 14:06:38.684433"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 5], ["inventoriable_type", "Warehouse"], ["product_id", 3]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.690674"], ["updated_at", "2016-11-02 14:06:38.690674"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.693772"], ["updated_at", "2016-11-02 14:06:38.693772"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:06:38.697080"], ["updated_at", "2016-11-02 14:06:38.697080"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_type", "product_id", "inventoriable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_type", "Warehouse"], ["product_id", 4], ["inventoriable_id", 7], ["created_at", "2016-11-02 14:06:38.698551"], ["updated_at", "2016-11-02 14:06:38.698551"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 4], ["created_at", "2016-11-02 14:06:38.701666"], ["updated_at", "2016-11-02 14:06:38.701666"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 4], ["created_at", "2016-11-02 14:06:38.704345"], ["updated_at", "2016-11-02 14:06:38.704345"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 4], ["created_at", "2016-11-02 14:06:38.706782"], ["updated_at", "2016-11-02 14:06:38.706782"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 4], ["created_at", "2016-11-02 14:06:38.709782"], ["updated_at", "2016-11-02 14:06:38.709782"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 5], ["created_at", "2016-11-02 14:06:38.712495"], ["updated_at", "2016-11-02 14:06:38.712495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 5], ["created_at", "2016-11-02 14:06:38.714970"], ["updated_at", "2016-11-02 14:06:38.714970"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 5], ["created_at", "2016-11-02 14:06:38.717869"], ["updated_at", "2016-11-02 14:06:38.717869"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 5], ["created_at", "2016-11-02 14:06:38.720403"], ["updated_at", "2016-11-02 14:06:38.720403"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 5], ["created_at", "2016-11-02 14:06:38.722850"], ["updated_at", "2016-11-02 14:06:38.722850"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 3[0m  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 4]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 7], ["inventoriable_type", "Warehouse"], ["product_id", 5]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.730978"], ["updated_at", "2016-11-02 14:06:38.730978"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.733335"], ["updated_at", "2016-11-02 14:06:38.733335"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.735136"], ["updated_at", "2016-11-02 14:06:38.735136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 6], ["inventoriable_id", 8], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.737461"], ["updated_at", "2016-11-02 14:06:38.737461"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 6], ["inventoriable_id", 8], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.740167"], ["updated_at", "2016-11-02 14:06:38.740167"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 7], ["inventoriable_id", 8], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.743021"], ["updated_at", "2016-11-02 14:06:38.743021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 8], ["inventoriable_type", "Warehouse"], ["product_id", 6]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 8], ["inventoriable_type", "Warehouse"], ["product_id", 7]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 8], ["inventoriable_type", "Warehouse"], ["product_id", 6]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 8], ["inventoriable_type", "Warehouse"], ["product_id", 7]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 8], ["created_at", "2016-11-02 14:06:38.749581"], ["updated_at", "2016-11-02 14:06:38.749581"]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 1], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:06:38.764449"], ["id", 56]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 1], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:06:38.771470"], ["id", 57]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 1], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:06:38.774209"], ["id", 58]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.778342"], ["updated_at", "2016-11-02 14:06:38.778342"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.780815"], ["updated_at", "2016-11-02 14:06:38.780815"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.782624"], ["updated_at", "2016-11-02 14:06:38.782624"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 8], ["inventoriable_id", 9], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.784837"], ["updated_at", "2016-11-02 14:06:38.784837"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 8], ["inventoriable_id", 9], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.787571"], ["updated_at", "2016-11-02 14:06:38.787571"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 9], ["inventoriable_id", 9], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.790151"], ["updated_at", "2016-11-02 14:06:38.790151"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 9], ["inventoriable_type", "Warehouse"], ["product_id", 8]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 9], ["inventoriable_type", "Warehouse"], ["product_id", 9]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 9], ["inventoriable_type", "Warehouse"], ["product_id", 8]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 9], ["inventoriable_type", "Warehouse"], ["product_id", 9]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 9], ["created_at", "2016-11-02 14:06:38.796641"], ["updated_at", "2016-11-02 14:06:38.796641"]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 2], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:06:38.798941"], ["id", 59]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 2], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:06:38.801180"], ["id", 60]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 2], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:06:38.803282"], ["id", 61]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mShipment Load (0.2ms)[0m  [1mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.812544"], ["updated_at", "2016-11-02 14:06:38.812544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.814816"], ["updated_at", "2016-11-02 14:06:38.814816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.816646"], ["updated_at", "2016-11-02 14:06:38.816646"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 10], ["inventoriable_id", 10], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.819046"], ["updated_at", "2016-11-02 14:06:38.819046"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 10], ["inventoriable_id", 10], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.821951"], ["updated_at", "2016-11-02 14:06:38.821951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 11], ["inventoriable_id", 10], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.824489"], ["updated_at", "2016-11-02 14:06:38.824489"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 10], ["inventoriable_type", "Warehouse"], ["product_id", 10]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.831489"], ["updated_at", "2016-11-02 14:06:38.831489"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.833897"], ["updated_at", "2016-11-02 14:06:38.833897"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.835650"], ["updated_at", "2016-11-02 14:06:38.835650"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 12], ["inventoriable_id", 11], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.837955"], ["updated_at", "2016-11-02 14:06:38.837955"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 12], ["inventoriable_id", 11], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.841203"], ["updated_at", "2016-11-02 14:06:38.841203"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 13], ["inventoriable_id", 11], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.844975"], ["updated_at", "2016-11-02 14:06:38.844975"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 11], ["inventoriable_type", "Warehouse"], ["product_id", 12]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shipments"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.851673"], ["updated_at", "2016-11-02 14:06:38.851673"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.854421"], ["updated_at", "2016-11-02 14:06:38.854421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:06:38.856301"], ["updated_at", "2016-11-02 14:06:38.856301"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 14], ["inventoriable_id", 12], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.858539"], ["updated_at", "2016-11-02 14:06:38.858539"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 14], ["inventoriable_id", 12], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.862891"], ["updated_at", "2016-11-02 14:06:38.862891"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 15], ["inventoriable_id", 12], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.867324"], ["updated_at", "2016-11-02 14:06:38.867324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 12], ["inventoriable_type", "Warehouse"], ["product_id", 14]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.878541"], ["updated_at", "2016-11-02 14:06:38.878541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.881063"], ["updated_at", "2016-11-02 14:06:38.881063"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:06:38.882845"], ["updated_at", "2016-11-02 14:06:38.882845"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 16], ["inventoriable_id", 13], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.885284"], ["updated_at", "2016-11-02 14:06:38.885284"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 16], ["inventoriable_id", 13], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.888127"], ["updated_at", "2016-11-02 14:06:38.888127"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 17], ["inventoriable_id", 13], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.891218"], ["updated_at", "2016-11-02 14:06:38.891218"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.4ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 13], ["inventoriable_type", "Warehouse"], ["product_id", 16]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 13], ["inventoriable_type", "Warehouse"], ["product_id", 17]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2[0m  [["inventoriable_id", 13], ["inventoriable_type", "Warehouse"], ["product_id", 16]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1  [["inventoriable_id", 13], ["inventoriable_type", "Warehouse"], ["product_id", 17]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.901504"], ["updated_at", "2016-11-02 14:06:38.901504"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.904656"], ["updated_at", "2016-11-02 14:06:38.904656"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.907511"], ["updated_at", "2016-11-02 14:06:38.907511"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 18], ["inventoriable_id", 14], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.910130"], ["updated_at", "2016-11-02 14:06:38.910130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 18], ["inventoriable_id", 14], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.912666"], ["updated_at", "2016-11-02 14:06:38.912666"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 19], ["inventoriable_id", 14], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.915172"], ["updated_at", "2016-11-02 14:06:38.915172"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 14], ["inventoriable_type", "Warehouse"], ["product_id", 18]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 14], ["inventoriable_type", "Warehouse"], ["product_id", 19]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shipments"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:06:38.922128"], ["updated_at", "2016-11-02 14:06:38.922128"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:06:38.924425"], ["updated_at", "2016-11-02 14:06:38.924425"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:06:38.926182"], ["updated_at", "2016-11-02 14:06:38.926182"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 20], ["inventoriable_id", 15], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.929099"], ["updated_at", "2016-11-02 14:06:38.929099"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 20], ["inventoriable_id", 15], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.932094"], ["updated_at", "2016-11-02 14:06:38.932094"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 21], ["inventoriable_id", 15], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:06:38.934569"], ["updated_at", "2016-11-02 14:06:38.934569"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 15], ["inventoriable_type", "Warehouse"], ["product_id", 20]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 15], ["inventoriable_type", "Warehouse"], ["product_id", 21]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mInventoryItem Load (0.1ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mWarehouse Load (0.1ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.342439"], ["updated_at", "2016-11-02 14:07:33.342439"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:07:33.409366"], ["updated_at", "2016-11-02 14:07:33.409366"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-02 14:07:33.411393"], ["updated_at", "2016-11-02 14:07:33.411393"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.417728"], ["updated_at", "2016-11-02 14:07:33.417728"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.425092"], ["updated_at", "2016-11-02 14:07:33.425092"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.428368"], ["updated_at", "2016-11-02 14:07:33.428368"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.431370"], ["updated_at", "2016-11-02 14:07:33.431370"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.435325"], ["updated_at", "2016-11-02 14:07:33.435325"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.438145"], ["updated_at", "2016-11-02 14:07:33.438145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.441500"], ["updated_at", "2016-11-02 14:07:33.441500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.444389"], ["updated_at", "2016-11-02 14:07:33.444389"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.447029"], ["updated_at", "2016-11-02 14:07:33.447029"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.451107"], ["updated_at", "2016-11-02 14:07:33.451107"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 17], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.454010"], ["updated_at", "2016-11-02 14:07:33.454010"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 17], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.456911"], ["updated_at", "2016-11-02 14:07:33.456911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 17], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.460299"], ["updated_at", "2016-11-02 14:07:33.460299"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 17], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.463632"], ["updated_at", "2016-11-02 14:07:33.463632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 17], ["inventoriable_type", "Warehouse"], ["product_id", 22], ["created_at", "2016-11-02 14:07:33.466272"], ["updated_at", "2016-11-02 14:07:33.466272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 16], ["inventoriable_type", "Warehouse"], ["product_id", 22]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 17], ["inventoriable_type", "Warehouse"], ["product_id", 22]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:07:33.494764"], ["updated_at", "2016-11-02 14:07:33.494764"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.497248"], ["updated_at", "2016-11-02 14:07:33.497248"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-02 14:07:33.498972"], ["updated_at", "2016-11-02 14:07:33.498972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.501281"], ["updated_at", "2016-11-02 14:07:33.501281"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.504199"], ["updated_at", "2016-11-02 14:07:33.504199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.507388"], ["updated_at", "2016-11-02 14:07:33.507388"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.510273"], ["updated_at", "2016-11-02 14:07:33.510273"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.513588"], ["updated_at", "2016-11-02 14:07:33.513588"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.516312"], ["updated_at", "2016-11-02 14:07:33.516312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.518852"], ["updated_at", "2016-11-02 14:07:33.518852"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.522357"], ["updated_at", "2016-11-02 14:07:33.522357"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.526718"], ["updated_at", "2016-11-02 14:07:33.526718"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.531809"], ["updated_at", "2016-11-02 14:07:33.531809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 19], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.534663"], ["updated_at", "2016-11-02 14:07:33.534663"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 19], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.538624"], ["updated_at", "2016-11-02 14:07:33.538624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 19], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.541834"], ["updated_at", "2016-11-02 14:07:33.541834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 19], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.545147"], ["updated_at", "2016-11-02 14:07:33.545147"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 19], ["inventoriable_type", "Warehouse"], ["product_id", 23], ["created_at", "2016-11-02 14:07:33.547854"], ["updated_at", "2016-11-02 14:07:33.547854"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 18], ["inventoriable_type", "Warehouse"], ["product_id", 23]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:07:33.554592"], ["updated_at", "2016-11-02 14:07:33.554592"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.556912"], ["updated_at", "2016-11-02 14:07:33.556912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-02 14:07:33.559067"], ["updated_at", "2016-11-02 14:07:33.559067"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.562834"], ["updated_at", "2016-11-02 14:07:33.562834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.565739"], ["updated_at", "2016-11-02 14:07:33.565739"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.569152"], ["updated_at", "2016-11-02 14:07:33.569152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.572100"], ["updated_at", "2016-11-02 14:07:33.572100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.574868"], ["updated_at", "2016-11-02 14:07:33.574868"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.578587"], ["updated_at", "2016-11-02 14:07:33.578587"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.581746"], ["updated_at", "2016-11-02 14:07:33.581746"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.585464"], ["updated_at", "2016-11-02 14:07:33.585464"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.588517"], ["updated_at", "2016-11-02 14:07:33.588517"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.591273"], ["updated_at", "2016-11-02 14:07:33.591273"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 21], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.594960"], ["updated_at", "2016-11-02 14:07:33.594960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 21], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.598378"], ["updated_at", "2016-11-02 14:07:33.598378"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 21], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.601636"], ["updated_at", "2016-11-02 14:07:33.601636"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 21], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.604308"], ["updated_at", "2016-11-02 14:07:33.604308"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 21], ["inventoriable_type", "Warehouse"], ["product_id", 24], ["created_at", "2016-11-02 14:07:33.607020"], ["updated_at", "2016-11-02 14:07:33.607020"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 20], ["inventoriable_type", "Warehouse"], ["product_id", 24]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.613737"], ["updated_at", "2016-11-02 14:07:33.613737"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.617378"], ["updated_at", "2016-11-02 14:07:33.617378"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:07:33.620517"], ["updated_at", "2016-11-02 14:07:33.620517"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_type", "product_id", "inventoriable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_type", "Warehouse"], ["product_id", 25], ["inventoriable_id", 22], ["created_at", "2016-11-02 14:07:33.621827"], ["updated_at", "2016-11-02 14:07:33.621827"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 25], ["created_at", "2016-11-02 14:07:33.625175"], ["updated_at", "2016-11-02 14:07:33.625175"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 25], ["created_at", "2016-11-02 14:07:33.628113"], ["updated_at", "2016-11-02 14:07:33.628113"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 25], ["created_at", "2016-11-02 14:07:33.632097"], ["updated_at", "2016-11-02 14:07:33.632097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 25], ["created_at", "2016-11-02 14:07:33.635231"], ["updated_at", "2016-11-02 14:07:33.635231"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 26], ["created_at", "2016-11-02 14:07:33.637742"], ["updated_at", "2016-11-02 14:07:33.637742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 26], ["created_at", "2016-11-02 14:07:33.640945"], ["updated_at", "2016-11-02 14:07:33.640945"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 26], ["created_at", "2016-11-02 14:07:33.643859"], ["updated_at", "2016-11-02 14:07:33.643859"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 26], ["created_at", "2016-11-02 14:07:33.646421"], ["updated_at", "2016-11-02 14:07:33.646421"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 26], ["created_at", "2016-11-02 14:07:33.650394"], ["updated_at", "2016-11-02 14:07:33.650394"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 3[0m  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 25]]
  [1m[35mInventoryItem Load (0.4ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 22], ["inventoriable_type", "Warehouse"], ["product_id", 26]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.658996"], ["updated_at", "2016-11-02 14:07:33.658996"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.661430"], ["updated_at", "2016-11-02 14:07:33.661430"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.663351"], ["updated_at", "2016-11-02 14:07:33.663351"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 27], ["inventoriable_id", 23], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.667078"], ["updated_at", "2016-11-02 14:07:33.667078"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 27], ["inventoriable_id", 23], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.670381"], ["updated_at", "2016-11-02 14:07:33.670381"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 28], ["inventoriable_id", 23], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.674007"], ["updated_at", "2016-11-02 14:07:33.674007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 23], ["inventoriable_type", "Warehouse"], ["product_id", 27]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 23], ["inventoriable_type", "Warehouse"], ["product_id", 28]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 23], ["inventoriable_type", "Warehouse"], ["product_id", 27]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 23], ["inventoriable_type", "Warehouse"], ["product_id", 28]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.5ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 23], ["created_at", "2016-11-02 14:07:33.682088"], ["updated_at", "2016-11-02 14:07:33.682088"]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 3], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:07:33.699806"], ["id", 135]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 3], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:07:33.704508"], ["id", 136]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 3], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:07:33.707254"], ["id", 137]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.710969"], ["updated_at", "2016-11-02 14:07:33.710969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.714001"], ["updated_at", "2016-11-02 14:07:33.714001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.715951"], ["updated_at", "2016-11-02 14:07:33.715951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 29], ["inventoriable_id", 24], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.718130"], ["updated_at", "2016-11-02 14:07:33.718130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 29], ["inventoriable_id", 24], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.721280"], ["updated_at", "2016-11-02 14:07:33.721280"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 30], ["inventoriable_id", 24], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.723942"], ["updated_at", "2016-11-02 14:07:33.723942"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 24], ["inventoriable_type", "Warehouse"], ["product_id", 29]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 24], ["inventoriable_type", "Warehouse"], ["product_id", 30]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 24], ["inventoriable_type", "Warehouse"], ["product_id", 29]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 24], ["inventoriable_type", "Warehouse"], ["product_id", 30]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 24], ["created_at", "2016-11-02 14:07:33.730347"], ["updated_at", "2016-11-02 14:07:33.730347"]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 4], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:07:33.732746"], ["id", 138]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 4], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:07:33.735101"], ["id", 139]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 4], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-02 14:07:33.737977"], ["id", 140]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mShipment Load (0.2ms)[0m  [1mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.748250"], ["updated_at", "2016-11-02 14:07:33.748250"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.751864"], ["updated_at", "2016-11-02 14:07:33.751864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.754473"], ["updated_at", "2016-11-02 14:07:33.754473"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 31], ["inventoriable_id", 25], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.757812"], ["updated_at", "2016-11-02 14:07:33.757812"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 31], ["inventoriable_id", 25], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.761194"], ["updated_at", "2016-11-02 14:07:33.761194"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 32], ["inventoriable_id", 25], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.763908"], ["updated_at", "2016-11-02 14:07:33.763908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 25], ["inventoriable_type", "Warehouse"], ["product_id", 31]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.770828"], ["updated_at", "2016-11-02 14:07:33.770828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.773120"], ["updated_at", "2016-11-02 14:07:33.773120"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.775117"], ["updated_at", "2016-11-02 14:07:33.775117"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 33], ["inventoriable_id", 26], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.777784"], ["updated_at", "2016-11-02 14:07:33.777784"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 33], ["inventoriable_id", 26], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.780714"], ["updated_at", "2016-11-02 14:07:33.780714"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 34], ["inventoriable_id", 26], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.783243"], ["updated_at", "2016-11-02 14:07:33.783243"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 26], ["inventoriable_type", "Warehouse"], ["product_id", 33]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shipments"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.790085"], ["updated_at", "2016-11-02 14:07:33.790085"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.792872"], ["updated_at", "2016-11-02 14:07:33.792872"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:07:33.794949"], ["updated_at", "2016-11-02 14:07:33.794949"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 35], ["inventoriable_id", 27], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.797351"], ["updated_at", "2016-11-02 14:07:33.797351"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 35], ["inventoriable_id", 27], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.800361"], ["updated_at", "2016-11-02 14:07:33.800361"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 36], ["inventoriable_id", 27], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.803112"], ["updated_at", "2016-11-02 14:07:33.803112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 27], ["inventoriable_type", "Warehouse"], ["product_id", 35]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mWarehouse Load (0.1ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.814117"], ["updated_at", "2016-11-02 14:07:33.814117"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.816975"], ["updated_at", "2016-11-02 14:07:33.816975"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 14:07:33.819066"], ["updated_at", "2016-11-02 14:07:33.819066"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 37], ["inventoriable_id", 28], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.821292"], ["updated_at", "2016-11-02 14:07:33.821292"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 37], ["inventoriable_id", 28], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.824407"], ["updated_at", "2016-11-02 14:07:33.824407"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 38], ["inventoriable_id", 28], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.827233"], ["updated_at", "2016-11-02 14:07:33.827233"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.6ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 28], ["inventoriable_type", "Warehouse"], ["product_id", 37]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 28], ["inventoriable_type", "Warehouse"], ["product_id", 38]]
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2[0m  [["inventoriable_id", 28], ["inventoriable_type", "Warehouse"], ["product_id", 37]]
  [1m[35mInventoryItem Load (0.3ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1  [["inventoriable_id", 28], ["inventoriable_type", "Warehouse"], ["product_id", 38]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.841200"], ["updated_at", "2016-11-02 14:07:33.841200"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.843480"], ["updated_at", "2016-11-02 14:07:33.843480"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.845342"], ["updated_at", "2016-11-02 14:07:33.845342"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 39], ["inventoriable_id", 29], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.848285"], ["updated_at", "2016-11-02 14:07:33.848285"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 39], ["inventoriable_id", 29], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.851211"], ["updated_at", "2016-11-02 14:07:33.851211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 40], ["inventoriable_id", 29], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.853666"], ["updated_at", "2016-11-02 14:07:33.853666"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 29], ["inventoriable_type", "Warehouse"], ["product_id", 39]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 29], ["inventoriable_type", "Warehouse"], ["product_id", 40]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shipments"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-02 14:07:33.861632"], ["updated_at", "2016-11-02 14:07:33.861632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-02 14:07:33.864314"], ["updated_at", "2016-11-02 14:07:33.864314"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 14:07:33.866509"], ["updated_at", "2016-11-02 14:07:33.866509"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 41], ["inventoriable_id", 30], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.868728"], ["updated_at", "2016-11-02 14:07:33.868728"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 41], ["inventoriable_id", 30], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.871244"], ["updated_at", "2016-11-02 14:07:33.871244"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 42], ["inventoriable_id", 30], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-02 14:07:33.874258"], ["updated_at", "2016-11-02 14:07:33.874258"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 30], ["inventoriable_type", "Warehouse"], ["product_id", 41]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 30], ["inventoriable_type", "Warehouse"], ["product_id", 42]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mInventoryItem Load (0.1ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mInventoryItem Load (0.1ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mWarehouse Load (0.1ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.7ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 17:36:47.003138"], ["updated_at", "2016-11-02 17:36:47.003138"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 17:36:47.075868"], ["updated_at", "2016-11-02 17:36:47.075868"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-02 17:36:47.078949"], ["updated_at", "2016-11-02 17:36:47.078949"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.085723"], ["updated_at", "2016-11-02 17:36:47.085723"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.094045"], ["updated_at", "2016-11-02 17:36:47.094045"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.097919"], ["updated_at", "2016-11-02 17:36:47.097919"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.101023"], ["updated_at", "2016-11-02 17:36:47.101023"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.103588"], ["updated_at", "2016-11-02 17:36:47.103588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.106013"], ["updated_at", "2016-11-02 17:36:47.106013"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.108692"], ["updated_at", "2016-11-02 17:36:47.108692"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.111201"], ["updated_at", "2016-11-02 17:36:47.111201"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.113648"], ["updated_at", "2016-11-02 17:36:47.113648"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.116077"], ["updated_at", "2016-11-02 17:36:47.116077"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 32], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.118616"], ["updated_at", "2016-11-02 17:36:47.118616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 32], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.121205"], ["updated_at", "2016-11-02 17:36:47.121205"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 32], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.123642"], ["updated_at", "2016-11-02 17:36:47.123642"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 32], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.126064"], ["updated_at", "2016-11-02 17:36:47.126064"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 32], ["inventoriable_type", "Warehouse"], ["product_id", 43], ["created_at", "2016-11-02 17:36:47.128474"], ["updated_at", "2016-11-02 17:36:47.128474"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (1.2ms)[0m  [1mSELECT  "products".* FROM "products"  ORDER BY "products"."id" ASC LIMIT 1[0m
  [1m[35mWarehouse Load (0.4ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 31], ["inventoriable_type", "Warehouse"], ["product_id", 43]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 32], ["inventoriable_type", "Warehouse"], ["product_id", 43]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 17:38:11.383942"], ["updated_at", "2016-11-02 17:38:11.383942"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 17:38:11.442892"], ["updated_at", "2016-11-02 17:38:11.442892"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-02 17:38:11.445003"], ["updated_at", "2016-11-02 17:38:11.445003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.447947"], ["updated_at", "2016-11-02 17:38:11.447947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.450911"], ["updated_at", "2016-11-02 17:38:11.450911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.453473"], ["updated_at", "2016-11-02 17:38:11.453473"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.456082"], ["updated_at", "2016-11-02 17:38:11.456082"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.458792"], ["updated_at", "2016-11-02 17:38:11.458792"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.461517"], ["updated_at", "2016-11-02 17:38:11.461517"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.464073"], ["updated_at", "2016-11-02 17:38:11.464073"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.466555"], ["updated_at", "2016-11-02 17:38:11.466555"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.469179"], ["updated_at", "2016-11-02 17:38:11.469179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.471672"], ["updated_at", "2016-11-02 17:38:11.471672"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 34], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.474132"], ["updated_at", "2016-11-02 17:38:11.474132"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 34], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.476563"], ["updated_at", "2016-11-02 17:38:11.476563"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 34], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.479058"], ["updated_at", "2016-11-02 17:38:11.479058"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 34], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.481634"], ["updated_at", "2016-11-02 17:38:11.481634"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 34], ["inventoriable_type", "Warehouse"], ["product_id", 44], ["created_at", "2016-11-02 17:38:11.484153"], ["updated_at", "2016-11-02 17:38:11.484153"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products"  ORDER BY "products"."id" ASC LIMIT 1[0m
  [1m[35mInventoryItem Load (0.4ms)[0m  SELECT "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."product_id" = $1  [["product_id", 44]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products"  ORDER BY "products"."id" ASC LIMIT 1[0m
  [1m[35mWarehouse Load (0.5ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 33], ["inventoriable_type", "Warehouse"], ["product_id", 44]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 34], ["inventoriable_type", "Warehouse"], ["product_id", 44]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 17:38:47.634561"], ["updated_at", "2016-11-02 17:38:47.634561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 17:38:47.697668"], ["updated_at", "2016-11-02 17:38:47.697668"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-02 17:38:47.699654"], ["updated_at", "2016-11-02 17:38:47.699654"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.702422"], ["updated_at", "2016-11-02 17:38:47.702422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.705469"], ["updated_at", "2016-11-02 17:38:47.705469"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.708041"], ["updated_at", "2016-11-02 17:38:47.708041"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.710541"], ["updated_at", "2016-11-02 17:38:47.710541"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.713018"], ["updated_at", "2016-11-02 17:38:47.713018"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.715612"], ["updated_at", "2016-11-02 17:38:47.715612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.718131"], ["updated_at", "2016-11-02 17:38:47.718131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.720544"], ["updated_at", "2016-11-02 17:38:47.720544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.723405"], ["updated_at", "2016-11-02 17:38:47.723405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.725996"], ["updated_at", "2016-11-02 17:38:47.725996"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 36], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.728821"], ["updated_at", "2016-11-02 17:38:47.728821"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 36], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.731216"], ["updated_at", "2016-11-02 17:38:47.731216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 36], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.733677"], ["updated_at", "2016-11-02 17:38:47.733677"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 36], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.736587"], ["updated_at", "2016-11-02 17:38:47.736587"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 36], ["inventoriable_type", "Warehouse"], ["product_id", 45], ["created_at", "2016-11-02 17:38:47.739310"], ["updated_at", "2016-11-02 17:38:47.739310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "inventory_items" ON "inventory_items"."product_id" = "products"."id"[0m
  [1m[35mWarehouse Load (0.5ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 35], ["inventoriable_type", "Warehouse"], ["product_id", 45]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 36], ["inventoriable_type", "Warehouse"], ["product_id", 45]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-02 17:39:32.935468"], ["updated_at", "2016-11-02 17:39:32.935468"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-02 17:39:32.999999"], ["updated_at", "2016-11-02 17:39:32.999999"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-02 17:39:33.002372"], ["updated_at", "2016-11-02 17:39:33.002372"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.005522"], ["updated_at", "2016-11-02 17:39:33.005522"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.008806"], ["updated_at", "2016-11-02 17:39:33.008806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.011541"], ["updated_at", "2016-11-02 17:39:33.011541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.014087"], ["updated_at", "2016-11-02 17:39:33.014087"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.016595"], ["updated_at", "2016-11-02 17:39:33.016595"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.019216"], ["updated_at", "2016-11-02 17:39:33.019216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.021741"], ["updated_at", "2016-11-02 17:39:33.021741"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.024193"], ["updated_at", "2016-11-02 17:39:33.024193"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.026617"], ["updated_at", "2016-11-02 17:39:33.026617"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.029030"], ["updated_at", "2016-11-02 17:39:33.029030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 38], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.031575"], ["updated_at", "2016-11-02 17:39:33.031575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 38], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.033999"], ["updated_at", "2016-11-02 17:39:33.033999"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 38], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.036514"], ["updated_at", "2016-11-02 17:39:33.036514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 38], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.039008"], ["updated_at", "2016-11-02 17:39:33.039008"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 38], ["inventoriable_type", "Warehouse"], ["product_id", 46], ["created_at", "2016-11-02 17:39:33.041492"], ["updated_at", "2016-11-02 17:39:33.041492"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT  "products".* FROM "products"  ORDER BY "products"."id" ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "products" INNER JOIN "inventory_items" ON "inventory_items"."product_id" = "products"."id" WHERE "products"."id" = $1  [["id", 46]]
  [1m[36mWarehouse Load (56.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (4.9ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 37], ["inventoriable_type", "Warehouse"], ["product_id", 46]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 38], ["inventoriable_type", "Warehouse"], ["product_id", 46]]
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:03.103434"], ["updated_at", "2016-11-12 22:27:03.103434"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:03.110208"], ["updated_at", "2016-11-12 22:27:03.110208"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:27:03.112558"], ["updated_at", "2016-11-12 22:27:03.112558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.115561"], ["updated_at", "2016-11-12 22:27:03.115561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.118362"], ["updated_at", "2016-11-12 22:27:03.118362"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.120938"], ["updated_at", "2016-11-12 22:27:03.120938"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.123870"], ["updated_at", "2016-11-12 22:27:03.123870"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.126950"], ["updated_at", "2016-11-12 22:27:03.126950"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.129584"], ["updated_at", "2016-11-12 22:27:03.129584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.132023"], ["updated_at", "2016-11-12 22:27:03.132023"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.134580"], ["updated_at", "2016-11-12 22:27:03.134580"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.137184"], ["updated_at", "2016-11-12 22:27:03.137184"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.139624"], ["updated_at", "2016-11-12 22:27:03.139624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 40], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.142091"], ["updated_at", "2016-11-12 22:27:03.142091"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 40], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.144570"], ["updated_at", "2016-11-12 22:27:03.144570"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 40], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.147609"], ["updated_at", "2016-11-12 22:27:03.147609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 40], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.150413"], ["updated_at", "2016-11-12 22:27:03.150413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 40], ["inventoriable_type", "Warehouse"], ["product_id", 47], ["created_at", "2016-11-12 22:27:03.153654"], ["updated_at", "2016-11-12 22:27:03.153654"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 39], ["inventoriable_type", "Warehouse"], ["product_id", 47]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:03.163508"], ["updated_at", "2016-11-12 22:27:03.163508"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:03.166991"], ["updated_at", "2016-11-12 22:27:03.166991"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:27:03.169429"], ["updated_at", "2016-11-12 22:27:03.169429"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.172792"], ["updated_at", "2016-11-12 22:27:03.172792"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.175365"], ["updated_at", "2016-11-12 22:27:03.175365"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.177740"], ["updated_at", "2016-11-12 22:27:03.177740"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.180164"], ["updated_at", "2016-11-12 22:27:03.180164"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.183202"], ["updated_at", "2016-11-12 22:27:03.183202"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.186224"], ["updated_at", "2016-11-12 22:27:03.186224"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.188962"], ["updated_at", "2016-11-12 22:27:03.188962"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.191341"], ["updated_at", "2016-11-12 22:27:03.191341"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.194229"], ["updated_at", "2016-11-12 22:27:03.194229"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.196880"], ["updated_at", "2016-11-12 22:27:03.196880"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 42], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.199410"], ["updated_at", "2016-11-12 22:27:03.199410"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 42], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.202627"], ["updated_at", "2016-11-12 22:27:03.202627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 42], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.205394"], ["updated_at", "2016-11-12 22:27:03.205394"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 42], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.208011"], ["updated_at", "2016-11-12 22:27:03.208011"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 42], ["inventoriable_type", "Warehouse"], ["product_id", 48], ["created_at", "2016-11-12 22:27:03.210416"], ["updated_at", "2016-11-12 22:27:03.210416"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 41], ["inventoriable_type", "Warehouse"], ["product_id", 48]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.216656"], ["updated_at", "2016-11-12 22:27:03.216656"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.219083"], ["updated_at", "2016-11-12 22:27:03.219083"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:03.221712"], ["updated_at", "2016-11-12 22:27:03.221712"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_type", "product_id", "inventoriable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_type", "Warehouse"], ["product_id", 49], ["inventoriable_id", 43], ["created_at", "2016-11-12 22:27:03.222941"], ["updated_at", "2016-11-12 22:27:03.222941"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 49], ["created_at", "2016-11-12 22:27:03.226775"], ["updated_at", "2016-11-12 22:27:03.226775"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 49], ["created_at", "2016-11-12 22:27:03.229941"], ["updated_at", "2016-11-12 22:27:03.229941"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 49], ["created_at", "2016-11-12 22:27:03.233037"], ["updated_at", "2016-11-12 22:27:03.233037"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 49], ["created_at", "2016-11-12 22:27:03.237213"], ["updated_at", "2016-11-12 22:27:03.237213"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 50], ["created_at", "2016-11-12 22:27:03.241177"], ["updated_at", "2016-11-12 22:27:03.241177"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 50], ["created_at", "2016-11-12 22:27:03.244187"], ["updated_at", "2016-11-12 22:27:03.244187"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 50], ["created_at", "2016-11-12 22:27:03.246973"], ["updated_at", "2016-11-12 22:27:03.246973"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 50], ["created_at", "2016-11-12 22:27:03.249466"], ["updated_at", "2016-11-12 22:27:03.249466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 50], ["created_at", "2016-11-12 22:27:03.252698"], ["updated_at", "2016-11-12 22:27:03.252698"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 3[0m  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 49]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 43], ["inventoriable_type", "Warehouse"], ["product_id", 50]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.259061"], ["updated_at", "2016-11-12 22:27:03.259061"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.261394"], ["updated_at", "2016-11-12 22:27:03.261394"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:03.263480"], ["updated_at", "2016-11-12 22:27:03.263480"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 51], ["inventoriable_id", 44], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.266274"], ["updated_at", "2016-11-12 22:27:03.266274"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 51], ["inventoriable_id", 44], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.270388"], ["updated_at", "2016-11-12 22:27:03.270388"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 52], ["inventoriable_id", 44], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.273028"], ["updated_at", "2016-11-12 22:27:03.273028"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 44], ["inventoriable_type", "Warehouse"], ["product_id", 51]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 44], ["inventoriable_type", "Warehouse"], ["product_id", 52]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 44], ["inventoriable_type", "Warehouse"], ["product_id", 51]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 44], ["inventoriable_type", "Warehouse"], ["product_id", 52]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.8ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 44], ["created_at", "2016-11-12 22:27:03.279470"], ["updated_at", "2016-11-12 22:27:03.279470"]]
  [1m[35mProduct Load (0.9ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 5], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:03.293062"], ["id", 259]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 5], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:03.302889"], ["id", 260]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 5], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:03.305461"], ["id", 261]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.309046"], ["updated_at", "2016-11-12 22:27:03.309046"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.312038"], ["updated_at", "2016-11-12 22:27:03.312038"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:03.314003"], ["updated_at", "2016-11-12 22:27:03.314003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 53], ["inventoriable_id", 45], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.316266"], ["updated_at", "2016-11-12 22:27:03.316266"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 53], ["inventoriable_id", 45], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.319942"], ["updated_at", "2016-11-12 22:27:03.319942"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 54], ["inventoriable_id", 45], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.322846"], ["updated_at", "2016-11-12 22:27:03.322846"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 45], ["inventoriable_type", "Warehouse"], ["product_id", 53]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 45], ["inventoriable_type", "Warehouse"], ["product_id", 54]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 45], ["inventoriable_type", "Warehouse"], ["product_id", 53]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 45], ["inventoriable_type", "Warehouse"], ["product_id", 54]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 45], ["created_at", "2016-11-12 22:27:03.328684"], ["updated_at", "2016-11-12 22:27:03.328684"]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 6], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:03.330833"], ["id", 262]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 6], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:03.333469"], ["id", 263]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 6], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:03.335672"], ["id", 264]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 262]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 263]]
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 264]]
  [1m[35mShipment Load (0.3ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mShipment Load (0.4ms)[0m  [1mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.346902"], ["updated_at", "2016-11-12 22:27:03.346902"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.349248"], ["updated_at", "2016-11-12 22:27:03.349248"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:03.351635"], ["updated_at", "2016-11-12 22:27:03.351635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 55], ["inventoriable_id", 46], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.354134"], ["updated_at", "2016-11-12 22:27:03.354134"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 55], ["inventoriable_id", 46], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.356809"], ["updated_at", "2016-11-12 22:27:03.356809"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 56], ["inventoriable_id", 46], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.359323"], ["updated_at", "2016-11-12 22:27:03.359323"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 46], ["inventoriable_type", "Warehouse"], ["product_id", 55]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.366153"], ["updated_at", "2016-11-12 22:27:03.366153"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.369261"], ["updated_at", "2016-11-12 22:27:03.369261"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:03.371221"], ["updated_at", "2016-11-12 22:27:03.371221"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 57], ["inventoriable_id", 47], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.373496"], ["updated_at", "2016-11-12 22:27:03.373496"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 57], ["inventoriable_id", 47], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.375971"], ["updated_at", "2016-11-12 22:27:03.375971"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 58], ["inventoriable_id", 47], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.378969"], ["updated_at", "2016-11-12 22:27:03.378969"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 47], ["inventoriable_type", "Warehouse"], ["product_id", 57]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shipments"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.385020"], ["updated_at", "2016-11-12 22:27:03.385020"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.387352"], ["updated_at", "2016-11-12 22:27:03.387352"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:03.389140"], ["updated_at", "2016-11-12 22:27:03.389140"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 59], ["inventoriable_id", 48], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.392934"], ["updated_at", "2016-11-12 22:27:03.392934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 59], ["inventoriable_id", 48], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.397323"], ["updated_at", "2016-11-12 22:27:03.397323"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 60], ["inventoriable_id", 48], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.401238"], ["updated_at", "2016-11-12 22:27:03.401238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 48], ["inventoriable_type", "Warehouse"], ["product_id", 59]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 271]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 272]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 273]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.412715"], ["updated_at", "2016-11-12 22:27:03.412715"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.415113"], ["updated_at", "2016-11-12 22:27:03.415113"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:03.417397"], ["updated_at", "2016-11-12 22:27:03.417397"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 61], ["inventoriable_id", 49], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.420027"], ["updated_at", "2016-11-12 22:27:03.420027"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 61], ["inventoriable_id", 49], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.422964"], ["updated_at", "2016-11-12 22:27:03.422964"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 62], ["inventoriable_id", 49], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.425893"], ["updated_at", "2016-11-12 22:27:03.425893"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 49], ["inventoriable_type", "Warehouse"], ["product_id", 61]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 49], ["inventoriable_type", "Warehouse"], ["product_id", 62]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2[0m  [["inventoriable_id", 49], ["inventoriable_type", "Warehouse"], ["product_id", 61]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1  [["inventoriable_id", 49], ["inventoriable_type", "Warehouse"], ["product_id", 62]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.434906"], ["updated_at", "2016-11-12 22:27:03.434906"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.437555"], ["updated_at", "2016-11-12 22:27:03.437555"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:03.439607"], ["updated_at", "2016-11-12 22:27:03.439607"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 63], ["inventoriable_id", 50], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.441929"], ["updated_at", "2016-11-12 22:27:03.441929"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 63], ["inventoriable_id", 50], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.444482"], ["updated_at", "2016-11-12 22:27:03.444482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 64], ["inventoriable_id", 50], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.446967"], ["updated_at", "2016-11-12 22:27:03.446967"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 50], ["inventoriable_type", "Warehouse"], ["product_id", 63]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 50], ["inventoriable_type", "Warehouse"], ["product_id", 64]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shipments"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:03.455253"], ["updated_at", "2016-11-12 22:27:03.455253"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:03.457684"], ["updated_at", "2016-11-12 22:27:03.457684"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:03.459785"], ["updated_at", "2016-11-12 22:27:03.459785"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 65], ["inventoriable_id", 51], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.462224"], ["updated_at", "2016-11-12 22:27:03.462224"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 65], ["inventoriable_id", 51], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.464763"], ["updated_at", "2016-11-12 22:27:03.464763"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 66], ["inventoriable_id", 51], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:03.467743"], ["updated_at", "2016-11-12 22:27:03.467743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 51], ["inventoriable_type", "Warehouse"], ["product_id", 65]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 51], ["inventoriable_type", "Warehouse"], ["product_id", 66]]
  [1m[35mInventoryItem Load (0.1ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 280]]
  [1m[36mInventoryItem Load (0.1ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 281]]
  [1m[35mInventoryItem Load (0.1ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 282]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:45.664623"], ["updated_at", "2016-11-12 22:27:45.664623"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:45.728693"], ["updated_at", "2016-11-12 22:27:45.728693"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-12 22:27:45.731738"], ["updated_at", "2016-11-12 22:27:45.731738"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.736742"], ["updated_at", "2016-11-12 22:27:45.736742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.741476"], ["updated_at", "2016-11-12 22:27:45.741476"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.744772"], ["updated_at", "2016-11-12 22:27:45.744772"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.747387"], ["updated_at", "2016-11-12 22:27:45.747387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.749871"], ["updated_at", "2016-11-12 22:27:45.749871"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.752535"], ["updated_at", "2016-11-12 22:27:45.752535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.755037"], ["updated_at", "2016-11-12 22:27:45.755037"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.758034"], ["updated_at", "2016-11-12 22:27:45.758034"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.760586"], ["updated_at", "2016-11-12 22:27:45.760586"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.763307"], ["updated_at", "2016-11-12 22:27:45.763307"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 53], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.767604"], ["updated_at", "2016-11-12 22:27:45.767604"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 53], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.771732"], ["updated_at", "2016-11-12 22:27:45.771732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 53], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.775018"], ["updated_at", "2016-11-12 22:27:45.775018"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 53], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.777874"], ["updated_at", "2016-11-12 22:27:45.777874"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 53], ["inventoriable_type", "Warehouse"], ["product_id", 67], ["created_at", "2016-11-12 22:27:45.780550"], ["updated_at", "2016-11-12 22:27:45.780550"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 52], ["inventoriable_type", "Warehouse"], ["product_id", 67]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 53], ["inventoriable_type", "Warehouse"], ["product_id", 67]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:45.809308"], ["updated_at", "2016-11-12 22:27:45.809308"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:45.811520"], ["updated_at", "2016-11-12 22:27:45.811520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:27:45.813503"], ["updated_at", "2016-11-12 22:27:45.813503"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.816208"], ["updated_at", "2016-11-12 22:27:45.816208"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.818788"], ["updated_at", "2016-11-12 22:27:45.818788"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.821530"], ["updated_at", "2016-11-12 22:27:45.821530"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.824982"], ["updated_at", "2016-11-12 22:27:45.824982"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.827937"], ["updated_at", "2016-11-12 22:27:45.827937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.830416"], ["updated_at", "2016-11-12 22:27:45.830416"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.832850"], ["updated_at", "2016-11-12 22:27:45.832850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.835262"], ["updated_at", "2016-11-12 22:27:45.835262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.838050"], ["updated_at", "2016-11-12 22:27:45.838050"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.840599"], ["updated_at", "2016-11-12 22:27:45.840599"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 55], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.843134"], ["updated_at", "2016-11-12 22:27:45.843134"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 55], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.845714"], ["updated_at", "2016-11-12 22:27:45.845714"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 55], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.848196"], ["updated_at", "2016-11-12 22:27:45.848196"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 55], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.851401"], ["updated_at", "2016-11-12 22:27:45.851401"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 55], ["inventoriable_type", "Warehouse"], ["product_id", 68], ["created_at", "2016-11-12 22:27:45.854639"], ["updated_at", "2016-11-12 22:27:45.854639"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 54], ["inventoriable_type", "Warehouse"], ["product_id", 68]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:45.861892"], ["updated_at", "2016-11-12 22:27:45.861892"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:45.864852"], ["updated_at", "2016-11-12 22:27:45.864852"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:27:45.866923"], ["updated_at", "2016-11-12 22:27:45.866923"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.869593"], ["updated_at", "2016-11-12 22:27:45.869593"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.872364"], ["updated_at", "2016-11-12 22:27:45.872364"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.875207"], ["updated_at", "2016-11-12 22:27:45.875207"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.877778"], ["updated_at", "2016-11-12 22:27:45.877778"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.880804"], ["updated_at", "2016-11-12 22:27:45.880804"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.885259"], ["updated_at", "2016-11-12 22:27:45.885259"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.889213"], ["updated_at", "2016-11-12 22:27:45.889213"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.892232"], ["updated_at", "2016-11-12 22:27:45.892232"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.895290"], ["updated_at", "2016-11-12 22:27:45.895290"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.898466"], ["updated_at", "2016-11-12 22:27:45.898466"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 57], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.901357"], ["updated_at", "2016-11-12 22:27:45.901357"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 57], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.904325"], ["updated_at", "2016-11-12 22:27:45.904325"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 57], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.906980"], ["updated_at", "2016-11-12 22:27:45.906980"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 57], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.909674"], ["updated_at", "2016-11-12 22:27:45.909674"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 57], ["inventoriable_type", "Warehouse"], ["product_id", 69], ["created_at", "2016-11-12 22:27:45.912177"], ["updated_at", "2016-11-12 22:27:45.912177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 56], ["inventoriable_type", "Warehouse"], ["product_id", 69]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:27:45.919939"], ["updated_at", "2016-11-12 22:27:45.919939"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:27:45.923806"], ["updated_at", "2016-11-12 22:27:45.923806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:45.927101"], ["updated_at", "2016-11-12 22:27:45.927101"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_type", "product_id", "inventoriable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_type", "Warehouse"], ["product_id", 70], ["inventoriable_id", 58], ["created_at", "2016-11-12 22:27:45.928472"], ["updated_at", "2016-11-12 22:27:45.928472"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 70], ["created_at", "2016-11-12 22:27:45.931728"], ["updated_at", "2016-11-12 22:27:45.931728"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 70], ["created_at", "2016-11-12 22:27:45.934375"], ["updated_at", "2016-11-12 22:27:45.934375"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 70], ["created_at", "2016-11-12 22:27:45.936857"], ["updated_at", "2016-11-12 22:27:45.936857"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 70], ["created_at", "2016-11-12 22:27:45.939301"], ["updated_at", "2016-11-12 22:27:45.939301"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 71], ["created_at", "2016-11-12 22:27:45.941980"], ["updated_at", "2016-11-12 22:27:45.941980"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 71], ["created_at", "2016-11-12 22:27:45.944524"], ["updated_at", "2016-11-12 22:27:45.944524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 71], ["created_at", "2016-11-12 22:27:45.946970"], ["updated_at", "2016-11-12 22:27:45.946970"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 71], ["created_at", "2016-11-12 22:27:45.949387"], ["updated_at", "2016-11-12 22:27:45.949387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 71], ["created_at", "2016-11-12 22:27:45.953442"], ["updated_at", "2016-11-12 22:27:45.953442"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 3[0m  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 70]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 58], ["inventoriable_type", "Warehouse"], ["product_id", 71]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:45.962192"], ["updated_at", "2016-11-12 22:27:45.962192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:45.965305"], ["updated_at", "2016-11-12 22:27:45.965305"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:45.967795"], ["updated_at", "2016-11-12 22:27:45.967795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 72], ["inventoriable_id", 59], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:45.970583"], ["updated_at", "2016-11-12 22:27:45.970583"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 72], ["inventoriable_id", 59], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:45.973517"], ["updated_at", "2016-11-12 22:27:45.973517"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 73], ["inventoriable_id", 59], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:45.976638"], ["updated_at", "2016-11-12 22:27:45.976638"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 59], ["inventoriable_type", "Warehouse"], ["product_id", 72]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 59], ["inventoriable_type", "Warehouse"], ["product_id", 73]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 59], ["inventoriable_type", "Warehouse"], ["product_id", 72]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 59], ["inventoriable_type", "Warehouse"], ["product_id", 73]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 59], ["created_at", "2016-11-12 22:27:45.983166"], ["updated_at", "2016-11-12 22:27:45.983166"]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 7], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:45.997353"], ["id", 338]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 7], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:46.003111"], ["id", 339]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 7], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:46.005796"], ["id", 340]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:46.009447"], ["updated_at", "2016-11-12 22:27:46.009447"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:46.012152"], ["updated_at", "2016-11-12 22:27:46.012152"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:46.014345"], ["updated_at", "2016-11-12 22:27:46.014345"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 74], ["inventoriable_id", 60], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.017215"], ["updated_at", "2016-11-12 22:27:46.017215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 74], ["inventoriable_id", 60], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.019833"], ["updated_at", "2016-11-12 22:27:46.019833"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 75], ["inventoriable_id", 60], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.022387"], ["updated_at", "2016-11-12 22:27:46.022387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 60], ["inventoriable_type", "Warehouse"], ["product_id", 74]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 60], ["inventoriable_type", "Warehouse"], ["product_id", 75]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 60], ["inventoriable_type", "Warehouse"], ["product_id", 74]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 60], ["inventoriable_type", "Warehouse"], ["product_id", 75]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 60], ["created_at", "2016-11-12 22:27:46.029296"], ["updated_at", "2016-11-12 22:27:46.029296"]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 8], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:46.031604"], ["id", 341]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 8], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:46.033875"], ["id", 342]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 8], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:27:46.036515"], ["id", 343]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 341]]
  [1m[35mInventoryItem Load (0.3ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 342]]
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 343]]
  [1m[35mShipment Load (0.3ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mShipment Load (0.2ms)[0m  [1mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:46.048614"], ["updated_at", "2016-11-12 22:27:46.048614"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:46.051125"], ["updated_at", "2016-11-12 22:27:46.051125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:46.053640"], ["updated_at", "2016-11-12 22:27:46.053640"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 76], ["inventoriable_id", 61], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.056257"], ["updated_at", "2016-11-12 22:27:46.056257"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 76], ["inventoriable_id", 61], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.059254"], ["updated_at", "2016-11-12 22:27:46.059254"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 77], ["inventoriable_id", 61], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.061881"], ["updated_at", "2016-11-12 22:27:46.061881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 61], ["inventoriable_type", "Warehouse"], ["product_id", 76]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:46.069175"], ["updated_at", "2016-11-12 22:27:46.069175"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:46.072730"], ["updated_at", "2016-11-12 22:27:46.072730"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:46.075828"], ["updated_at", "2016-11-12 22:27:46.075828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 78], ["inventoriable_id", 62], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.079440"], ["updated_at", "2016-11-12 22:27:46.079440"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 78], ["inventoriable_id", 62], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.082663"], ["updated_at", "2016-11-12 22:27:46.082663"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 79], ["inventoriable_id", 62], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.085322"], ["updated_at", "2016-11-12 22:27:46.085322"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 62], ["inventoriable_type", "Warehouse"], ["product_id", 78]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shipments"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:27:46.091236"], ["updated_at", "2016-11-12 22:27:46.091236"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:27:46.093669"], ["updated_at", "2016-11-12 22:27:46.093669"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:46.095553"], ["updated_at", "2016-11-12 22:27:46.095553"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 80], ["inventoriable_id", 63], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.097839"], ["updated_at", "2016-11-12 22:27:46.097839"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 80], ["inventoriable_id", 63], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.100424"], ["updated_at", "2016-11-12 22:27:46.100424"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 81], ["inventoriable_id", 63], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.103963"], ["updated_at", "2016-11-12 22:27:46.103963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 63], ["inventoriable_type", "Warehouse"], ["product_id", 80]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 350]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 351]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 352]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:27:46.116338"], ["updated_at", "2016-11-12 22:27:46.116338"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:27:46.119806"], ["updated_at", "2016-11-12 22:27:46.119806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:27:46.122315"], ["updated_at", "2016-11-12 22:27:46.122315"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 82], ["inventoriable_id", 64], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.124834"], ["updated_at", "2016-11-12 22:27:46.124834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 82], ["inventoriable_id", 64], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.127713"], ["updated_at", "2016-11-12 22:27:46.127713"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 83], ["inventoriable_id", 64], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.130295"], ["updated_at", "2016-11-12 22:27:46.130295"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.3ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 64], ["inventoriable_type", "Warehouse"], ["product_id", 82]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 64], ["inventoriable_type", "Warehouse"], ["product_id", 83]]
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2[0m  [["inventoriable_id", 64], ["inventoriable_type", "Warehouse"], ["product_id", 82]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1  [["inventoriable_id", 64], ["inventoriable_type", "Warehouse"], ["product_id", 83]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:46.143357"], ["updated_at", "2016-11-12 22:27:46.143357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:46.145947"], ["updated_at", "2016-11-12 22:27:46.145947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:46.147843"], ["updated_at", "2016-11-12 22:27:46.147843"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 84], ["inventoriable_id", 65], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.150525"], ["updated_at", "2016-11-12 22:27:46.150525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 84], ["inventoriable_id", 65], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.154069"], ["updated_at", "2016-11-12 22:27:46.154069"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 85], ["inventoriable_id", 65], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.156918"], ["updated_at", "2016-11-12 22:27:46.156918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 65], ["inventoriable_type", "Warehouse"], ["product_id", 84]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 65], ["inventoriable_type", "Warehouse"], ["product_id", 85]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "shipments"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:27:46.164770"], ["updated_at", "2016-11-12 22:27:46.164770"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:27:46.168044"], ["updated_at", "2016-11-12 22:27:46.168044"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:27:46.170607"], ["updated_at", "2016-11-12 22:27:46.170607"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 86], ["inventoriable_id", 66], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.173637"], ["updated_at", "2016-11-12 22:27:46.173637"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 86], ["inventoriable_id", 66], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.176837"], ["updated_at", "2016-11-12 22:27:46.176837"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 87], ["inventoriable_id", 66], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:27:46.179543"], ["updated_at", "2016-11-12 22:27:46.179543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 66], ["inventoriable_type", "Warehouse"], ["product_id", 86]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 66], ["inventoriable_type", "Warehouse"], ["product_id", 87]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 359]]
  [1m[36mInventoryItem Load (0.1ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 360]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 361]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.219505"], ["updated_at", "2016-11-12 22:29:10.219505"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:10.287623"], ["updated_at", "2016-11-12 22:29:10.287623"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-12 22:29:10.290042"], ["updated_at", "2016-11-12 22:29:10.290042"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.296514"], ["updated_at", "2016-11-12 22:29:10.296514"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.302806"], ["updated_at", "2016-11-12 22:29:10.302806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.305596"], ["updated_at", "2016-11-12 22:29:10.305596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.308110"], ["updated_at", "2016-11-12 22:29:10.308110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.310596"], ["updated_at", "2016-11-12 22:29:10.310596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.313412"], ["updated_at", "2016-11-12 22:29:10.313412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.316087"], ["updated_at", "2016-11-12 22:29:10.316087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.318524"], ["updated_at", "2016-11-12 22:29:10.318524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.320918"], ["updated_at", "2016-11-12 22:29:10.320918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.323304"], ["updated_at", "2016-11-12 22:29:10.323304"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 68], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.326111"], ["updated_at", "2016-11-12 22:29:10.326111"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 68], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.328620"], ["updated_at", "2016-11-12 22:29:10.328620"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 68], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.331050"], ["updated_at", "2016-11-12 22:29:10.331050"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 68], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.333470"], ["updated_at", "2016-11-12 22:29:10.333470"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 68], ["inventoriable_type", "Warehouse"], ["product_id", 88], ["created_at", "2016-11-12 22:29:10.336011"], ["updated_at", "2016-11-12 22:29:10.336011"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 67], ["inventoriable_type", "Warehouse"], ["product_id", 88]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 68], ["inventoriable_type", "Warehouse"], ["product_id", 88]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:10.365667"], ["updated_at", "2016-11-12 22:29:10.365667"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.368024"], ["updated_at", "2016-11-12 22:29:10.368024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:29:10.369894"], ["updated_at", "2016-11-12 22:29:10.369894"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.372632"], ["updated_at", "2016-11-12 22:29:10.372632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.375236"], ["updated_at", "2016-11-12 22:29:10.375236"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.377691"], ["updated_at", "2016-11-12 22:29:10.377691"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.380108"], ["updated_at", "2016-11-12 22:29:10.380108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.382709"], ["updated_at", "2016-11-12 22:29:10.382709"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.385348"], ["updated_at", "2016-11-12 22:29:10.385348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.387839"], ["updated_at", "2016-11-12 22:29:10.387839"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.390413"], ["updated_at", "2016-11-12 22:29:10.390413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.392893"], ["updated_at", "2016-11-12 22:29:10.392893"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.395487"], ["updated_at", "2016-11-12 22:29:10.395487"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 70], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.397996"], ["updated_at", "2016-11-12 22:29:10.397996"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 70], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.400451"], ["updated_at", "2016-11-12 22:29:10.400451"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 70], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.403478"], ["updated_at", "2016-11-12 22:29:10.403478"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 70], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.406449"], ["updated_at", "2016-11-12 22:29:10.406449"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 70], ["inventoriable_type", "Warehouse"], ["product_id", 89], ["created_at", "2016-11-12 22:29:10.409473"], ["updated_at", "2016-11-12 22:29:10.409473"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 69], ["inventoriable_type", "Warehouse"], ["product_id", 89]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:10.417067"], ["updated_at", "2016-11-12 22:29:10.417067"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.419465"], ["updated_at", "2016-11-12 22:29:10.419465"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:29:10.421332"], ["updated_at", "2016-11-12 22:29:10.421332"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.423698"], ["updated_at", "2016-11-12 22:29:10.423698"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.426273"], ["updated_at", "2016-11-12 22:29:10.426273"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.428951"], ["updated_at", "2016-11-12 22:29:10.428951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.431632"], ["updated_at", "2016-11-12 22:29:10.431632"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.434054"], ["updated_at", "2016-11-12 22:29:10.434054"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.436436"], ["updated_at", "2016-11-12 22:29:10.436436"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.438783"], ["updated_at", "2016-11-12 22:29:10.438783"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.441590"], ["updated_at", "2016-11-12 22:29:10.441590"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.444149"], ["updated_at", "2016-11-12 22:29:10.444149"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.446551"], ["updated_at", "2016-11-12 22:29:10.446551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 72], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.448958"], ["updated_at", "2016-11-12 22:29:10.448958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 72], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.451447"], ["updated_at", "2016-11-12 22:29:10.451447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 72], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.454900"], ["updated_at", "2016-11-12 22:29:10.454900"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 72], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.457664"], ["updated_at", "2016-11-12 22:29:10.457664"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 72], ["inventoriable_type", "Warehouse"], ["product_id", 90], ["created_at", "2016-11-12 22:29:10.461354"], ["updated_at", "2016-11-12 22:29:10.461354"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.3ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 71], ["inventoriable_type", "Warehouse"], ["product_id", 90]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.467320"], ["updated_at", "2016-11-12 22:29:10.467320"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.469609"], ["updated_at", "2016-11-12 22:29:10.469609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:10.472101"], ["updated_at", "2016-11-12 22:29:10.472101"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_type", "product_id", "inventoriable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_type", "Warehouse"], ["product_id", 91], ["inventoriable_id", 73], ["created_at", "2016-11-12 22:29:10.473272"], ["updated_at", "2016-11-12 22:29:10.473272"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 91], ["created_at", "2016-11-12 22:29:10.477348"], ["updated_at", "2016-11-12 22:29:10.477348"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 91], ["created_at", "2016-11-12 22:29:10.483136"], ["updated_at", "2016-11-12 22:29:10.483136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 91], ["created_at", "2016-11-12 22:29:10.486087"], ["updated_at", "2016-11-12 22:29:10.486087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 91], ["created_at", "2016-11-12 22:29:10.489799"], ["updated_at", "2016-11-12 22:29:10.489799"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 92], ["created_at", "2016-11-12 22:29:10.492629"], ["updated_at", "2016-11-12 22:29:10.492629"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 92], ["created_at", "2016-11-12 22:29:10.495079"], ["updated_at", "2016-11-12 22:29:10.495079"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 92], ["created_at", "2016-11-12 22:29:10.497498"], ["updated_at", "2016-11-12 22:29:10.497498"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 92], ["created_at", "2016-11-12 22:29:10.500107"], ["updated_at", "2016-11-12 22:29:10.500107"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 92], ["created_at", "2016-11-12 22:29:10.502701"], ["updated_at", "2016-11-12 22:29:10.502701"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 3[0m  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 91]]
  [1m[35mInventoryItem Load (0.4ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 73], ["inventoriable_type", "Warehouse"], ["product_id", 92]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.512148"], ["updated_at", "2016-11-12 22:29:10.512148"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.514640"], ["updated_at", "2016-11-12 22:29:10.514640"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.516377"], ["updated_at", "2016-11-12 22:29:10.516377"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 93], ["inventoriable_id", 74], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.518570"], ["updated_at", "2016-11-12 22:29:10.518570"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 93], ["inventoriable_id", 74], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.521330"], ["updated_at", "2016-11-12 22:29:10.521330"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 94], ["inventoriable_id", 74], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.523965"], ["updated_at", "2016-11-12 22:29:10.523965"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 74], ["inventoriable_type", "Warehouse"], ["product_id", 93]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 74], ["inventoriable_type", "Warehouse"], ["product_id", 94]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 74], ["inventoriable_type", "Warehouse"], ["product_id", 93]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 74], ["inventoriable_type", "Warehouse"], ["product_id", 94]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 74], ["created_at", "2016-11-12 22:29:10.530172"], ["updated_at", "2016-11-12 22:29:10.530172"]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 9], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:10.540124"], ["id", 417]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 9], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:10.545449"], ["id", 418]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 9], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:10.548081"], ["id", 419]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.551765"], ["updated_at", "2016-11-12 22:29:10.551765"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.554868"], ["updated_at", "2016-11-12 22:29:10.554868"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.557253"], ["updated_at", "2016-11-12 22:29:10.557253"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 95], ["inventoriable_id", 75], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.560193"], ["updated_at", "2016-11-12 22:29:10.560193"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 95], ["inventoriable_id", 75], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.562934"], ["updated_at", "2016-11-12 22:29:10.562934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 96], ["inventoriable_id", 75], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.565518"], ["updated_at", "2016-11-12 22:29:10.565518"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 75], ["inventoriable_type", "Warehouse"], ["product_id", 95]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 75], ["inventoriable_type", "Warehouse"], ["product_id", 96]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 75], ["inventoriable_type", "Warehouse"], ["product_id", 95]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 75], ["inventoriable_type", "Warehouse"], ["product_id", 96]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 75], ["created_at", "2016-11-12 22:29:10.572149"], ["updated_at", "2016-11-12 22:29:10.572149"]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 10], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:10.574707"], ["id", 420]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 10], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:10.578423"], ["id", 421]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 10], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:10.582380"], ["id", 422]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 420]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 421]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 422]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mShipment Load (0.2ms)[0m  [1mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mShipment Load (0.1ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.592724"], ["updated_at", "2016-11-12 22:29:10.592724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.595186"], ["updated_at", "2016-11-12 22:29:10.595186"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.597029"], ["updated_at", "2016-11-12 22:29:10.597029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 97], ["inventoriable_id", 76], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.599255"], ["updated_at", "2016-11-12 22:29:10.599255"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 97], ["inventoriable_id", 76], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.601919"], ["updated_at", "2016-11-12 22:29:10.601919"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 98], ["inventoriable_id", 76], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.605276"], ["updated_at", "2016-11-12 22:29:10.605276"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 76], ["inventoriable_type", "Warehouse"], ["product_id", 97]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.612775"], ["updated_at", "2016-11-12 22:29:10.612775"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.615323"], ["updated_at", "2016-11-12 22:29:10.615323"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.617165"], ["updated_at", "2016-11-12 22:29:10.617165"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 99], ["inventoriable_id", 77], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.619414"], ["updated_at", "2016-11-12 22:29:10.619414"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 99], ["inventoriable_id", 77], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.621921"], ["updated_at", "2016-11-12 22:29:10.621921"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 100], ["inventoriable_id", 77], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.624418"], ["updated_at", "2016-11-12 22:29:10.624418"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 77], ["inventoriable_type", "Warehouse"], ["product_id", 99]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shipments"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.631092"], ["updated_at", "2016-11-12 22:29:10.631092"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.634868"], ["updated_at", "2016-11-12 22:29:10.634868"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:10.637812"], ["updated_at", "2016-11-12 22:29:10.637812"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 101], ["inventoriable_id", 78], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.640347"], ["updated_at", "2016-11-12 22:29:10.640347"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 101], ["inventoriable_id", 78], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.642890"], ["updated_at", "2016-11-12 22:29:10.642890"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 102], ["inventoriable_id", 78], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.645364"], ["updated_at", "2016-11-12 22:29:10.645364"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 78], ["inventoriable_type", "Warehouse"], ["product_id", 101]]
  [1m[35mInventoryItem Load (0.3ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 429]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 430]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 431]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.656769"], ["updated_at", "2016-11-12 22:29:10.656769"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.659569"], ["updated_at", "2016-11-12 22:29:10.659569"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:10.662084"], ["updated_at", "2016-11-12 22:29:10.662084"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 103], ["inventoriable_id", 79], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.664667"], ["updated_at", "2016-11-12 22:29:10.664667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 103], ["inventoriable_id", 79], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.667166"], ["updated_at", "2016-11-12 22:29:10.667166"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 104], ["inventoriable_id", 79], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.669608"], ["updated_at", "2016-11-12 22:29:10.669608"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 79], ["inventoriable_type", "Warehouse"], ["product_id", 103]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 79], ["inventoriable_type", "Warehouse"], ["product_id", 104]]
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2[0m  [["inventoriable_id", 79], ["inventoriable_type", "Warehouse"], ["product_id", 103]]
  [1m[35mInventoryItem Load (0.3ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1  [["inventoriable_id", 79], ["inventoriable_type", "Warehouse"], ["product_id", 104]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.680959"], ["updated_at", "2016-11-12 22:29:10.680959"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.683593"], ["updated_at", "2016-11-12 22:29:10.683593"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.686412"], ["updated_at", "2016-11-12 22:29:10.686412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 105], ["inventoriable_id", 80], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.689105"], ["updated_at", "2016-11-12 22:29:10.689105"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 105], ["inventoriable_id", 80], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.691584"], ["updated_at", "2016-11-12 22:29:10.691584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 106], ["inventoriable_id", 80], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.694015"], ["updated_at", "2016-11-12 22:29:10.694015"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 80], ["inventoriable_type", "Warehouse"], ["product_id", 105]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 80], ["inventoriable_type", "Warehouse"], ["product_id", 106]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shipments"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:10.701558"], ["updated_at", "2016-11-12 22:29:10.701558"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:10.704495"], ["updated_at", "2016-11-12 22:29:10.704495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:10.706622"], ["updated_at", "2016-11-12 22:29:10.706622"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 107], ["inventoriable_id", 81], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.709454"], ["updated_at", "2016-11-12 22:29:10.709454"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 107], ["inventoriable_id", 81], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.712722"], ["updated_at", "2016-11-12 22:29:10.712722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 108], ["inventoriable_id", 81], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:10.715272"], ["updated_at", "2016-11-12 22:29:10.715272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 81], ["inventoriable_type", "Warehouse"], ["product_id", 107]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 81], ["inventoriable_type", "Warehouse"], ["product_id", 108]]
  [1m[35mInventoryItem Load (0.1ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 438]]
  [1m[36mInventoryItem Load (0.1ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 439]]
  [1m[35mInventoryItem Load (0.1ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 440]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.533905"], ["updated_at", "2016-11-12 22:29:34.533905"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:34.596383"], ["updated_at", "2016-11-12 22:29:34.596383"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-12 22:29:34.598696"], ["updated_at", "2016-11-12 22:29:34.598696"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.606152"], ["updated_at", "2016-11-12 22:29:34.606152"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.614132"], ["updated_at", "2016-11-12 22:29:34.614132"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.618032"], ["updated_at", "2016-11-12 22:29:34.618032"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.621154"], ["updated_at", "2016-11-12 22:29:34.621154"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.623817"], ["updated_at", "2016-11-12 22:29:34.623817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.626488"], ["updated_at", "2016-11-12 22:29:34.626488"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.629006"], ["updated_at", "2016-11-12 22:29:34.629006"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.631498"], ["updated_at", "2016-11-12 22:29:34.631498"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.633904"], ["updated_at", "2016-11-12 22:29:34.633904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.636444"], ["updated_at", "2016-11-12 22:29:34.636444"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 83], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.638948"], ["updated_at", "2016-11-12 22:29:34.638948"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 83], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.641373"], ["updated_at", "2016-11-12 22:29:34.641373"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 83], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.643789"], ["updated_at", "2016-11-12 22:29:34.643789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 83], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.646223"], ["updated_at", "2016-11-12 22:29:34.646223"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 83], ["inventoriable_type", "Warehouse"], ["product_id", 109], ["created_at", "2016-11-12 22:29:34.648810"], ["updated_at", "2016-11-12 22:29:34.648810"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 82], ["inventoriable_type", "Warehouse"], ["product_id", 109]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 83], ["inventoriable_type", "Warehouse"], ["product_id", 109]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:34.675733"], ["updated_at", "2016-11-12 22:29:34.675733"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.677830"], ["updated_at", "2016-11-12 22:29:34.677830"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:29:34.679398"], ["updated_at", "2016-11-12 22:29:34.679398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.681668"], ["updated_at", "2016-11-12 22:29:34.681668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.684673"], ["updated_at", "2016-11-12 22:29:34.684673"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.687261"], ["updated_at", "2016-11-12 22:29:34.687261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.689686"], ["updated_at", "2016-11-12 22:29:34.689686"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.692099"], ["updated_at", "2016-11-12 22:29:34.692099"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.694669"], ["updated_at", "2016-11-12 22:29:34.694669"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.697205"], ["updated_at", "2016-11-12 22:29:34.697205"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.699627"], ["updated_at", "2016-11-12 22:29:34.699627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.702089"], ["updated_at", "2016-11-12 22:29:34.702089"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.704587"], ["updated_at", "2016-11-12 22:29:34.704587"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 85], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.707322"], ["updated_at", "2016-11-12 22:29:34.707322"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 85], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.709898"], ["updated_at", "2016-11-12 22:29:34.709898"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 85], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.712260"], ["updated_at", "2016-11-12 22:29:34.712260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 85], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.714608"], ["updated_at", "2016-11-12 22:29:34.714608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 85], ["inventoriable_type", "Warehouse"], ["product_id", 110], ["created_at", "2016-11-12 22:29:34.717100"], ["updated_at", "2016-11-12 22:29:34.717100"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 84], ["inventoriable_type", "Warehouse"], ["product_id", 110]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:34.723616"], ["updated_at", "2016-11-12 22:29:34.723616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.725525"], ["updated_at", "2016-11-12 22:29:34.725525"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:29:34.727441"], ["updated_at", "2016-11-12 22:29:34.727441"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.730104"], ["updated_at", "2016-11-12 22:29:34.730104"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.732645"], ["updated_at", "2016-11-12 22:29:34.732645"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.735030"], ["updated_at", "2016-11-12 22:29:34.735030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.737392"], ["updated_at", "2016-11-12 22:29:34.737392"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.739757"], ["updated_at", "2016-11-12 22:29:34.739757"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.742441"], ["updated_at", "2016-11-12 22:29:34.742441"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.744836"], ["updated_at", "2016-11-12 22:29:34.744836"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.747171"], ["updated_at", "2016-11-12 22:29:34.747171"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.749494"], ["updated_at", "2016-11-12 22:29:34.749494"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.752208"], ["updated_at", "2016-11-12 22:29:34.752208"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 87], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.755091"], ["updated_at", "2016-11-12 22:29:34.755091"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 87], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.757556"], ["updated_at", "2016-11-12 22:29:34.757556"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 87], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.759971"], ["updated_at", "2016-11-12 22:29:34.759971"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 87], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.762433"], ["updated_at", "2016-11-12 22:29:34.762433"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 87], ["inventoriable_type", "Warehouse"], ["product_id", 111], ["created_at", "2016-11-12 22:29:34.765213"], ["updated_at", "2016-11-12 22:29:34.765213"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 86], ["inventoriable_type", "Warehouse"], ["product_id", 111]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.770747"], ["updated_at", "2016-11-12 22:29:34.770747"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.773792"], ["updated_at", "2016-11-12 22:29:34.773792"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:34.776734"], ["updated_at", "2016-11-12 22:29:34.776734"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_type", "product_id", "inventoriable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_type", "Warehouse"], ["product_id", 112], ["inventoriable_id", 88], ["created_at", "2016-11-12 22:29:34.777963"], ["updated_at", "2016-11-12 22:29:34.777963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 112], ["created_at", "2016-11-12 22:29:34.780588"], ["updated_at", "2016-11-12 22:29:34.780588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 112], ["created_at", "2016-11-12 22:29:34.783019"], ["updated_at", "2016-11-12 22:29:34.783019"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 112], ["created_at", "2016-11-12 22:29:34.785377"], ["updated_at", "2016-11-12 22:29:34.785377"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 112], ["created_at", "2016-11-12 22:29:34.787907"], ["updated_at", "2016-11-12 22:29:34.787907"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 113], ["created_at", "2016-11-12 22:29:34.790361"], ["updated_at", "2016-11-12 22:29:34.790361"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 113], ["created_at", "2016-11-12 22:29:34.792766"], ["updated_at", "2016-11-12 22:29:34.792766"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 113], ["created_at", "2016-11-12 22:29:34.795158"], ["updated_at", "2016-11-12 22:29:34.795158"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 113], ["created_at", "2016-11-12 22:29:34.797566"], ["updated_at", "2016-11-12 22:29:34.797566"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 113], ["created_at", "2016-11-12 22:29:34.800216"], ["updated_at", "2016-11-12 22:29:34.800216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 3[0m  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 112]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 88], ["inventoriable_type", "Warehouse"], ["product_id", 113]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.807472"], ["updated_at", "2016-11-12 22:29:34.807472"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.809714"], ["updated_at", "2016-11-12 22:29:34.809714"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.811644"], ["updated_at", "2016-11-12 22:29:34.811644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 114], ["inventoriable_id", 89], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.813861"], ["updated_at", "2016-11-12 22:29:34.813861"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 114], ["inventoriable_id", 89], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.816499"], ["updated_at", "2016-11-12 22:29:34.816499"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 115], ["inventoriable_id", 89], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.818954"], ["updated_at", "2016-11-12 22:29:34.818954"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 89], ["inventoriable_type", "Warehouse"], ["product_id", 114]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 89], ["inventoriable_type", "Warehouse"], ["product_id", 115]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 89], ["inventoriable_type", "Warehouse"], ["product_id", 114]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 89], ["inventoriable_type", "Warehouse"], ["product_id", 115]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 89], ["created_at", "2016-11-12 22:29:34.825526"], ["updated_at", "2016-11-12 22:29:34.825526"]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 11], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:34.836247"], ["id", 496]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 11], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:34.840447"], ["id", 497]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 11], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:34.842913"], ["id", 498]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.846432"], ["updated_at", "2016-11-12 22:29:34.846432"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.848681"], ["updated_at", "2016-11-12 22:29:34.848681"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.850397"], ["updated_at", "2016-11-12 22:29:34.850397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 116], ["inventoriable_id", 90], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.852616"], ["updated_at", "2016-11-12 22:29:34.852616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 116], ["inventoriable_id", 90], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.855188"], ["updated_at", "2016-11-12 22:29:34.855188"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 117], ["inventoriable_id", 90], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.857994"], ["updated_at", "2016-11-12 22:29:34.857994"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 90], ["inventoriable_type", "Warehouse"], ["product_id", 116]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 90], ["inventoriable_type", "Warehouse"], ["product_id", 117]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 90], ["inventoriable_type", "Warehouse"], ["product_id", 116]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 90], ["inventoriable_type", "Warehouse"], ["product_id", 117]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 90], ["created_at", "2016-11-12 22:29:34.864019"], ["updated_at", "2016-11-12 22:29:34.864019"]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 12], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:34.866366"], ["id", 499]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 12], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:34.868858"], ["id", 500]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 12], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:29:34.871042"], ["id", 501]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 499]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 500]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 501]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mShipment Load (0.2ms)[0m  [1mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.880194"], ["updated_at", "2016-11-12 22:29:34.880194"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.882505"], ["updated_at", "2016-11-12 22:29:34.882505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.884270"], ["updated_at", "2016-11-12 22:29:34.884270"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 118], ["inventoriable_id", 91], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.886470"], ["updated_at", "2016-11-12 22:29:34.886470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 118], ["inventoriable_id", 91], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.889777"], ["updated_at", "2016-11-12 22:29:34.889777"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 119], ["inventoriable_id", 91], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.892904"], ["updated_at", "2016-11-12 22:29:34.892904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 91], ["inventoriable_type", "Warehouse"], ["product_id", 118]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.899650"], ["updated_at", "2016-11-12 22:29:34.899650"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.901946"], ["updated_at", "2016-11-12 22:29:34.901946"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.904544"], ["updated_at", "2016-11-12 22:29:34.904544"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 120], ["inventoriable_id", 92], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.907403"], ["updated_at", "2016-11-12 22:29:34.907403"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 120], ["inventoriable_id", 92], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.911078"], ["updated_at", "2016-11-12 22:29:34.911078"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 121], ["inventoriable_id", 92], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.913770"], ["updated_at", "2016-11-12 22:29:34.913770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 92], ["inventoriable_type", "Warehouse"], ["product_id", 120]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shipments"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.920411"], ["updated_at", "2016-11-12 22:29:34.920411"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.922875"], ["updated_at", "2016-11-12 22:29:34.922875"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:34.925467"], ["updated_at", "2016-11-12 22:29:34.925467"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 122], ["inventoriable_id", 93], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.928593"], ["updated_at", "2016-11-12 22:29:34.928593"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 122], ["inventoriable_id", 93], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.931658"], ["updated_at", "2016-11-12 22:29:34.931658"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 123], ["inventoriable_id", 93], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.934264"], ["updated_at", "2016-11-12 22:29:34.934264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 93], ["inventoriable_type", "Warehouse"], ["product_id", 122]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 508]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 509]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 510]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.944086"], ["updated_at", "2016-11-12 22:29:34.944086"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.946299"], ["updated_at", "2016-11-12 22:29:34.946299"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:29:34.948047"], ["updated_at", "2016-11-12 22:29:34.948047"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 124], ["inventoriable_id", 94], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.950449"], ["updated_at", "2016-11-12 22:29:34.950449"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 124], ["inventoriable_id", 94], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.954839"], ["updated_at", "2016-11-12 22:29:34.954839"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 125], ["inventoriable_id", 94], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.959323"], ["updated_at", "2016-11-12 22:29:34.959323"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 94], ["inventoriable_type", "Warehouse"], ["product_id", 124]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 94], ["inventoriable_type", "Warehouse"], ["product_id", 125]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2[0m  [["inventoriable_id", 94], ["inventoriable_type", "Warehouse"], ["product_id", 124]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1  [["inventoriable_id", 94], ["inventoriable_type", "Warehouse"], ["product_id", 125]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.968649"], ["updated_at", "2016-11-12 22:29:34.968649"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.970921"], ["updated_at", "2016-11-12 22:29:34.970921"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.972889"], ["updated_at", "2016-11-12 22:29:34.972889"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 126], ["inventoriable_id", 95], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.975272"], ["updated_at", "2016-11-12 22:29:34.975272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 126], ["inventoriable_id", 95], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.977844"], ["updated_at", "2016-11-12 22:29:34.977844"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 127], ["inventoriable_id", 95], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.981342"], ["updated_at", "2016-11-12 22:29:34.981342"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 95], ["inventoriable_type", "Warehouse"], ["product_id", 126]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 95], ["inventoriable_type", "Warehouse"], ["product_id", 127]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shipments"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:29:34.988946"], ["updated_at", "2016-11-12 22:29:34.988946"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:29:34.991129"], ["updated_at", "2016-11-12 22:29:34.991129"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:29:34.992908"], ["updated_at", "2016-11-12 22:29:34.992908"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 128], ["inventoriable_id", 96], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.995115"], ["updated_at", "2016-11-12 22:29:34.995115"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 128], ["inventoriable_id", 96], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:34.997767"], ["updated_at", "2016-11-12 22:29:34.997767"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 129], ["inventoriable_id", 96], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:29:35.000322"], ["updated_at", "2016-11-12 22:29:35.000322"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 96], ["inventoriable_type", "Warehouse"], ["product_id", 128]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 96], ["inventoriable_type", "Warehouse"], ["product_id", 129]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 517]]
  [1m[36mInventoryItem Load (0.1ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 518]]
  [1m[35mInventoryItem Load (0.1ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 519]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (5.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 201 Created in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Processing by ShipmentsController#create as HTML
  Parameters: {"shipment"=>{"product_options"=>"product_options"}}
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.5ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.396223"], ["updated_at", "2016-11-12 22:51:37.396223"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:51:37.469669"], ["updated_at", "2016-11-12 22:51:37.469669"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Product"], ["created_at", "2016-11-12 22:51:37.472757"], ["updated_at", "2016-11-12 22:51:37.472757"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.479738"], ["updated_at", "2016-11-12 22:51:37.479738"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.486894"], ["updated_at", "2016-11-12 22:51:37.486894"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.490004"], ["updated_at", "2016-11-12 22:51:37.490004"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.492500"], ["updated_at", "2016-11-12 22:51:37.492500"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.494923"], ["updated_at", "2016-11-12 22:51:37.494923"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.497340"], ["updated_at", "2016-11-12 22:51:37.497340"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.499748"], ["updated_at", "2016-11-12 22:51:37.499748"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.502253"], ["updated_at", "2016-11-12 22:51:37.502253"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.504670"], ["updated_at", "2016-11-12 22:51:37.504670"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.507063"], ["updated_at", "2016-11-12 22:51:37.507063"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 98], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.511115"], ["updated_at", "2016-11-12 22:51:37.511115"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 98], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.515277"], ["updated_at", "2016-11-12 22:51:37.515277"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 98], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.518753"], ["updated_at", "2016-11-12 22:51:37.518753"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 98], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.521807"], ["updated_at", "2016-11-12 22:51:37.521807"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 98], ["inventoriable_type", "Warehouse"], ["product_id", 130], ["created_at", "2016-11-12 22:51:37.524265"], ["updated_at", "2016-11-12 22:51:37.524265"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 97], ["inventoriable_type", "Warehouse"], ["product_id", 130]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 98], ["inventoriable_type", "Warehouse"], ["product_id", 130]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:51:37.552497"], ["updated_at", "2016-11-12 22:51:37.552497"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.554723"], ["updated_at", "2016-11-12 22:51:37.554723"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:51:37.556425"], ["updated_at", "2016-11-12 22:51:37.556425"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.558715"], ["updated_at", "2016-11-12 22:51:37.558715"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.561162"], ["updated_at", "2016-11-12 22:51:37.561162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.563552"], ["updated_at", "2016-11-12 22:51:37.563552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.566063"], ["updated_at", "2016-11-12 22:51:37.566063"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.569773"], ["updated_at", "2016-11-12 22:51:37.569773"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.572318"], ["updated_at", "2016-11-12 22:51:37.572318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.574670"], ["updated_at", "2016-11-12 22:51:37.574670"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.577021"], ["updated_at", "2016-11-12 22:51:37.577021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.579377"], ["updated_at", "2016-11-12 22:51:37.579377"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.582519"], ["updated_at", "2016-11-12 22:51:37.582519"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 100], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.585109"], ["updated_at", "2016-11-12 22:51:37.585109"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 100], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.587532"], ["updated_at", "2016-11-12 22:51:37.587532"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 100], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.589951"], ["updated_at", "2016-11-12 22:51:37.589951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 100], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.592348"], ["updated_at", "2016-11-12 22:51:37.592348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 100], ["inventoriable_type", "Warehouse"], ["product_id", 131], ["created_at", "2016-11-12 22:51:37.594759"], ["updated_at", "2016-11-12 22:51:37.594759"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.3ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 99], ["inventoriable_type", "Warehouse"], ["product_id", 131]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:51:37.604372"], ["updated_at", "2016-11-12 22:51:37.604372"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.607298"], ["updated_at", "2016-11-12 22:51:37.607298"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Product"], ["created_at", "2016-11-12 22:51:37.609439"], ["updated_at", "2016-11-12 22:51:37.609439"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.612203"], ["updated_at", "2016-11-12 22:51:37.612203"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.615070"], ["updated_at", "2016-11-12 22:51:37.615070"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.618261"], ["updated_at", "2016-11-12 22:51:37.618261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.620798"], ["updated_at", "2016-11-12 22:51:37.620798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.623221"], ["updated_at", "2016-11-12 22:51:37.623221"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.625651"], ["updated_at", "2016-11-12 22:51:37.625651"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.628114"], ["updated_at", "2016-11-12 22:51:37.628114"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.631146"], ["updated_at", "2016-11-12 22:51:37.631146"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.635797"], ["updated_at", "2016-11-12 22:51:37.635797"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.640378"], ["updated_at", "2016-11-12 22:51:37.640378"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 102], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.643394"], ["updated_at", "2016-11-12 22:51:37.643394"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 102], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.646278"], ["updated_at", "2016-11-12 22:51:37.646278"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 102], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.650595"], ["updated_at", "2016-11-12 22:51:37.650595"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 102], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.654655"], ["updated_at", "2016-11-12 22:51:37.654655"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 102], ["inventoriable_type", "Warehouse"], ["product_id", 132], ["created_at", "2016-11-12 22:51:37.657713"], ["updated_at", "2016-11-12 22:51:37.657713"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 101], ["inventoriable_type", "Warehouse"], ["product_id", 132]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.663564"], ["updated_at", "2016-11-12 22:51:37.663564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.666283"], ["updated_at", "2016-11-12 22:51:37.666283"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:51:37.669287"], ["updated_at", "2016-11-12 22:51:37.669287"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_type", "product_id", "inventoriable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_type", "Warehouse"], ["product_id", 133], ["inventoriable_id", 103], ["created_at", "2016-11-12 22:51:37.670525"], ["updated_at", "2016-11-12 22:51:37.670525"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 133], ["created_at", "2016-11-12 22:51:37.672984"], ["updated_at", "2016-11-12 22:51:37.672984"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 133], ["created_at", "2016-11-12 22:51:37.675459"], ["updated_at", "2016-11-12 22:51:37.675459"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 133], ["created_at", "2016-11-12 22:51:37.677897"], ["updated_at", "2016-11-12 22:51:37.677897"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 133], ["created_at", "2016-11-12 22:51:37.680446"], ["updated_at", "2016-11-12 22:51:37.680446"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 134], ["created_at", "2016-11-12 22:51:37.683940"], ["updated_at", "2016-11-12 22:51:37.683940"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 134], ["created_at", "2016-11-12 22:51:37.686481"], ["updated_at", "2016-11-12 22:51:37.686481"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 134], ["created_at", "2016-11-12 22:51:37.691193"], ["updated_at", "2016-11-12 22:51:37.691193"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 134], ["created_at", "2016-11-12 22:51:37.695771"], ["updated_at", "2016-11-12 22:51:37.695771"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("inventoriable_id", "inventoriable_type", "product_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 134], ["created_at", "2016-11-12 22:51:37.700014"], ["updated_at", "2016-11-12 22:51:37.700014"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.3ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 3[0m  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 133]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 103], ["inventoriable_type", "Warehouse"], ["product_id", 134]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.708364"], ["updated_at", "2016-11-12 22:51:37.708364"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.711000"], ["updated_at", "2016-11-12 22:51:37.711000"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.712771"], ["updated_at", "2016-11-12 22:51:37.712771"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 135], ["inventoriable_id", 104], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.715084"], ["updated_at", "2016-11-12 22:51:37.715084"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 135], ["inventoriable_id", 104], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.718496"], ["updated_at", "2016-11-12 22:51:37.718496"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 136], ["inventoriable_id", 104], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.721186"], ["updated_at", "2016-11-12 22:51:37.721186"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 104], ["inventoriable_type", "Warehouse"], ["product_id", 135]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 104], ["inventoriable_type", "Warehouse"], ["product_id", 136]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 104], ["inventoriable_type", "Warehouse"], ["product_id", 135]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 104], ["inventoriable_type", "Warehouse"], ["product_id", 136]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 104], ["created_at", "2016-11-12 22:51:37.727368"], ["updated_at", "2016-11-12 22:51:37.727368"]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 13], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:51:37.736008"], ["id", 575]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 13], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:51:37.742522"], ["id", 576]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 13], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:51:37.744732"], ["id", 577]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.748599"], ["updated_at", "2016-11-12 22:51:37.748599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.751087"], ["updated_at", "2016-11-12 22:51:37.751087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.752874"], ["updated_at", "2016-11-12 22:51:37.752874"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 137], ["inventoriable_id", 105], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.755055"], ["updated_at", "2016-11-12 22:51:37.755055"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 137], ["inventoriable_id", 105], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.757589"], ["updated_at", "2016-11-12 22:51:37.757589"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 138], ["inventoriable_id", 105], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.760135"], ["updated_at", "2016-11-12 22:51:37.760135"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 105], ["inventoriable_type", "Warehouse"], ["product_id", 137]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 105], ["inventoriable_type", "Warehouse"], ["product_id", 138]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2  [["inventoriable_id", 105], ["inventoriable_type", "Warehouse"], ["product_id", 137]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1[0m  [["inventoriable_id", 105], ["inventoriable_type", "Warehouse"], ["product_id", 138]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shipments" ("warehouse_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["warehouse_id", 105], ["created_at", "2016-11-12 22:51:37.766619"], ["updated_at", "2016-11-12 22:51:37.766619"]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 14], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:51:37.769102"], ["id", 578]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 14], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:51:37.771328"], ["id", 579]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "inventory_items" SET "inventoriable_id" = $1, "inventoriable_type" = $2, "updated_at" = $3 WHERE "inventory_items"."id" = $4[0m  [["inventoriable_id", 14], ["inventoriable_type", "Shipment"], ["updated_at", "2016-11-12 22:51:37.773391"], ["id", 580]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 578]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 579]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 580]]
  [1m[35mShipment Load (0.2ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mShipment Load (0.2ms)[0m  [1mSELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mShipment Load (0.1ms)[0m  SELECT  "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.782897"], ["updated_at", "2016-11-12 22:51:37.782897"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.785279"], ["updated_at", "2016-11-12 22:51:37.785279"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.787207"], ["updated_at", "2016-11-12 22:51:37.787207"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 139], ["inventoriable_id", 106], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.789407"], ["updated_at", "2016-11-12 22:51:37.789407"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 139], ["inventoriable_id", 106], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.791826"], ["updated_at", "2016-11-12 22:51:37.791826"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 140], ["inventoriable_id", 106], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.794221"], ["updated_at", "2016-11-12 22:51:37.794221"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 106], ["inventoriable_type", "Warehouse"], ["product_id", 139]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.801787"], ["updated_at", "2016-11-12 22:51:37.801787"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.804500"], ["updated_at", "2016-11-12 22:51:37.804500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.806460"], ["updated_at", "2016-11-12 22:51:37.806460"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 141], ["inventoriable_id", 107], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.808747"], ["updated_at", "2016-11-12 22:51:37.808747"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 141], ["inventoriable_id", 107], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.811395"], ["updated_at", "2016-11-12 22:51:37.811395"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 142], ["inventoriable_id", 107], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.813984"], ["updated_at", "2016-11-12 22:51:37.813984"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 107], ["inventoriable_type", "Warehouse"], ["product_id", 141]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shipments"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.820636"], ["updated_at", "2016-11-12 22:51:37.820636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.822928"], ["updated_at", "2016-11-12 22:51:37.822928"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:51:37.824688"], ["updated_at", "2016-11-12 22:51:37.824688"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 143], ["inventoriable_id", 108], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.826886"], ["updated_at", "2016-11-12 22:51:37.826886"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 143], ["inventoriable_id", 108], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.829360"], ["updated_at", "2016-11-12 22:51:37.829360"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 144], ["inventoriable_id", 108], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.832589"], ["updated_at", "2016-11-12 22:51:37.832589"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 108], ["inventoriable_type", "Warehouse"], ["product_id", 143]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 587]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 588]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 589]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mWarehouse Load (0.1ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.842775"], ["updated_at", "2016-11-12 22:51:37.842775"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.847333"], ["updated_at", "2016-11-12 22:51:37.847333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2016-11-12 22:51:37.850971"], ["updated_at", "2016-11-12 22:51:37.850971"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 145], ["inventoriable_id", 109], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.854370"], ["updated_at", "2016-11-12 22:51:37.854370"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 145], ["inventoriable_id", 109], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.857058"], ["updated_at", "2016-11-12 22:51:37.857058"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 146], ["inventoriable_id", 109], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.859569"], ["updated_at", "2016-11-12 22:51:37.859569"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT "warehouses".* FROM "warehouses"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 109], ["inventoriable_type", "Warehouse"], ["product_id", 145]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 109], ["inventoriable_type", "Warehouse"], ["product_id", 146]]
  [1m[36mInventoryItem Load (0.2ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 2[0m  [["inventoriable_id", 109], ["inventoriable_type", "Warehouse"], ["product_id", 145]]
  [1m[35mInventoryItem Load (0.2ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3 LIMIT 1  [["inventoriable_id", 109], ["inventoriable_type", "Warehouse"], ["product_id", 146]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.869482"], ["updated_at", "2016-11-12 22:51:37.869482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.871818"], ["updated_at", "2016-11-12 22:51:37.871818"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.873585"], ["updated_at", "2016-11-12 22:51:37.873585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 147], ["inventoriable_id", 110], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.875809"], ["updated_at", "2016-11-12 22:51:37.875809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 147], ["inventoriable_id", 110], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.878273"], ["updated_at", "2016-11-12 22:51:37.878273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 148], ["inventoriable_id", 110], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.881199"], ["updated_at", "2016-11-12 22:51:37.881199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.3ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 110], ["inventoriable_type", "Warehouse"], ["product_id", 147]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 110], ["inventoriable_type", "Warehouse"], ["product_id", 148]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "shipments"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "apples"], ["created_at", "2016-11-12 22:51:37.889122"], ["updated_at", "2016-11-12 22:51:37.889122"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "oranges"], ["created_at", "2016-11-12 22:51:37.891395"], ["updated_at", "2016-11-12 22:51:37.891395"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "warehouses" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2016-11-12 22:51:37.893166"], ["updated_at", "2016-11-12 22:51:37.893166"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 149], ["inventoriable_id", 111], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.895420"], ["updated_at", "2016-11-12 22:51:37.895420"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["product_id", 149], ["inventoriable_id", 111], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.899271"], ["updated_at", "2016-11-12 22:51:37.899271"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "inventory_items" ("product_id", "inventoriable_id", "inventoriable_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["product_id", 150], ["inventoriable_id", 111], ["inventoriable_type", "Warehouse"], ["created_at", "2016-11-12 22:51:37.903531"], ["updated_at", "2016-11-12 22:51:37.903531"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT "warehouses".* FROM "warehouses"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3  [["inventoriable_id", 111], ["inventoriable_type", "Warehouse"], ["product_id", 149]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "inventory_items" WHERE "inventory_items"."inventoriable_id" = $1 AND "inventory_items"."inventoriable_type" = $2 AND "inventory_items"."product_id" = $3[0m  [["inventoriable_id", 111], ["inventoriable_type", "Warehouse"], ["product_id", 150]]
  [1m[35mInventoryItem Load (0.1ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 596]]
  [1m[36mInventoryItem Load (0.1ms)[0m  [1mSELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1[0m  [["id", 597]]
  [1m[35mInventoryItem Load (0.1ms)[0m  SELECT  "inventory_items".* FROM "inventory_items" WHERE "inventory_items"."id" = $1 LIMIT 1  [["id", 598]]
  [1m[36mWarehouse Load (0.2ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mWarehouse Load (0.2ms)[0m  SELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mWarehouse Load (0.1ms)[0m  [1mSELECT  "warehouses".* FROM "warehouses" WHERE "warehouses"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (136.8ms)[0m  [1mDROP DATABASE IF EXISTS "ReferralsApp_test"[0m
  [1m[35m (444.2ms)[0m  CREATE DATABASE "ReferralsApp_test" ENCODING = 'unicode'
  [1m[36mSQL (1.5ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (16.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "password_digest" character varying, "session_token" character varying, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (3.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20161113000750')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'example@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "example@gmail.com"], ["password_digest", "$2a$10$WijfFiwjVTE6RHozjrd4leaXb1GM7yUS2MnLH5VAMBTvK3igCKU7y"], ["created_at", "2016-11-13 02:48:41.548867"], ["updated_at", "2016-11-13 02:48:41.548867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'example@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "example@gmail.com"], ["password_digest", "$2a$10$SwUG6Cy8nUVz2HMeLrK0XOLC1hWwW2QyEVPHJcMDgWI34fvYp52m."], ["created_at", "2016-11-13 02:48:41.647689"], ["updated_at", "2016-11-13 02:48:41.647689"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'example@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "example@gmail.com"], ["password_digest", "$2a$10$a5TnARjsTEOWl1x.92Ob6uAXOGgcpHzH5e0N8j6AmVeNd7nImXmMS"], ["created_at", "2016-11-13 02:48:41.748565"], ["updated_at", "2016-11-13 02:48:41.748565"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'example@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "example@gmail.com"], ["password_digest", "$2a$10$Du1bGNohQK4U/5MtDNBWk.bpsNc/xwHIjEHwFtlnQJsDNXLgmSw4S"], ["created_at", "2016-11-13 02:48:41.832447"], ["updated_at", "2016-11-13 02:48:41.832447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (146.7ms)[0m  [1mDROP DATABASE IF EXISTS "ReferralsApp_test"[0m
  [1m[35m (453.3ms)[0m  CREATE DATABASE "ReferralsApp_test" ENCODING = 'unicode'
  [1m[36mSQL (1.6ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (11.4ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "password_digest" character varying, "session_token" character varying, "created_at" timestamp, "updated_at" timestamp, "encrypted_password" character varying(128), "confirmation_token" character varying(128), "remember_token" character varying(128)) 
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE  INDEX  "index_users_on_remember_token" ON "users" USING btree ("remember_token")
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20161118000920')
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (4.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$wCiFagrlpsMiyefRllKtlunO4Stbq.R3wE/UkmWCmSPl1hlf35FAm"], ["created_at", "2016-11-18 02:59:04.842629"], ["updated_at", "2016-11-18 02:59:04.842629"], ["remember_token", "5f7fc51f1228bce44a56892aba720e4e32fbdebd"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:04 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (13.4ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (28.5ms)
Completed 200 OK in 62ms (Views: 42.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-17 21:59:04 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:04 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.5ms)
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "5f7fc51f1228bce44a56892aba720e4e32fbdebd"]]
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 1.5ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-17 21:59:04 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "5f7fc51f1228bce44a56892aba720e4e32fbdebd"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "fb1c81ac12a42555946a540cdcf09054bd2e578b"], ["updated_at", "2016-11-18 02:59:04.997355"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$t07dRGit37rNiaVywtzGJegoMJplaEtbd6WpOoTevES94H49rVY4."], ["created_at", "2016-11-18 02:59:05.124014"], ["updated_at", "2016-11-18 02:59:05.124014"], ["remember_token", "5861fc8d194db932b680afa2d0d1adc04a301988"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user2@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "c06da4d04bc230db594f06266b14413ab139b6e2"], ["updated_at", "2016-11-18 02:59:05.134492"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
[ActiveJob] [ActionMailer::DeliveryJob] [d2927153-61d0-4b37-bf26-cc7fb0c54317] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/2
[ActiveJob] [ActionMailer::DeliveryJob] [d2927153-61d0-4b37-bf26-cc7fb0c54317]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [d2927153-61d0-4b37-bf26-cc7fb0c54317]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [d2927153-61d0-4b37-bf26-cc7fb0c54317] 
ClearanceMailer#change_password: processed outbound mail in 336.5ms
[ActiveJob] [ActionMailer::DeliveryJob] [d2927153-61d0-4b37-bf26-cc7fb0c54317] 
Sent mail to user2@example.com (12.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [d2927153-61d0-4b37-bf26-cc7fb0c54317] Date: Thu, 17 Nov 2016 21:59:05 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <582e6e797a5c3_17a623fce1945e45425739@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_582e6e7978463_17a623fce1945e45425661";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_582e6e7978463_17a623fce1945e45425661
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/2/password/edit?token=c06da4d04bc230db594f06266b14413ab139b6e2

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_582e6e7978463_17a623fce1945e45425661
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/2/password/edit?token=c06da4d04bc230db594f06266b14413ab139b6e2">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_582e6e7978463_17a623fce1945e45425661--

[ActiveJob] [ActionMailer::DeliveryJob] [d2927153-61d0-4b37-bf26-cc7fb0c54317] Performed ActionMailer::DeliveryJob from Inline(mailers) in 349.91ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: d2927153-61d0-4b37-bf26-cc7fb0c54317) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/2
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.5ms)
Completed 200 OK in 377ms (Views: 2.4ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user@example.com"], ["encrypted_password", "$2a$04$SbGCx41VQCS1t12mxorU5uWvuxR0V7FojgHrbO3KpMOWsWPNO693y"], ["created_at", "2016-11-18 02:59:05.531148"], ["updated_at", "2016-11-18 02:59:05.531148"], ["remember_token", "761158ffdffbb224f2e4d7bf873bf3aea3001a3d"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "761158ffdffbb224f2e4d7bf873bf3aea3001a3d"]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "761158ffdffbb224f2e4d7bf873bf3aea3001a3d"]]
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$qx3YGgDFCoZv0S9x6B6swec1ZGmU2fo0ewWiheAdTme72zbIseZM2"], ["created_at", "2016-11-18 02:59:05.561756"], ["updated_at", "2016-11-18 02:59:05.561756"], ["remember_token", "1655a3b8b19d4b5e21bfda66a9f466e88cf55381"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "1655a3b8b19d4b5e21bfda66a9f466e88cf55381"]]
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "1655a3b8b19d4b5e21bfda66a9f466e88cf55381"]]
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user@example.com"], ["encrypted_password", "$2a$04$g.hDmg5FySWPR86oXaomBOsKPgxixDqC7VKCOwytB8gnP0q35KyGW"], ["created_at", "2016-11-18 02:59:05.591424"], ["updated_at", "2016-11-18 02:59:05.591424"], ["remember_token", "1ddca026c12fd2a90288565d2085677bd9dc14ec"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.5ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 69ms (Views: 68.5ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.1ms)
Completed 401 Unauthorized in 5ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.4ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.1ms)
Completed 401 Unauthorized in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (2.5ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$RlurO.Rtx3zg3c3Gurg9s.Amn8z0E5906Xg.Q0cUcN.lQOql7213."], ["created_at", "2016-11-18 02:59:05.755059"], ["updated_at", "2016-11-18 02:59:05.755059"], ["remember_token", "afb526bfe90a1480b49fd92373a144762a59d176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "afb526bfe90a1480b49fd92373a144762a59d176"]]
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "afb526bfe90a1480b49fd92373a144762a59d176"]]
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$y3VmxTtA3j8IXNhD4Wb/Fub/8pXcML/ovkdLh00yrNoiYe1VADB8i"], ["created_at", "2016-11-18 02:59:05.807000"], ["updated_at", "2016-11-18 02:59:05.807000"], ["remember_token", "f8aafb1da9a29fb1dbae5b6f8acd0a59750e524d"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user3@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "8defbdae99432f140e730eeeca68abeb8fa89cdd"], ["updated_at", "2016-11-18 02:59:05.815717"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 7]]
[ActiveJob] [ActionMailer::DeliveryJob] [64897ddb-8b6b-43a3-a88a-6a9215a7ed0e] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/7
[ActiveJob] [ActionMailer::DeliveryJob] [64897ddb-8b6b-43a3-a88a-6a9215a7ed0e]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [64897ddb-8b6b-43a3-a88a-6a9215a7ed0e]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [64897ddb-8b6b-43a3-a88a-6a9215a7ed0e] 
ClearanceMailer#change_password: processed outbound mail in 2.7ms
[ActiveJob] [ActionMailer::DeliveryJob] [64897ddb-8b6b-43a3-a88a-6a9215a7ed0e] 
Sent mail to user3@example.com (3.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [64897ddb-8b6b-43a3-a88a-6a9215a7ed0e] Date: Thu, 17 Nov 2016 21:59:05 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <582e6e79c970a_17a623fce1945e4542598a@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_582e6e79c8f29_17a623fce1945e4542585f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_582e6e79c8f29_17a623fce1945e4542585f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/7/password/edit?token=8defbdae99432f140e730eeeca68abeb8fa89cdd

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_582e6e79c8f29_17a623fce1945e4542585f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/7/password/edit?token=8defbdae99432f140e730eeeca68abeb8fa89cdd">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_582e6e79c8f29_17a623fce1945e4542585f--

[ActiveJob] [ActionMailer::DeliveryJob] [64897ddb-8b6b-43a3-a88a-6a9215a7ed0e] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.74ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 64897ddb-8b6b-43a3-a88a-6a9215a7ed0e) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/7
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 7]]
Started GET "/users/7/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"7"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 7], ["confirmation_token", "8defbdae99432f140e730eeeca68abeb8fa89cdd"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "7"], ["confirmation_token", "8defbdae99432f140e730eeeca68abeb8fa89cdd"]]
Redirected to http://www.example.com/users/7/password/edit
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/7/password/edit" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"7"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 7], ["confirmation_token", "8defbdae99432f140e730eeeca68abeb8fa89cdd"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "7"], ["confirmation_token", "8defbdae99432f140e730eeeca68abeb8fa89cdd"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms)
Started PUT "/users/7/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"7"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 7], ["confirmation_token", "8defbdae99432f140e730eeeca68abeb8fa89cdd"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "7"], ["confirmation_token", "8defbdae99432f140e730eeeca68abeb8fa89cdd"]]
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 7) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 7) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$43B836SpI1IYwuzkfSU/0OM/WvrVY5jTz2tAGWXcRECbwB6Y0jpGa"], ["confirmation_token", nil], ["remember_token", "5cbb1b5e176581d5a83e6ef96852ba2f6c726f7e"], ["updated_at", "2016-11-18 02:59:05.857695"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "5cbb1b5e176581d5a83e6ef96852ba2f6c726f7e"]]
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "5cbb1b5e176581d5a83e6ef96852ba2f6c726f7e"]]
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$F0.RtNZuwxPllK0YUKepguXhTPQ0u27iJ/Rl2EEPbINEVbOvuFS1."], ["created_at", "2016-11-18 02:59:05.875333"], ["updated_at", "2016-11-18 02:59:05.875333"], ["remember_token", "299d090f27eda907d94b035d6f6949404f5490f7"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "6275ecd8531600899803dbeabea455632bae9e9e"], ["updated_at", "2016-11-18 02:59:05.953843"], ["id", 8]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 8]]
[ActiveJob] [ActionMailer::DeliveryJob] [f9d44ceb-e78b-416d-8a3c-d8feba23d42e] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/8
[ActiveJob] [ActionMailer::DeliveryJob] [f9d44ceb-e78b-416d-8a3c-d8feba23d42e]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f9d44ceb-e78b-416d-8a3c-d8feba23d42e]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f9d44ceb-e78b-416d-8a3c-d8feba23d42e] 
ClearanceMailer#change_password: processed outbound mail in 3.4ms
[ActiveJob] [ActionMailer::DeliveryJob] [f9d44ceb-e78b-416d-8a3c-d8feba23d42e] 
Sent mail to user4@example.com (3.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [f9d44ceb-e78b-416d-8a3c-d8feba23d42e] Date: Thu, 17 Nov 2016 21:59:05 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <582e6e79eba6f_17a623fce1945e45426131@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_582e6e79eb1d4_17a623fce1945e4542608a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_582e6e79eb1d4_17a623fce1945e4542608a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/8/password/edit?token=6275ecd8531600899803dbeabea455632bae9e9e

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_582e6e79eb1d4_17a623fce1945e4542608a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/8/password/edit?token=6275ecd8531600899803dbeabea455632bae9e9e">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_582e6e79eb1d4_17a623fce1945e4542608a--

[ActiveJob] [ActionMailer::DeliveryJob] [f9d44ceb-e78b-416d-8a3c-d8feba23d42e] Performed ActionMailer::DeliveryJob from Inline(mailers) in 7.74ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: f9d44ceb-e78b-416d-8a3c-d8feba23d42e) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/8
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 18ms (Views: 1.0ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 8]]
Started GET "/users/8/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 8], ["confirmation_token", "6275ecd8531600899803dbeabea455632bae9e9e"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "8"], ["confirmation_token", "6275ecd8531600899803dbeabea455632bae9e9e"]]
Redirected to http://www.example.com/users/8/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/8/password/edit" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 8], ["confirmation_token", "6275ecd8531600899803dbeabea455632bae9e9e"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "8"], ["confirmation_token", "6275ecd8531600899803dbeabea455632bae9e9e"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms)
Started PUT "/users/8/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 8], ["confirmation_token", "6275ecd8531600899803dbeabea455632bae9e9e"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "8"], ["confirmation_token", "6275ecd8531600899803dbeabea455632bae9e9e"]]
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 8) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$9DMZvkJ50nPb1Pbu3hvw1eSzACO3f9NhFOqZIvoVH5b6MfhFipVyq"], ["confirmation_token", nil], ["remember_token", "f19d04b488447b6d346f37773080357ac273b4fb"], ["updated_at", "2016-11-18 02:59:05.988886"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:05 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "f19d04b488447b6d346f37773080357ac273b4fb"]]
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "f19d04b488447b6d346f37773080357ac273b4fb"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "ff005613998b116d893636b243dc7bff2e343180"], ["updated_at", "2016-11-18 02:59:06.002524"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (2.5ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "ff005613998b116d893636b243dc7bff2e343180"]]
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by PagesController#index as HTML
  Rendered pages/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "ff005613998b116d893636b243dc7bff2e343180"]]
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$oiyxk/NwoZZz1G2QEogtIuw9nWwNA8SwN5mjC8nWmUBhwK2XiPZH6"], ["created_at", "2016-11-18 02:59:06.037476"], ["updated_at", "2016-11-18 02:59:06.037476"], ["remember_token", "d8bf548b5800a643200118efd2325f71f8b5be00"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user5@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "09f5f58d6e0b84b28afa7661c3fc146f9e06329d"], ["updated_at", "2016-11-18 02:59:06.046116"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
[ActiveJob] [ActionMailer::DeliveryJob] [c977b330-2fab-4f20-8cb7-516e30cf23ff] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/9
[ActiveJob] [ActionMailer::DeliveryJob] [c977b330-2fab-4f20-8cb7-516e30cf23ff]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [c977b330-2fab-4f20-8cb7-516e30cf23ff]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [c977b330-2fab-4f20-8cb7-516e30cf23ff] 
ClearanceMailer#change_password: processed outbound mail in 4.2ms
[ActiveJob] [ActionMailer::DeliveryJob] [c977b330-2fab-4f20-8cb7-516e30cf23ff] 
Sent mail to user5@example.com (5.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [c977b330-2fab-4f20-8cb7-516e30cf23ff] Date: Thu, 17 Nov 2016 21:59:06 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <582e6e7adf07_17a623fce1945e454263c9@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_582e6e7ad1b3_17a623fce1945e45426220";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_582e6e7ad1b3_17a623fce1945e45426220
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/9/password/edit?token=09f5f58d6e0b84b28afa7661c3fc146f9e06329d

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_582e6e7ad1b3_17a623fce1945e45426220
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/9/password/edit?token=09f5f58d6e0b84b28afa7661c3fc146f9e06329d">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_582e6e7ad1b3_17a623fce1945e45426220--

[ActiveJob] [ActionMailer::DeliveryJob] [c977b330-2fab-4f20-8cb7-516e30cf23ff] Performed ActionMailer::DeliveryJob from Inline(mailers) in 10.34ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: c977b330-2fab-4f20-8cb7-516e30cf23ff) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/9
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.2ms)
Completed 200 OK in 17ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 9]]
Started GET "/users/9/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"9"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 9], ["confirmation_token", "09f5f58d6e0b84b28afa7661c3fc146f9e06329d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "9"], ["confirmation_token", "09f5f58d6e0b84b28afa7661c3fc146f9e06329d"]]
Redirected to http://www.example.com/users/9/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/users/9/password/edit" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 9], ["confirmation_token", "09f5f58d6e0b84b28afa7661c3fc146f9e06329d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "9"], ["confirmation_token", "09f5f58d6e0b84b28afa7661c3fc146f9e06329d"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
Started PUT "/users/9/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-17 21:59:06 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"9"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 9], ["confirmation_token", "09f5f58d6e0b84b28afa7661c3fc146f9e06329d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "9"], ["confirmation_token", "09f5f58d6e0b84b28afa7661c3fc146f9e06329d"]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 9) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 9) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 1.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (136.5ms)[0m  [1mDROP DATABASE IF EXISTS "ReferralsApp_test"[0m
  [1m[35m (499.9ms)[0m  CREATE DATABASE "ReferralsApp_test" ENCODING = 'unicode'
  [1m[36mSQL (4.0ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "password_digest" character varying, "session_token" character varying, "created_at" timestamp, "updated_at" timestamp, "encrypted_password" character varying(128), "confirmation_token" character varying(128), "remember_token" character varying(128), "referrer_id" integer) 
  [1m[36m (4.8ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (1.5ms)[0m  CREATE  INDEX  "index_users_on_remember_token" ON "users" USING btree ("remember_token")
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20161118193444')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20161118000920')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$x9Kbpx.0slh0cjVV0fv1zO2n7UaZAeShuXSNRNXNk1xmkht1B26M."], ["created_at", "2016-11-20 00:21:22.019147"], ["updated_at", "2016-11-20 00:21:22.019147"], ["remember_token", "df540703e544b49899c6f603b1aa5e9c244f8d19"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (13.3ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (31.7ms)
Completed 200 OK in 74ms (Views: 49.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "df540703e544b49899c6f603b1aa5e9c244f8d19"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 1]]
  Rendered users/show.html.erb within layouts/application (19.2ms)
Completed 200 OK in 31ms (Views: 27.2ms | ActiveRecord: 0.6ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "df540703e544b49899c6f603b1aa5e9c244f8d19"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "adc49813ae61d298388262b5a095e3891d1342be"], ["updated_at", "2016-11-20 00:21:22.271387"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1
  [1m[36mSQL (9.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$SPnibWD.Zl0ouQh5cVVuX.jmj44o1qgfox61A3wJZRflaqvwGDwBy"], ["created_at", "2016-11-20 00:21:22.345431"], ["updated_at", "2016-11-20 00:21:22.345431"], ["remember_token", "8fb962f34e2d6984b53989a3cd7e81de2149e99a"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user2@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "a976bc38af9ee6026b2153deece3acbbe8e7d810"], ["updated_at", "2016-11-20 00:21:22.366915"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
[ActiveJob] [ActionMailer::DeliveryJob] [eaa640bd-328f-48aa-abfc-352a87fe54eb] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/2
[ActiveJob] [ActionMailer::DeliveryJob] [eaa640bd-328f-48aa-abfc-352a87fe54eb]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [eaa640bd-328f-48aa-abfc-352a87fe54eb]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.9ms)
[ActiveJob] [ActionMailer::DeliveryJob] [eaa640bd-328f-48aa-abfc-352a87fe54eb] 
ClearanceMailer#change_password: processed outbound mail in 399.5ms
[ActiveJob] [ActionMailer::DeliveryJob] [eaa640bd-328f-48aa-abfc-352a87fe54eb] 
Sent mail to user2@example.com (16.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [eaa640bd-328f-48aa-abfc-352a87fe54eb] Date: Sat, 19 Nov 2016 19:21:22 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <5830ec82c2f76_1ffe3fce4145244c823a2@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830ec82bff2a_1ffe3fce4145244c822e3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830ec82bff2a_1ffe3fce4145244c822e3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/2/password/edit?token=a976bc38af9ee6026b2153deece3acbbe8e7d810

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830ec82bff2a_1ffe3fce4145244c822e3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/2/password/edit?token=a976bc38af9ee6026b2153deece3acbbe8e7d810">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830ec82bff2a_1ffe3fce4145244c822e3--

[ActiveJob] [ActionMailer::DeliveryJob] [eaa640bd-328f-48aa-abfc-352a87fe54eb] Performed ActionMailer::DeliveryJob from Inline(mailers) in 417.69ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: eaa640bd-328f-48aa-abfc-352a87fe54eb) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/2
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.8ms)
Completed 200 OK in 445ms (Views: 4.1ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user@example.com"], ["encrypted_password", "$2a$04$E8DlKENs5NHrLXspUUrgsuYxl4Ff0JgFxTLyGM64LK51lu.xU81Pi"], ["created_at", "2016-11-20 00:21:22.835737"], ["updated_at", "2016-11-20 00:21:22.835737"], ["remember_token", "c908297a99b143b30090f830865f2040ac29c297"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "c908297a99b143b30090f830865f2040ac29c297"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 3]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "c908297a99b143b30090f830865f2040ac29c297"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 3]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$qTiUX8XLrXVaQWoyRFbCAu66PvRGSx2vYD8euadMwdv2PF3w1OhKq"], ["created_at", "2016-11-20 00:21:22.867852"], ["updated_at", "2016-11-20 00:21:22.867852"], ["remember_token", "cfdfec473bf6925cd3e188e75f1e5db91a66a4f6"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "cfdfec473bf6925cd3e188e75f1e5db91a66a4f6"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 4]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "cfdfec473bf6925cd3e188e75f1e5db91a66a4f6"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 4]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user@example.com"], ["encrypted_password", "$2a$04$6RuQw.NbrENs6xDMGNMlxes40mE3EJDbe0xaEaFlMybWD2dWCRcNS"], ["created_at", "2016-11-20 00:21:22.903060"], ["updated_at", "2016-11-20 00:21:22.903060"], ["remember_token", "1a82626b1aa5fe323a30f468561a4638c0f9e593"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:22 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (2.5ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.3ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$O4tCMvmXwUI5EU290ZjDUeE5PCnsboRa186.dDXAtBpygNgxbfZcq"], ["created_at", "2016-11-20 00:21:23.048093"], ["updated_at", "2016-11-20 00:21:23.048093"], ["remember_token", "aa854d21efe15d23d02cbfd0016bdc8923570f9c"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "aa854d21efe15d23d02cbfd0016bdc8923570f9c"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 6]]
  Rendered users/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "aa854d21efe15d23d02cbfd0016bdc8923570f9c"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 6]]
  Rendered users/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 14ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$QQgefjfi5PuH94TS/qiR8uK4U9USbgnvw0Pv5LzBTxklzjxkeCkr2"], ["created_at", "2016-11-20 00:21:23.116864"], ["updated_at", "2016-11-20 00:21:23.116864"], ["remember_token", "9ec3a6bb2c6305ec82b28b181d8d86a0e3eb9813"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user3@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "00033870546c948486d8cd96749d7bd5fba52120"], ["updated_at", "2016-11-20 00:21:23.126344"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 7]]
[ActiveJob] [ActionMailer::DeliveryJob] [b8f465cb-9e3a-438b-8aae-af24c90bf8a6] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/7
[ActiveJob] [ActionMailer::DeliveryJob] [b8f465cb-9e3a-438b-8aae-af24c90bf8a6]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b8f465cb-9e3a-438b-8aae-af24c90bf8a6]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b8f465cb-9e3a-438b-8aae-af24c90bf8a6] 
ClearanceMailer#change_password: processed outbound mail in 2.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [b8f465cb-9e3a-438b-8aae-af24c90bf8a6] 
Sent mail to user3@example.com (4.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b8f465cb-9e3a-438b-8aae-af24c90bf8a6] Date: Sat, 19 Nov 2016 19:21:23 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <5830ec8321184_1ffe3fce4145244c82579@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830ec8320741_1ffe3fce4145244c82481";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830ec8320741_1ffe3fce4145244c82481
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/7/password/edit?token=00033870546c948486d8cd96749d7bd5fba52120

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830ec8320741_1ffe3fce4145244c82481
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/7/password/edit?token=00033870546c948486d8cd96749d7bd5fba52120">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830ec8320741_1ffe3fce4145244c82481--

[ActiveJob] [ActionMailer::DeliveryJob] [b8f465cb-9e3a-438b-8aae-af24c90bf8a6] Performed ActionMailer::DeliveryJob from Inline(mailers) in 7.85ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: b8f465cb-9e3a-438b-8aae-af24c90bf8a6) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/7
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 15ms (Views: 1.0ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 7]]
Started GET "/users/7/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"7"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 7], ["confirmation_token", "00033870546c948486d8cd96749d7bd5fba52120"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "7"], ["confirmation_token", "00033870546c948486d8cd96749d7bd5fba52120"]]
Redirected to http://www.example.com/users/7/password/edit
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/7/password/edit" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"7"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 7], ["confirmation_token", "00033870546c948486d8cd96749d7bd5fba52120"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "7"], ["confirmation_token", "00033870546c948486d8cd96749d7bd5fba52120"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
Started PUT "/users/7/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 7], ["confirmation_token", "00033870546c948486d8cd96749d7bd5fba52120"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "7"], ["confirmation_token", "00033870546c948486d8cd96749d7bd5fba52120"]]
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 7) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 7) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$w/2bXcFdxp37tj6r1RtL2uKKu.C97JUCIZaHTJYzsDdRtQI0CDgAu"], ["confirmation_token", nil], ["remember_token", "dc59fbdd1e5dd5deb6ac92f3d24fc9c8088d87f8"], ["updated_at", "2016-11-20 00:21:23.169552"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "dc59fbdd1e5dd5deb6ac92f3d24fc9c8088d87f8"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 7]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "dc59fbdd1e5dd5deb6ac92f3d24fc9c8088d87f8"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 7]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$85oaGc1oqGM1r1LIXamqteeNAEly0ZJX9KrX356Jbd9A5kawg5xHa"], ["created_at", "2016-11-20 00:21:23.189817"], ["updated_at", "2016-11-20 00:21:23.189817"], ["remember_token", "647c34ccf3086be66ef689926efb5c128dd24de0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "b9c768b7de8cf80261ed76c02c6b1d25476a6d01"], ["updated_at", "2016-11-20 00:21:23.199422"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 8]]
[ActiveJob] [ActionMailer::DeliveryJob] [75d4c4c5-6a72-4a53-a85a-da3713491b3c] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/8
[ActiveJob] [ActionMailer::DeliveryJob] [75d4c4c5-6a72-4a53-a85a-da3713491b3c]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [75d4c4c5-6a72-4a53-a85a-da3713491b3c]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [75d4c4c5-6a72-4a53-a85a-da3713491b3c] 
ClearanceMailer#change_password: processed outbound mail in 2.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [75d4c4c5-6a72-4a53-a85a-da3713491b3c] 
Sent mail to user4@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [75d4c4c5-6a72-4a53-a85a-da3713491b3c] Date: Sat, 19 Nov 2016 19:21:23 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <5830ec8332c65_1ffe3fce4145244c82785@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830ec8332446_1ffe3fce4145244c82630";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830ec8332446_1ffe3fce4145244c82630
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/8/password/edit?token=b9c768b7de8cf80261ed76c02c6b1d25476a6d01

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830ec8332446_1ffe3fce4145244c82630
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/8/password/edit?token=b9c768b7de8cf80261ed76c02c6b1d25476a6d01">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830ec8332446_1ffe3fce4145244c82630--

[ActiveJob] [ActionMailer::DeliveryJob] [75d4c4c5-6a72-4a53-a85a-da3713491b3c] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.42ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 75d4c4c5-6a72-4a53-a85a-da3713491b3c) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/8
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 8]]
Started GET "/users/8/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 8], ["confirmation_token", "b9c768b7de8cf80261ed76c02c6b1d25476a6d01"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "8"], ["confirmation_token", "b9c768b7de8cf80261ed76c02c6b1d25476a6d01"]]
Redirected to http://www.example.com/users/8/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/8/password/edit" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 8], ["confirmation_token", "b9c768b7de8cf80261ed76c02c6b1d25476a6d01"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "8"], ["confirmation_token", "b9c768b7de8cf80261ed76c02c6b1d25476a6d01"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
Started PUT "/users/8/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 8], ["confirmation_token", "b9c768b7de8cf80261ed76c02c6b1d25476a6d01"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "8"], ["confirmation_token", "b9c768b7de8cf80261ed76c02c6b1d25476a6d01"]]
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 8) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 8) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$VJcfjwR.k8gvyyNHYDW/jObqCKKiNTOOqdBOs2jBO5pLGrbMyJYlS"], ["confirmation_token", nil], ["remember_token", "ae62c4b65feb960808baacf57f6f00c403a515d5"], ["updated_at", "2016-11-20 00:21:23.232746"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "ae62c4b65feb960808baacf57f6f00c403a515d5"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 8]]
  Rendered users/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.4ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "ae62c4b65feb960808baacf57f6f00c403a515d5"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_token", "7077f36e9da56d4fb5ba1b9b21c9878d51908a50"], ["updated_at", "2016-11-20 00:21:23.246196"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/sign_in
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "7077f36e9da56d4fb5ba1b9b21c9878d51908a50"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 8]]
  Rendered users/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "7077f36e9da56d4fb5ba1b9b21c9878d51908a50"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 8]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$KHFtUxOjAbhoydbOgGfPzu255nBovTb3M/KYPJlheTOziFBmSXw66"], ["created_at", "2016-11-20 00:21:23.284942"], ["updated_at", "2016-11-20 00:21:23.284942"], ["remember_token", "fd731ca20b35854d825bbd6301bed0e21b3e913e"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user5@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "768cc65c8eccb1a6cdd6914abafadef7c3ea1994"], ["updated_at", "2016-11-20 00:21:23.296454"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 9]]
[ActiveJob] [ActionMailer::DeliveryJob] [57e1c463-3594-40e8-8fc8-6a61242a0f46] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/9
[ActiveJob] [ActionMailer::DeliveryJob] [57e1c463-3594-40e8-8fc8-6a61242a0f46]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [57e1c463-3594-40e8-8fc8-6a61242a0f46]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [57e1c463-3594-40e8-8fc8-6a61242a0f46] 
ClearanceMailer#change_password: processed outbound mail in 5.0ms
[ActiveJob] [ActionMailer::DeliveryJob] [57e1c463-3594-40e8-8fc8-6a61242a0f46] 
Sent mail to user5@example.com (4.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [57e1c463-3594-40e8-8fc8-6a61242a0f46] Date: Sat, 19 Nov 2016 19:21:23 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <5830ec835d95e_1ffe3fce4145244c82967@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830ec835cbef_1ffe3fce4145244c82855";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830ec835cbef_1ffe3fce4145244c82855
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/9/password/edit?token=768cc65c8eccb1a6cdd6914abafadef7c3ea1994

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830ec835cbef_1ffe3fce4145244c82855
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/9/password/edit?token=768cc65c8eccb1a6cdd6914abafadef7c3ea1994">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830ec835cbef_1ffe3fce4145244c82855--

[ActiveJob] [ActionMailer::DeliveryJob] [57e1c463-3594-40e8-8fc8-6a61242a0f46] Performed ActionMailer::DeliveryJob from Inline(mailers) in 10.36ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 57e1c463-3594-40e8-8fc8-6a61242a0f46) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/9
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 93ms (Views: 1.1ms | ActiveRecord: 1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
Started GET "/users/9/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 9], ["confirmation_token", "768cc65c8eccb1a6cdd6914abafadef7c3ea1994"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "9"], ["confirmation_token", "768cc65c8eccb1a6cdd6914abafadef7c3ea1994"]]
Redirected to http://www.example.com/users/9/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/users/9/password/edit" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 9], ["confirmation_token", "768cc65c8eccb1a6cdd6914abafadef7c3ea1994"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "9"], ["confirmation_token", "768cc65c8eccb1a6cdd6914abafadef7c3ea1994"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
Started PUT "/users/9/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:21:23 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 9], ["confirmation_token", "768cc65c8eccb1a6cdd6914abafadef7c3ea1994"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "9"], ["confirmation_token", "768cc65c8eccb1a6cdd6914abafadef7c3ea1994"]]
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 9) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 9) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$7.O6dvhtZ2rg9TYcw.V7/uH174STZHij5LhMHCelPB17Sfk9qABkK"], ["created_at", "2016-11-20 00:47:43.741389"], ["updated_at", "2016-11-20 00:47:43.741389"], ["remember_token", "8afaf12dc0a80412a50bdbe03ef24388a20268a8"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (7.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (14.9ms)
Completed 200 OK in 44ms (Views: 25.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "8afaf12dc0a80412a50bdbe03ef24388a20268a8"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 10]]
  Rendered users/show.html.erb within layouts/application (10.3ms)
Completed 200 OK in 81ms (Views: 77.5ms | ActiveRecord: 0.7ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "8afaf12dc0a80412a50bdbe03ef24388a20268a8"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_token", "a7bdc07e8f35c02a843eb95b2f07c53b0d8b95a7"], ["updated_at", "2016-11-20 00:47:43.911473"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/sign_in
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$5hPu.p5TbK371CeM4sNA2e5yIQycUPmjC9e9QNarVQBXy.559wfmW"], ["created_at", "2016-11-20 00:47:43.980442"], ["updated_at", "2016-11-20 00:47:43.980442"], ["remember_token", "b9582280acd695749977dcca3fc3070e6f9048fb"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:47:43 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "74ace9dcf7e0b232aa67b87cb3ea7127c5073f81"], ["updated_at", "2016-11-20 00:47:43.991954"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 11]]
[ActiveJob] [ActionMailer::DeliveryJob] [31beaf1f-0be3-47b3-8e5a-b3a0dc4960c8] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/11
[ActiveJob] [ActionMailer::DeliveryJob] [31beaf1f-0be3-47b3-8e5a-b3a0dc4960c8]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [31beaf1f-0be3-47b3-8e5a-b3a0dc4960c8]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.9ms)
[ActiveJob] [ActionMailer::DeliveryJob] [31beaf1f-0be3-47b3-8e5a-b3a0dc4960c8] 
ClearanceMailer#change_password: processed outbound mail in 367.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [31beaf1f-0be3-47b3-8e5a-b3a0dc4960c8] 
Sent mail to user2@example.com (12.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [31beaf1f-0be3-47b3-8e5a-b3a0dc4960c8] Date: Sat, 19 Nov 2016 19:47:44 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <5830f2b05f373_23b03fc4ac45e45c3163@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f2b05d517_23b03fc4ac45e45c315b3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f2b05d517_23b03fc4ac45e45c315b3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/11/password/edit?token=74ace9dcf7e0b232aa67b87cb3ea7127c5073f81

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f2b05d517_23b03fc4ac45e45c315b3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/11/password/edit?token=74ace9dcf7e0b232aa67b87cb3ea7127c5073f81">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f2b05d517_23b03fc4ac45e45c315b3--

[ActiveJob] [ActionMailer::DeliveryJob] [31beaf1f-0be3-47b3-8e5a-b3a0dc4960c8] Performed ActionMailer::DeliveryJob from Inline(mailers) in 381.34ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 31beaf1f-0be3-47b3-8e5a-b3a0dc4960c8) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/11
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.6ms)
Completed 200 OK in 410ms (Views: 3.2ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$YaQJJVCFl4tyRqgbIfDvJeM8TSi8Gy8PnPl1RUA3kEJxTBCcL7vmK"], ["created_at", "2016-11-20 00:47:44.422162"], ["updated_at", "2016-11-20 00:47:44.422162"], ["remember_token", "395b05f01a63667af23e1c975e13547a323dee37"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "395b05f01a63667af23e1c975e13547a323dee37"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 12]]
  Rendered users/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "395b05f01a63667af23e1c975e13547a323dee37"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 12]]
  Rendered users/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$YvCS0dkn6C9.yhy2n0oOHOT04XQrtacbaBtJVxsW5A1/6xkHvZGCS"], ["created_at", "2016-11-20 00:47:44.461467"], ["updated_at", "2016-11-20 00:47:44.461467"], ["remember_token", "648cd804272328b2b042b98695c83d227ae493e9"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "648cd804272328b2b042b98695c83d227ae493e9"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 13]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "648cd804272328b2b042b98695c83d227ae493e9"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 13]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$.EQI1zxqeeh2JFXeIZihh.RYUWQIcLwDOlym/mn/vYgtv.5WK1w4q"], ["created_at", "2016-11-20 00:47:44.496208"], ["updated_at", "2016-11-20 00:47:44.496208"], ["remember_token", "6e4c961180623962a5fb69cafa658e9da603d724"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.6ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.1ms)
Completed 401 Unauthorized in 5ms (Views: 1.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[36m (3.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.3ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.3ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$7g7KDoBTLg44Zplx8H0dru75dMuPGIh4dXDtAlLwW8Sj130L.3rT6"], ["created_at", "2016-11-20 00:47:44.645857"], ["updated_at", "2016-11-20 00:47:44.645857"], ["remember_token", "018bd57097aeb42aa9e516ad7240ef61d861cd84"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "018bd57097aeb42aa9e516ad7240ef61d861cd84"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 15]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "018bd57097aeb42aa9e516ad7240ef61d861cd84"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 15]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$gTgFBA3aA0hHI8L3XriRf.sVGnyGT.hoWRfUolrdCveKg55VgDUCW"], ["created_at", "2016-11-20 00:47:44.705405"], ["updated_at", "2016-11-20 00:47:44.705405"], ["remember_token", "2352e2bba5763fae74fe8637541b4e60eb0e40b8"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user3@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "e2c9326b684dfa46660b583a9af9954a38db3599"], ["updated_at", "2016-11-20 00:47:44.714409"], ["id", 16]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 16]]
[ActiveJob] [ActionMailer::DeliveryJob] [b0798320-b2e7-4f46-a41b-f5680befe3de] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/16
[ActiveJob] [ActionMailer::DeliveryJob] [b0798320-b2e7-4f46-a41b-f5680befe3de]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b0798320-b2e7-4f46-a41b-f5680befe3de]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b0798320-b2e7-4f46-a41b-f5680befe3de] 
ClearanceMailer#change_password: processed outbound mail in 3.1ms
[ActiveJob] [ActionMailer::DeliveryJob] [b0798320-b2e7-4f46-a41b-f5680befe3de] 
Sent mail to user3@example.com (3.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b0798320-b2e7-4f46-a41b-f5680befe3de] Date: Sat, 19 Nov 2016 19:47:44 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <5830f2b0b0dcd_23b03fc4ac45e45c318af@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f2b0b04f9_23b03fc4ac45e45c317fd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f2b0b04f9_23b03fc4ac45e45c317fd
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/16/password/edit?token=e2c9326b684dfa46660b583a9af9954a38db3599

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f2b0b04f9_23b03fc4ac45e45c317fd
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/16/password/edit?token=e2c9326b684dfa46660b583a9af9954a38db3599">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f2b0b04f9_23b03fc4ac45e45c317fd--

[ActiveJob] [ActionMailer::DeliveryJob] [b0798320-b2e7-4f46-a41b-f5680befe3de] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.96ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: b0798320-b2e7-4f46-a41b-f5680befe3de) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/16
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 15ms (Views: 0.8ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 16]]
Started GET "/users/16/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 16], ["confirmation_token", "e2c9326b684dfa46660b583a9af9954a38db3599"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "16"], ["confirmation_token", "e2c9326b684dfa46660b583a9af9954a38db3599"]]
Redirected to http://www.example.com/users/16/password/edit
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/16/password/edit" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 16], ["confirmation_token", "e2c9326b684dfa46660b583a9af9954a38db3599"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "16"], ["confirmation_token", "e2c9326b684dfa46660b583a9af9954a38db3599"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.3ms)
Started PUT "/users/16/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 16], ["confirmation_token", "e2c9326b684dfa46660b583a9af9954a38db3599"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "16"], ["confirmation_token", "e2c9326b684dfa46660b583a9af9954a38db3599"]]
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 16) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 16) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$lUXwUGWJ6QX4BjQh8L7.9.XjkutTLvYvMM02XrjiilWgIsyCfD1mm"], ["confirmation_token", nil], ["remember_token", "2b2337497087a7e61ae79d1322b4a4642bae4762"], ["updated_at", "2016-11-20 00:47:44.760641"], ["id", 16]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "2b2337497087a7e61ae79d1322b4a4642bae4762"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 16]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "2b2337497087a7e61ae79d1322b4a4642bae4762"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 16]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$WNbPqrKY6V91ndM7duXRReWvf.92lAt56.B4ri9y/ZUnguMDysX.e"], ["created_at", "2016-11-20 00:47:44.781017"], ["updated_at", "2016-11-20 00:47:44.781017"], ["remember_token", "96f36b781910f78d2549dcafc62a42270b5dec34"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user4@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "d2a515f0aee3e88b78eef5226da484e8e4d725d4"], ["updated_at", "2016-11-20 00:47:44.789240"], ["id", 17]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 17]]
[ActiveJob] [ActionMailer::DeliveryJob] [9665b0a3-25c8-48aa-9125-a8c9a058e8ae] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/17
[ActiveJob] [ActionMailer::DeliveryJob] [9665b0a3-25c8-48aa-9125-a8c9a058e8ae]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9665b0a3-25c8-48aa-9125-a8c9a058e8ae]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9665b0a3-25c8-48aa-9125-a8c9a058e8ae] 
ClearanceMailer#change_password: processed outbound mail in 2.7ms
[ActiveJob] [ActionMailer::DeliveryJob] [9665b0a3-25c8-48aa-9125-a8c9a058e8ae] 
Sent mail to user4@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [9665b0a3-25c8-48aa-9125-a8c9a058e8ae] Date: Sat, 19 Nov 2016 19:47:44 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <5830f2b0c2c89_23b03fc4ac45e45c3205c@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f2b0c2485_23b03fc4ac45e45c3192a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f2b0c2485_23b03fc4ac45e45c3192a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/17/password/edit?token=d2a515f0aee3e88b78eef5226da484e8e4d725d4

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f2b0c2485_23b03fc4ac45e45c3192a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/17/password/edit?token=d2a515f0aee3e88b78eef5226da484e8e4d725d4">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f2b0c2485_23b03fc4ac45e45c3192a--

[ActiveJob] [ActionMailer::DeliveryJob] [9665b0a3-25c8-48aa-9125-a8c9a058e8ae] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.38ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 9665b0a3-25c8-48aa-9125-a8c9a058e8ae) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/17
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
Started GET "/users/17/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"17"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 17], ["confirmation_token", "d2a515f0aee3e88b78eef5226da484e8e4d725d4"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "17"], ["confirmation_token", "d2a515f0aee3e88b78eef5226da484e8e4d725d4"]]
Redirected to http://www.example.com/users/17/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/users/17/password/edit" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"17"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 17], ["confirmation_token", "d2a515f0aee3e88b78eef5226da484e8e4d725d4"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "17"], ["confirmation_token", "d2a515f0aee3e88b78eef5226da484e8e4d725d4"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
Started PUT "/users/17/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"17"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 17], ["confirmation_token", "d2a515f0aee3e88b78eef5226da484e8e4d725d4"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "17"], ["confirmation_token", "d2a515f0aee3e88b78eef5226da484e8e4d725d4"]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 17) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 17) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$WARaNZlymtduCWZ49Ry9mORMDiEChFGL1cEeDfXivrmqh.DtsEKCa"], ["confirmation_token", nil], ["remember_token", "8559947c37ba2418a4a25776a525340bf52cf751"], ["updated_at", "2016-11-20 00:47:44.821252"], ["id", 17]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "8559947c37ba2418a4a25776a525340bf52cf751"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 17]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "8559947c37ba2418a4a25776a525340bf52cf751"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "93dbf8cab99dd0c410a6fc65b0d05ec92aef1315"], ["updated_at", "2016-11-20 00:47:44.832970"], ["id", 17]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "93dbf8cab99dd0c410a6fc65b0d05ec92aef1315"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 17]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "93dbf8cab99dd0c410a6fc65b0d05ec92aef1315"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 17]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$bIQnH5sQ6uXYVxoyS0phOupf.Ne1rTwflD2PV5MniGKxjZeyxaBRm"], ["created_at", "2016-11-20 00:47:44.867941"], ["updated_at", "2016-11-20 00:47:44.867941"], ["remember_token", "5ef4e41583ad84115ef5c9a29545f3333eb10eb1"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user5@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "6508791382132491e885188c63497ea261335f62"], ["updated_at", "2016-11-20 00:47:44.952200"], ["id", 18]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
[ActiveJob] [ActionMailer::DeliveryJob] [de3d2b97-8761-4062-82d2-ebe5af7a25bb] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/18
[ActiveJob] [ActionMailer::DeliveryJob] [de3d2b97-8761-4062-82d2-ebe5af7a25bb]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [de3d2b97-8761-4062-82d2-ebe5af7a25bb]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [de3d2b97-8761-4062-82d2-ebe5af7a25bb] 
ClearanceMailer#change_password: processed outbound mail in 3.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [de3d2b97-8761-4062-82d2-ebe5af7a25bb] 
Sent mail to user5@example.com (3.9ms)
[ActiveJob] [ActionMailer::DeliveryJob] [de3d2b97-8761-4062-82d2-ebe5af7a25bb] Date: Sat, 19 Nov 2016 19:47:44 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <5830f2b0eb511_23b03fc4ac45e45c32282@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f2b0ea9bc_23b03fc4ac45e45c321fa";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f2b0ea9bc_23b03fc4ac45e45c321fa
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/18/password/edit?token=6508791382132491e885188c63497ea261335f62

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f2b0ea9bc_23b03fc4ac45e45c321fa
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/18/password/edit?token=6508791382132491e885188c63497ea261335f62">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f2b0ea9bc_23b03fc4ac45e45c321fa--

[ActiveJob] [ActionMailer::DeliveryJob] [de3d2b97-8761-4062-82d2-ebe5af7a25bb] Performed ActionMailer::DeliveryJob from Inline(mailers) in 8.54ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: de3d2b97-8761-4062-82d2-ebe5af7a25bb) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/18
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 18ms (Views: 1.0ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 18]]
Started GET "/users/18/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"18"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 18], ["confirmation_token", "6508791382132491e885188c63497ea261335f62"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "18"], ["confirmation_token", "6508791382132491e885188c63497ea261335f62"]]
Redirected to http://www.example.com/users/18/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/users/18/password/edit" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"18"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 18], ["confirmation_token", "6508791382132491e885188c63497ea261335f62"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "18"], ["confirmation_token", "6508791382132491e885188c63497ea261335f62"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms)
Started PUT "/users/18/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:47:44 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"18"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 18], ["confirmation_token", "6508791382132491e885188c63497ea261335f62"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "18"], ["confirmation_token", "6508791382132491e885188c63497ea261335f62"]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 18) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 18) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 10ms (Views: 1.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$d0vjd4WAFNomKFEjv/qAWOZUtsxg4mkqiPrYfFDrqhNtqtSHhm24u"], ["created_at", "2016-11-20 00:48:12.581935"], ["updated_at", "2016-11-20 00:48:12.581935"], ["remember_token", "4a3b33fec0de3426f2572a33b68469b9325a640f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (7.6ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (14.6ms)
Completed 200 OK in 44ms (Views: 24.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "4a3b33fec0de3426f2572a33b68469b9325a640f"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 19]]
  Rendered users/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 74ms (Views: 70.9ms | ActiveRecord: 0.7ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "4a3b33fec0de3426f2572a33b68469b9325a640f"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_token", "27979b23643114eef2d44c6b27f9ac1670a9a973"], ["updated_at", "2016-11-20 00:48:12.735332"], ["id", 19]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/sign_in
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$mH57nkApRKV.OmJ2DsEjw.0m.VfQ46NH65Sm91d2m/YJ7if3Gdj7K"], ["created_at", "2016-11-20 00:48:12.790344"], ["updated_at", "2016-11-20 00:48:12.790344"], ["remember_token", "f7ed09224df47df78d148445247582de078dc9fe"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:48:12 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "ca3d257a8b335e9a6c4ec1ff559633774f7aabc0"], ["updated_at", "2016-11-20 00:48:12.800408"], ["id", 20]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 20]]
[ActiveJob] [ActionMailer::DeliveryJob] [e5a48b7f-096f-44c0-8cf2-e0bcceee8428] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/20
[ActiveJob] [ActionMailer::DeliveryJob] [e5a48b7f-096f-44c0-8cf2-e0bcceee8428]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e5a48b7f-096f-44c0-8cf2-e0bcceee8428]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e5a48b7f-096f-44c0-8cf2-e0bcceee8428] 
ClearanceMailer#change_password: processed outbound mail in 335.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [e5a48b7f-096f-44c0-8cf2-e0bcceee8428] 
Sent mail to user2@example.com (9.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e5a48b7f-096f-44c0-8cf2-e0bcceee8428] Date: Sat, 19 Nov 2016 19:48:13 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <5830f2cd26930_23d13ff224c5244c63887@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f2cd24ea6_23d13ff224c5244c6377";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f2cd24ea6_23d13ff224c5244c6377
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/20/password/edit?token=ca3d257a8b335e9a6c4ec1ff559633774f7aabc0

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f2cd24ea6_23d13ff224c5244c6377
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/20/password/edit?token=ca3d257a8b335e9a6c4ec1ff559633774f7aabc0">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f2cd24ea6_23d13ff224c5244c6377--

[ActiveJob] [ActionMailer::DeliveryJob] [e5a48b7f-096f-44c0-8cf2-e0bcceee8428] Performed ActionMailer::DeliveryJob from Inline(mailers) in 346.39ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: e5a48b7f-096f-44c0-8cf2-e0bcceee8428) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/20
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.5ms)
Completed 200 OK in 367ms (Views: 2.6ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$zUUUn2TgDAQR9JVQHeCLzOHKwvn1sX4Hq6QaaJIdSvA/p4IruqEJO"], ["created_at", "2016-11-20 00:48:13.187243"], ["updated_at", "2016-11-20 00:48:13.187243"], ["remember_token", "4a2818ee21b36c000eedaf9ddecc7c7c93877b3e"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "4a2818ee21b36c000eedaf9ddecc7c7c93877b3e"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 21]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "4a2818ee21b36c000eedaf9ddecc7c7c93877b3e"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 21]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$FzwNd8TPsyZy02ryZso6jusB8y7qpfO4o0fQ0CSnL/gbmJg6IMw56"], ["created_at", "2016-11-20 00:48:13.217885"], ["updated_at", "2016-11-20 00:48:13.217885"], ["remember_token", "466bd865e47298664f80077e5df8e5b58eab152a"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "466bd865e47298664f80077e5df8e5b58eab152a"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 22]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "466bd865e47298664f80077e5df8e5b58eab152a"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 22]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$2p3Xhef9HoAjhdpzqX5V.eURtgTb8JFGV8fP/jUkKxwVlzVrvhxJi"], ["created_at", "2016-11-20 00:48:13.248761"], ["updated_at", "2016-11-20 00:48:13.248761"], ["remember_token", "93c9c7e5c699350461e9900084db8a0f28ae345a"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 4ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.1ms)
Completed 401 Unauthorized in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[36m (63.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.3ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$bjw3PSqAAUHk3nDRsrRnlOumoi4FRT98v9PN8BzmSLWwOpN/2WmhW"], ["created_at", "2016-11-20 00:48:13.379485"], ["updated_at", "2016-11-20 00:48:13.379485"], ["remember_token", "57a349be54ddcfe0c04565c868e88458231b53bc"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "57a349be54ddcfe0c04565c868e88458231b53bc"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 24]]
  Rendered users/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "57a349be54ddcfe0c04565c868e88458231b53bc"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 24]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 11ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$zT3vJquqKiTZLfv/Mbu7ZOW857Zh8pnykRKp1geeISwOBH2LfJQaq"], ["created_at", "2016-11-20 00:48:13.443539"], ["updated_at", "2016-11-20 00:48:13.443539"], ["remember_token", "6dc270ba0bd2e4de2d3a0c3c20ae904e68beed92"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user3@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "ea7683989af39331ed9a861983e61b40b03b32d3"], ["updated_at", "2016-11-20 00:48:13.452191"], ["id", 25]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 25]]
[ActiveJob] [ActionMailer::DeliveryJob] [e030f393-95f8-465a-8f09-b1ad083db492] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/25
[ActiveJob] [ActionMailer::DeliveryJob] [e030f393-95f8-465a-8f09-b1ad083db492]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e030f393-95f8-465a-8f09-b1ad083db492]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e030f393-95f8-465a-8f09-b1ad083db492] 
ClearanceMailer#change_password: processed outbound mail in 2.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [e030f393-95f8-465a-8f09-b1ad083db492] 
Sent mail to user3@example.com (3.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [e030f393-95f8-465a-8f09-b1ad083db492] Date: Sat, 19 Nov 2016 19:48:13 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <5830f2cd70875_23d13ff224c5244c6405d@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f2cd70055_23d13ff224c5244c63978";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f2cd70055_23d13ff224c5244c63978
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/25/password/edit?token=ea7683989af39331ed9a861983e61b40b03b32d3

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f2cd70055_23d13ff224c5244c63978
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/25/password/edit?token=ea7683989af39331ed9a861983e61b40b03b32d3">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f2cd70055_23d13ff224c5244c63978--

[ActiveJob] [ActionMailer::DeliveryJob] [e030f393-95f8-465a-8f09-b1ad083db492] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.56ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: e030f393-95f8-465a-8f09-b1ad083db492) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/25
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 25]]
Started GET "/users/25/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"25"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 25], ["confirmation_token", "ea7683989af39331ed9a861983e61b40b03b32d3"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "25"], ["confirmation_token", "ea7683989af39331ed9a861983e61b40b03b32d3"]]
Redirected to http://www.example.com/users/25/password/edit
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/25/password/edit" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"25"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 25], ["confirmation_token", "ea7683989af39331ed9a861983e61b40b03b32d3"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "25"], ["confirmation_token", "ea7683989af39331ed9a861983e61b40b03b32d3"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.4ms)
Started PUT "/users/25/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"25"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 25], ["confirmation_token", "ea7683989af39331ed9a861983e61b40b03b32d3"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "25"], ["confirmation_token", "ea7683989af39331ed9a861983e61b40b03b32d3"]]
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 25) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 25) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$vK4jKnWXYVdgTYVmqSt4dudAd0teJ978gh3Q.nB4P..C9M5Llpz7C"], ["confirmation_token", nil], ["remember_token", "54c0e2265eae3d9270008a32216f0a39832fd869"], ["updated_at", "2016-11-20 00:48:13.506881"], ["id", 25]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "54c0e2265eae3d9270008a32216f0a39832fd869"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 25]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "54c0e2265eae3d9270008a32216f0a39832fd869"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 25]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$jpZP0kkQj1Y/OaTQu5/N9eciE9o.RbqWPfcLrAjEiBYalRArnHzDy"], ["created_at", "2016-11-20 00:48:13.526630"], ["updated_at", "2016-11-20 00:48:13.526630"], ["remember_token", "a6779ef9bd4cf085ece26743b7aecfb60df50a0a"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user4@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "b8a538b3cf79f79f748af98500714031bc4f25ae"], ["updated_at", "2016-11-20 00:48:13.535921"], ["id", 26]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 26]]
[ActiveJob] [ActionMailer::DeliveryJob] [2d713d5e-fcc1-4392-a4ae-415be1ecd895] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/26
[ActiveJob] [ActionMailer::DeliveryJob] [2d713d5e-fcc1-4392-a4ae-415be1ecd895]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [2d713d5e-fcc1-4392-a4ae-415be1ecd895]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [2d713d5e-fcc1-4392-a4ae-415be1ecd895] 
ClearanceMailer#change_password: processed outbound mail in 2.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [2d713d5e-fcc1-4392-a4ae-415be1ecd895] 
Sent mail to user4@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [2d713d5e-fcc1-4392-a4ae-415be1ecd895] Date: Sat, 19 Nov 2016 19:48:13 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <5830f2cd84ffc_23d13ff224c5244c6429c@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f2cd8476d_23d13ff224c5244c64136";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f2cd8476d_23d13ff224c5244c64136
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/26/password/edit?token=b8a538b3cf79f79f748af98500714031bc4f25ae

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f2cd8476d_23d13ff224c5244c64136
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/26/password/edit?token=b8a538b3cf79f79f748af98500714031bc4f25ae">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f2cd8476d_23d13ff224c5244c64136--

[ActiveJob] [ActionMailer::DeliveryJob] [2d713d5e-fcc1-4392-a4ae-415be1ecd895] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.58ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 2d713d5e-fcc1-4392-a4ae-415be1ecd895) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/26
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 26]]
Started GET "/users/26/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"26"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 26], ["confirmation_token", "b8a538b3cf79f79f748af98500714031bc4f25ae"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "26"], ["confirmation_token", "b8a538b3cf79f79f748af98500714031bc4f25ae"]]
Redirected to http://www.example.com/users/26/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/users/26/password/edit" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"26"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 26], ["confirmation_token", "b8a538b3cf79f79f748af98500714031bc4f25ae"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "26"], ["confirmation_token", "b8a538b3cf79f79f748af98500714031bc4f25ae"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
Started PUT "/users/26/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"26"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 26], ["confirmation_token", "b8a538b3cf79f79f748af98500714031bc4f25ae"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "26"], ["confirmation_token", "b8a538b3cf79f79f748af98500714031bc4f25ae"]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 26) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 26) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$0pkK8lvWCQlRel1U29k6t.sthJRaBxtZ9deFpw0OXsObVjxQQcddq"], ["confirmation_token", nil], ["remember_token", "fab2e1bb796fb929fdab4f68f3e5d6d08ebcfaf0"], ["updated_at", "2016-11-20 00:48:13.567472"], ["id", 26]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "fab2e1bb796fb929fdab4f68f3e5d6d08ebcfaf0"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 26]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "fab2e1bb796fb929fdab4f68f3e5d6d08ebcfaf0"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "e2bf19be4edeae2edd740c172d5cdf80554204e4"], ["updated_at", "2016-11-20 00:48:13.579517"], ["id", 26]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "e2bf19be4edeae2edd740c172d5cdf80554204e4"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 26]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "e2bf19be4edeae2edd740c172d5cdf80554204e4"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 26]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$i6Udt8C9/wLCLV1Zy0oihuJV7c76.HdVYO0DMxORf7gjWlIhWhLm6"], ["created_at", "2016-11-20 00:48:13.616944"], ["updated_at", "2016-11-20 00:48:13.616944"], ["remember_token", "8cc80059d08c44d09386f46edcb3f3260042d22b"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user5@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "a1c1228924aee8b07ccc5fa7c9360ab185a4188f"], ["updated_at", "2016-11-20 00:48:13.693549"], ["id", 27]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 27]]
[ActiveJob] [ActionMailer::DeliveryJob] [0cd6ae8a-3350-464d-beaf-0295ccf7d938] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/27
[ActiveJob] [ActionMailer::DeliveryJob] [0cd6ae8a-3350-464d-beaf-0295ccf7d938]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0cd6ae8a-3350-464d-beaf-0295ccf7d938]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0cd6ae8a-3350-464d-beaf-0295ccf7d938] 
ClearanceMailer#change_password: processed outbound mail in 3.1ms
[ActiveJob] [ActionMailer::DeliveryJob] [0cd6ae8a-3350-464d-beaf-0295ccf7d938] 
Sent mail to user5@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0cd6ae8a-3350-464d-beaf-0295ccf7d938] Date: Sat, 19 Nov 2016 19:48:13 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <5830f2cdab8d9_23d13ff224c5244c64434@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f2cdab0ad_23d13ff224c5244c6434b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f2cdab0ad_23d13ff224c5244c6434b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/27/password/edit?token=a1c1228924aee8b07ccc5fa7c9360ab185a4188f

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f2cdab0ad_23d13ff224c5244c6434b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/27/password/edit?token=a1c1228924aee8b07ccc5fa7c9360ab185a4188f">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f2cdab0ad_23d13ff224c5244c6434b--

[ActiveJob] [ActionMailer::DeliveryJob] [0cd6ae8a-3350-464d-beaf-0295ccf7d938] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.77ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 0cd6ae8a-3350-464d-beaf-0295ccf7d938) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/27
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 27]]
Started GET "/users/27/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"27"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 27], ["confirmation_token", "a1c1228924aee8b07ccc5fa7c9360ab185a4188f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "27"], ["confirmation_token", "a1c1228924aee8b07ccc5fa7c9360ab185a4188f"]]
Redirected to http://www.example.com/users/27/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/users/27/password/edit" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"27"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 27], ["confirmation_token", "a1c1228924aee8b07ccc5fa7c9360ab185a4188f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "27"], ["confirmation_token", "a1c1228924aee8b07ccc5fa7c9360ab185a4188f"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms)
Started PUT "/users/27/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:48:13 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"27"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 27], ["confirmation_token", "a1c1228924aee8b07ccc5fa7c9360ab185a4188f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "27"], ["confirmation_token", "a1c1228924aee8b07ccc5fa7c9360ab185a4188f"]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 27) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 27) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$CWOrfNitHhsSZ4NZrBLnieASUGl3ptmJY1JltmMrRt2MtyWU2f8U6"], ["created_at", "2016-11-20 00:56:33.089878"], ["updated_at", "2016-11-20 00:56:33.089878"], ["remember_token", "72335b4a68f7cff7bffe41d7680c707c904e5d10"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (11.6ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (25.9ms)
Completed 200 OK in 60ms (Views: 40.3ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 69ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "72335b4a68f7cff7bffe41d7680c707c904e5d10"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 28]]
  Rendered users/show.html.erb within layouts/application (18.3ms)
Completed 200 OK in 29ms (Views: 25.7ms | ActiveRecord: 0.8ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "72335b4a68f7cff7bffe41d7680c707c904e5d10"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_token", "a2c1e949764184b8ab08975bc4c6bcde4c4c31eb"], ["updated_at", "2016-11-20 00:56:33.279819"], ["id", 28]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/sign_in
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$0y1LTEJrc6LCMvwhidY5be18XtfLeN.nZoeUD5DMGp/xDchTAr9se"], ["created_at", "2016-11-20 00:56:33.346040"], ["updated_at", "2016-11-20 00:56:33.346040"], ["remember_token", "e166dff1dc773fcf62479cfc805f8fdeba2d4197"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "6509b21f12adb319035a98c455c2b6d3eac0ece7"], ["updated_at", "2016-11-20 00:56:33.356959"], ["id", 29]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 29]]
[ActiveJob] [ActionMailer::DeliveryJob] [7df065fa-3e9c-4d2c-b609-81cb3df9439f] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/29
[ActiveJob] [ActionMailer::DeliveryJob] [7df065fa-3e9c-4d2c-b609-81cb3df9439f]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [7df065fa-3e9c-4d2c-b609-81cb3df9439f]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [7df065fa-3e9c-4d2c-b609-81cb3df9439f] 
ClearanceMailer#change_password: processed outbound mail in 376.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [7df065fa-3e9c-4d2c-b609-81cb3df9439f] 
Sent mail to user2@example.com (12.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [7df065fa-3e9c-4d2c-b609-81cb3df9439f] Date: Sat, 19 Nov 2016 19:56:33 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <5830f4c1b97bd_25793fd4e445e45048435@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f4c1b796e_25793fd4e445e450483b2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f4c1b796e_25793fd4e445e450483b2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/29/password/edit?token=6509b21f12adb319035a98c455c2b6d3eac0ece7

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f4c1b796e_25793fd4e445e450483b2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/29/password/edit?token=6509b21f12adb319035a98c455c2b6d3eac0ece7">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f4c1b796e_25793fd4e445e450483b2--

[ActiveJob] [ActionMailer::DeliveryJob] [7df065fa-3e9c-4d2c-b609-81cb3df9439f] Performed ActionMailer::DeliveryJob from Inline(mailers) in 390.32ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 7df065fa-3e9c-4d2c-b609-81cb3df9439f) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/29
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.6ms)
Completed 200 OK in 414ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$c4tNmD3izVkvZ/LUm2tjR.6qCsXFdCdSb9nRifDXVQqhycN9xC/F2"], ["created_at", "2016-11-20 00:56:33.793677"], ["updated_at", "2016-11-20 00:56:33.793677"], ["remember_token", "8c25afa45cdd007affe5ff6566546fac6e579dff"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "8c25afa45cdd007affe5ff6566546fac6e579dff"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 30]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "8c25afa45cdd007affe5ff6566546fac6e579dff"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 30]]
  Rendered users/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$/zG0fZ7cfDlMTgcVG1ybp.Sxu5CA0QL7Aa8X4FqYR4hj6GQgIflqu"], ["created_at", "2016-11-20 00:56:33.828737"], ["updated_at", "2016-11-20 00:56:33.828737"], ["remember_token", "4fba7a2d5ac590ab327561377755095aa5e7ba77"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "4fba7a2d5ac590ab327561377755095aa5e7ba77"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 31]]
  Rendered users/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "4fba7a2d5ac590ab327561377755095aa5e7ba77"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 31]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$9YyY6j7ft3RB2NliS9z3Du34fV2AP/CCJ87k0diB59qoEeCcx8n5y"], ["created_at", "2016-11-20 00:56:33.860660"], ["updated_at", "2016-11-20 00:56:33.860660"], ["remember_token", "b0ac6bc40e6fdfb58a18777dbde90359397ef40a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$E9tL66QqARTSw5j2hm0ApOvnmB42TtL.tNA8FuHbtwG9nDOMC6jVe"], ["created_at", "2016-11-20 00:56:33.996216"], ["updated_at", "2016-11-20 00:56:33.996216"], ["remember_token", "9502a64ca0cdf3d6f8273f28b4e86531389a626e"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:33 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "9502a64ca0cdf3d6f8273f28b4e86531389a626e"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 33]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "9502a64ca0cdf3d6f8273f28b4e86531389a626e"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 33]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$drq5OIIh3uHNeUR1qiGBH.JVtdvJ2USHgMf.8.oXwpUoZnbTyEMqK"], ["created_at", "2016-11-20 00:56:34.055956"], ["updated_at", "2016-11-20 00:56:34.055956"], ["remember_token", "23671a80cbe0222ce158712275b540e464bc8317"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user3@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "2d2dfc924f158989602563780f370ffd87eef939"], ["updated_at", "2016-11-20 00:56:34.065898"], ["id", 34]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 34]]
[ActiveJob] [ActionMailer::DeliveryJob] [662518b2-7252-4c33-b189-8f10f0ec4848] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/34
[ActiveJob] [ActionMailer::DeliveryJob] [662518b2-7252-4c33-b189-8f10f0ec4848]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [662518b2-7252-4c33-b189-8f10f0ec4848]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [662518b2-7252-4c33-b189-8f10f0ec4848] 
ClearanceMailer#change_password: processed outbound mail in 3.2ms
[ActiveJob] [ActionMailer::DeliveryJob] [662518b2-7252-4c33-b189-8f10f0ec4848] 
Sent mail to user3@example.com (3.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [662518b2-7252-4c33-b189-8f10f0ec4848] Date: Sat, 19 Nov 2016 19:56:34 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <5830f4c212ac3_25793fd4e445e4504862d@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f4c212282_25793fd4e445e450485b4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f4c212282_25793fd4e445e450485b4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/34/password/edit?token=2d2dfc924f158989602563780f370ffd87eef939

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f4c212282_25793fd4e445e450485b4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/34/password/edit?token=2d2dfc924f158989602563780f370ffd87eef939">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f4c212282_25793fd4e445e450485b4--

[ActiveJob] [ActionMailer::DeliveryJob] [662518b2-7252-4c33-b189-8f10f0ec4848] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.77ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 662518b2-7252-4c33-b189-8f10f0ec4848) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/34
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 16ms (Views: 0.7ms | ActiveRecord: 1.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 34]]
Started GET "/users/34/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"34"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 34], ["confirmation_token", "2d2dfc924f158989602563780f370ffd87eef939"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "34"], ["confirmation_token", "2d2dfc924f158989602563780f370ffd87eef939"]]
Redirected to http://www.example.com/users/34/password/edit
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/34/password/edit" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"34"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 34], ["confirmation_token", "2d2dfc924f158989602563780f370ffd87eef939"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "34"], ["confirmation_token", "2d2dfc924f158989602563780f370ffd87eef939"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.3ms)
Started PUT "/users/34/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"34"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 34], ["confirmation_token", "2d2dfc924f158989602563780f370ffd87eef939"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "34"], ["confirmation_token", "2d2dfc924f158989602563780f370ffd87eef939"]]
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 34) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 34) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$LeFyqmT60.cXa42aV9A6F.binU0vRbrKG1hhEoCLun/NL/iuWZNJG"], ["confirmation_token", nil], ["remember_token", "f9db4bbcce38b2948dacd5b578638cc79686e544"], ["updated_at", "2016-11-20 00:56:34.108052"], ["id", 34]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "f9db4bbcce38b2948dacd5b578638cc79686e544"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 34]]
  Rendered users/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "f9db4bbcce38b2948dacd5b578638cc79686e544"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 34]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$0aSVx1SEOLF8E5J36rRrK..ZNZ/8TNS1.ss4HuhjwxhPYIVkCk5Xe"], ["created_at", "2016-11-20 00:56:34.132259"], ["updated_at", "2016-11-20 00:56:34.132259"], ["remember_token", "124a91f61cc99cba5ceb3c0f7b85c240fd9fc981"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user4@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "448b592ade077966f7b361bbdeb631d53f2a23b5"], ["updated_at", "2016-11-20 00:56:34.140726"], ["id", 35]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 35]]
[ActiveJob] [ActionMailer::DeliveryJob] [145e08d1-f2ea-4ea7-81bc-4cddbd358dea] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/35
[ActiveJob] [ActionMailer::DeliveryJob] [145e08d1-f2ea-4ea7-81bc-4cddbd358dea]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [145e08d1-f2ea-4ea7-81bc-4cddbd358dea]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [145e08d1-f2ea-4ea7-81bc-4cddbd358dea] 
ClearanceMailer#change_password: processed outbound mail in 3.3ms
[ActiveJob] [ActionMailer::DeliveryJob] [145e08d1-f2ea-4ea7-81bc-4cddbd358dea] 
Sent mail to user4@example.com (3.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [145e08d1-f2ea-4ea7-81bc-4cddbd358dea] Date: Sat, 19 Nov 2016 19:56:34 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <5830f4c224839_25793fd4e445e45048839@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f4c22400d_25793fd4e445e45048768";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f4c22400d_25793fd4e445e45048768
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/35/password/edit?token=448b592ade077966f7b361bbdeb631d53f2a23b5

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f4c22400d_25793fd4e445e45048768
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/35/password/edit?token=448b592ade077966f7b361bbdeb631d53f2a23b5">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f4c22400d_25793fd4e445e45048768--

[ActiveJob] [ActionMailer::DeliveryJob] [145e08d1-f2ea-4ea7-81bc-4cddbd358dea] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.87ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 145e08d1-f2ea-4ea7-81bc-4cddbd358dea) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/35
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 35]]
Started GET "/users/35/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"35"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 35], ["confirmation_token", "448b592ade077966f7b361bbdeb631d53f2a23b5"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "35"], ["confirmation_token", "448b592ade077966f7b361bbdeb631d53f2a23b5"]]
Redirected to http://www.example.com/users/35/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/users/35/password/edit" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"35"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 35], ["confirmation_token", "448b592ade077966f7b361bbdeb631d53f2a23b5"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "35"], ["confirmation_token", "448b592ade077966f7b361bbdeb631d53f2a23b5"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
Started PUT "/users/35/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"35"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 35], ["confirmation_token", "448b592ade077966f7b361bbdeb631d53f2a23b5"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "35"], ["confirmation_token", "448b592ade077966f7b361bbdeb631d53f2a23b5"]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 35) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 35) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$P8YkX/1L6hNV4g6ugiHgh.v7UEi2PAKC.2CP6v5UvwviZpXkpwlP."], ["confirmation_token", nil], ["remember_token", "39ac2ec1d47324dfeefad6ba535c89fee9fd853f"], ["updated_at", "2016-11-20 00:56:34.176931"], ["id", 35]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "39ac2ec1d47324dfeefad6ba535c89fee9fd853f"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 35]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "39ac2ec1d47324dfeefad6ba535c89fee9fd853f"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "6ae1795f80d22dcda9207007f217a248034426b7"], ["updated_at", "2016-11-20 00:56:34.188775"], ["id", 35]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "6ae1795f80d22dcda9207007f217a248034426b7"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 35]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "6ae1795f80d22dcda9207007f217a248034426b7"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 35]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$mQT5j6B61gOG5bydyutuKeOZ0lQUmuu3Im8WqIVjKJ083L0veEH9W"], ["created_at", "2016-11-20 00:56:34.221946"], ["updated_at", "2016-11-20 00:56:34.221946"], ["remember_token", "f71c3d43aa2f3eddfa11726424e8c91694c068a0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user5@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "5184d1772a3459cbbb0497d4eef57ff8ded9bc00"], ["updated_at", "2016-11-20 00:56:34.230626"], ["id", 36]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 36]]
[ActiveJob] [ActionMailer::DeliveryJob] [b7c9868e-c5f7-472c-a0a4-7efe06068cdc] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/36
[ActiveJob] [ActionMailer::DeliveryJob] [b7c9868e-c5f7-472c-a0a4-7efe06068cdc]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b7c9868e-c5f7-472c-a0a4-7efe06068cdc]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b7c9868e-c5f7-472c-a0a4-7efe06068cdc] 
ClearanceMailer#change_password: processed outbound mail in 3.1ms
[ActiveJob] [ActionMailer::DeliveryJob] [b7c9868e-c5f7-472c-a0a4-7efe06068cdc] 
Sent mail to user5@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [b7c9868e-c5f7-472c-a0a4-7efe06068cdc] Date: Sat, 19 Nov 2016 19:56:34 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <5830f4c24c416_25793fd4e445e45049052@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f4c24bbfc_25793fd4e445e4504898b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f4c24bbfc_25793fd4e445e4504898b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/36/password/edit?token=5184d1772a3459cbbb0497d4eef57ff8ded9bc00

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f4c24bbfc_25793fd4e445e4504898b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/36/password/edit?token=5184d1772a3459cbbb0497d4eef57ff8ded9bc00">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f4c24bbfc_25793fd4e445e4504898b--

[ActiveJob] [ActionMailer::DeliveryJob] [b7c9868e-c5f7-472c-a0a4-7efe06068cdc] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.85ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: b7c9868e-c5f7-472c-a0a4-7efe06068cdc) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/36
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 86ms (Views: 0.8ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 36]]
Started GET "/users/36/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"36"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 36], ["confirmation_token", "5184d1772a3459cbbb0497d4eef57ff8ded9bc00"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "36"], ["confirmation_token", "5184d1772a3459cbbb0497d4eef57ff8ded9bc00"]]
Redirected to http://www.example.com/users/36/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/users/36/password/edit" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"36"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 36], ["confirmation_token", "5184d1772a3459cbbb0497d4eef57ff8ded9bc00"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "36"], ["confirmation_token", "5184d1772a3459cbbb0497d4eef57ff8ded9bc00"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms)
Started PUT "/users/36/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:56:34 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"36"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 36], ["confirmation_token", "5184d1772a3459cbbb0497d4eef57ff8ded9bc00"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "36"], ["confirmation_token", "5184d1772a3459cbbb0497d4eef57ff8ded9bc00"]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 36) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 36) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.7ms)
Completed 200 OK in 9ms (Views: 1.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$9toihokyba02E.XmdKMc3OJ9gkUlamB.SpTO.sY/PEVQLMj77YJnO"], ["created_at", "2016-11-20 00:57:31.059371"], ["updated_at", "2016-11-20 00:57:31.059371"], ["remember_token", "cb6e1b396d948b3d245bba8ecf55a74729c3ea3a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (7.6ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 43ms (Views: 24.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 67ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "cb6e1b396d948b3d245bba8ecf55a74729c3ea3a"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 37]]
  Rendered users/show.html.erb within layouts/application (9.2ms)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 0.6ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "cb6e1b396d948b3d245bba8ecf55a74729c3ea3a"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_token", "dbde1266adc254e49e2a7634b1d0b7734cc1f6c1"], ["updated_at", "2016-11-20 00:57:31.216199"], ["id", 37]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/sign_in
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$1iglP/jMMgiwiELU/bs5K.1OSUicA/gQ95OBMr5TJaCeHLgYrRZ0a"], ["created_at", "2016-11-20 00:57:31.270169"], ["updated_at", "2016-11-20 00:57:31.270169"], ["remember_token", "aa2ad77a77dceb0b4e0d5f3e81b6ad53c696dfc7"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "f8be694f111421856b387f93d64e6d3acc29e884"], ["updated_at", "2016-11-20 00:57:31.283309"], ["id", 38]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 38]]
[ActiveJob] [ActionMailer::DeliveryJob] [87d6729f-3cea-4bac-8ff9-7a662ed4316a] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/38
[ActiveJob] [ActionMailer::DeliveryJob] [87d6729f-3cea-4bac-8ff9-7a662ed4316a]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [87d6729f-3cea-4bac-8ff9-7a662ed4316a]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [87d6729f-3cea-4bac-8ff9-7a662ed4316a] 
ClearanceMailer#change_password: processed outbound mail in 302.7ms
[ActiveJob] [ActionMailer::DeliveryJob] [87d6729f-3cea-4bac-8ff9-7a662ed4316a] 
Sent mail to user2@example.com (10.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [87d6729f-3cea-4bac-8ff9-7a662ed4316a] Date: Sat, 19 Nov 2016 19:57:31 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <5830f4fb94266_25ac3fdd9a45245c35875@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f4fb92a14_25ac3fdd9a45245c357a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f4fb92a14_25ac3fdd9a45245c357a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/38/password/edit?token=f8be694f111421856b387f93d64e6d3acc29e884

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f4fb92a14_25ac3fdd9a45245c357a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/38/password/edit?token=f8be694f111421856b387f93d64e6d3acc29e884">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f4fb92a14_25ac3fdd9a45245c357a--

[ActiveJob] [ActionMailer::DeliveryJob] [87d6729f-3cea-4bac-8ff9-7a662ed4316a] Performed ActionMailer::DeliveryJob from Inline(mailers) in 313.82ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 87d6729f-3cea-4bac-8ff9-7a662ed4316a) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/38
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.7ms)
Completed 200 OK in 335ms (Views: 3.8ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$9KdCKRiP4N.DG3J/JC5NCOKXv7xOXiUM.nvPLLGUzJlMJ3eUj4OG2"], ["created_at", "2016-11-20 00:57:31.643721"], ["updated_at", "2016-11-20 00:57:31.643721"], ["remember_token", "83a3e4bdf94344eb363a6b7f11a636e174d9797c"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "83a3e4bdf94344eb363a6b7f11a636e174d9797c"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 39]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "83a3e4bdf94344eb363a6b7f11a636e174d9797c"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 39]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$RczYd1JFkDqArC8ZUF8kju0ngXe2mHtRzFkwKjzHHFQoFOpKEfiMG"], ["created_at", "2016-11-20 00:57:31.674885"], ["updated_at", "2016-11-20 00:57:31.674885"], ["remember_token", "ed04ecfd10facaced301ab5f87784afb2b60343f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "ed04ecfd10facaced301ab5f87784afb2b60343f"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 40]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "ed04ecfd10facaced301ab5f87784afb2b60343f"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 40]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$MpUxcJ0Tyu400abnXriNQe286/iLrn7h24ZDo2E2bWBgf7dcZlJIG"], ["created_at", "2016-11-20 00:57:31.713406"], ["updated_at", "2016-11-20 00:57:31.713406"], ["remember_token", "283b90acd9fe0e92b4b480b36df9ded45af53ffe"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 401 Unauthorized in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$kZoL/nsYfxq7qdiA2MvBhOifX.VzJRianmYkXmGZ1zmKShkFSZd/K"], ["created_at", "2016-11-20 00:57:31.844740"], ["updated_at", "2016-11-20 00:57:31.844740"], ["remember_token", "15978d92af0aaf057726b23c6d4d262653c6582f"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "15978d92af0aaf057726b23c6d4d262653c6582f"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 42]]
  Rendered users/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "15978d92af0aaf057726b23c6d4d262653c6582f"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 42]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$wU6MKdR/51gguIS3gT8SvuihLnJ0WwkSVBQ3qPLyc64TyY.6dpIwC"], ["created_at", "2016-11-20 00:57:31.907930"], ["updated_at", "2016-11-20 00:57:31.907930"], ["remember_token", "388853ec772cdd5e79b81187301a5f542192bdf1"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user3@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "c7ad31219feb49114501993ed15b342a810e2aa8"], ["updated_at", "2016-11-20 00:57:31.916545"], ["id", 43]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 43]]
[ActiveJob] [ActionMailer::DeliveryJob] [a3adce97-be10-48fb-9f4e-1026bda29a8f] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/43
[ActiveJob] [ActionMailer::DeliveryJob] [a3adce97-be10-48fb-9f4e-1026bda29a8f]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [a3adce97-be10-48fb-9f4e-1026bda29a8f]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [a3adce97-be10-48fb-9f4e-1026bda29a8f] 
ClearanceMailer#change_password: processed outbound mail in 2.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [a3adce97-be10-48fb-9f4e-1026bda29a8f] 
Sent mail to user3@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [a3adce97-be10-48fb-9f4e-1026bda29a8f] Date: Sat, 19 Nov 2016 19:57:31 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <5830f4fbe1ea8_25ac3fdd9a45245c36020@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f4fbe1680_25ac3fdd9a45245c359bb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f4fbe1680_25ac3fdd9a45245c359bb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/43/password/edit?token=c7ad31219feb49114501993ed15b342a810e2aa8

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f4fbe1680_25ac3fdd9a45245c359bb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/43/password/edit?token=c7ad31219feb49114501993ed15b342a810e2aa8">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f4fbe1680_25ac3fdd9a45245c359bb--

[ActiveJob] [ActionMailer::DeliveryJob] [a3adce97-be10-48fb-9f4e-1026bda29a8f] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.44ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: a3adce97-be10-48fb-9f4e-1026bda29a8f) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/43
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 43]]
Started GET "/users/43/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"43"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 43], ["confirmation_token", "c7ad31219feb49114501993ed15b342a810e2aa8"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "43"], ["confirmation_token", "c7ad31219feb49114501993ed15b342a810e2aa8"]]
Redirected to http://www.example.com/users/43/password/edit
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/43/password/edit" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"43"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 43], ["confirmation_token", "c7ad31219feb49114501993ed15b342a810e2aa8"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "43"], ["confirmation_token", "c7ad31219feb49114501993ed15b342a810e2aa8"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.4ms)
Started PUT "/users/43/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"43"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 43], ["confirmation_token", "c7ad31219feb49114501993ed15b342a810e2aa8"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "43"], ["confirmation_token", "c7ad31219feb49114501993ed15b342a810e2aa8"]]
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 43) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 43) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$uuNg9garok6sRrGCZDPPW.UtlPRpZI48CHbPnBVaBQNTvRPLZYLgq"], ["confirmation_token", nil], ["remember_token", "90791ff2914f3ba766010721c314b490b2259f65"], ["updated_at", "2016-11-20 00:57:31.957040"], ["id", 43]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "90791ff2914f3ba766010721c314b490b2259f65"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 43]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "90791ff2914f3ba766010721c314b490b2259f65"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 43]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$DoLPAGKSbFECUtWYXNIVv.KnRjuvDu.kLVvtRYJl6RBp.rW2Gi2H6"], ["created_at", "2016-11-20 00:57:31.976747"], ["updated_at", "2016-11-20 00:57:31.976747"], ["remember_token", "db99b363fea8a9fe5a0341801a40dde1f58aa14f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:57:31 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user4@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "2a444f86757189c09f5a0b65209b2ec81b5e65e4"], ["updated_at", "2016-11-20 00:57:31.985686"], ["id", 44]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 44]]
[ActiveJob] [ActionMailer::DeliveryJob] [6901d231-7154-4d5b-8305-8f15eae8197d] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/44
[ActiveJob] [ActionMailer::DeliveryJob] [6901d231-7154-4d5b-8305-8f15eae8197d]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6901d231-7154-4d5b-8305-8f15eae8197d]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6901d231-7154-4d5b-8305-8f15eae8197d] 
ClearanceMailer#change_password: processed outbound mail in 2.7ms
[ActiveJob] [ActionMailer::DeliveryJob] [6901d231-7154-4d5b-8305-8f15eae8197d] 
Sent mail to user4@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6901d231-7154-4d5b-8305-8f15eae8197d] Date: Sat, 19 Nov 2016 19:57:31 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <5830f4fbf2d33_25ac3fdd9a45245c36223@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f4fbf2554_25ac3fdd9a45245c36120";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f4fbf2554_25ac3fdd9a45245c36120
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/44/password/edit?token=2a444f86757189c09f5a0b65209b2ec81b5e65e4

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f4fbf2554_25ac3fdd9a45245c36120
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/44/password/edit?token=2a444f86757189c09f5a0b65209b2ec81b5e65e4">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f4fbf2554_25ac3fdd9a45245c36120--

[ActiveJob] [ActionMailer::DeliveryJob] [6901d231-7154-4d5b-8305-8f15eae8197d] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.29ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 6901d231-7154-4d5b-8305-8f15eae8197d) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/44
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 44]]
Started GET "/users/44/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"44"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 44], ["confirmation_token", "2a444f86757189c09f5a0b65209b2ec81b5e65e4"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "44"], ["confirmation_token", "2a444f86757189c09f5a0b65209b2ec81b5e65e4"]]
Redirected to http://www.example.com/users/44/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/users/44/password/edit" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"44"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 44], ["confirmation_token", "2a444f86757189c09f5a0b65209b2ec81b5e65e4"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "44"], ["confirmation_token", "2a444f86757189c09f5a0b65209b2ec81b5e65e4"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms)
Started PUT "/users/44/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"44"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 44], ["confirmation_token", "2a444f86757189c09f5a0b65209b2ec81b5e65e4"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "44"], ["confirmation_token", "2a444f86757189c09f5a0b65209b2ec81b5e65e4"]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 44) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 44) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$Z1n7TVgxG7OL4IY3XiBKfuYtX/ywdNZNXclqpmqHkWkuS4wru1s3G"], ["confirmation_token", nil], ["remember_token", "b452c691c128bce78a9efc7c8d628d971e31456d"], ["updated_at", "2016-11-20 00:57:32.016883"], ["id", 44]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "b452c691c128bce78a9efc7c8d628d971e31456d"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 44]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "b452c691c128bce78a9efc7c8d628d971e31456d"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "d684faf0e209d2731e071b111b101beb2763d838"], ["updated_at", "2016-11-20 00:57:32.028670"], ["id", 44]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "d684faf0e209d2731e071b111b101beb2763d838"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 44]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "d684faf0e209d2731e071b111b101beb2763d838"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 44]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$ls/xjclydyXTcECt6tcymOGaalqe/6.tK/ejiXqz0fJ4mva73kGw6"], ["created_at", "2016-11-20 00:57:32.062271"], ["updated_at", "2016-11-20 00:57:32.062271"], ["remember_token", "0c9050bb65ef97e92c3e58daa9487060362a2f22"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user5@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "67aa602af4ba2f054b3518a7c6b14fbda11a599d"], ["updated_at", "2016-11-20 00:57:32.070726"], ["id", 45]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 45]]
[ActiveJob] [ActionMailer::DeliveryJob] [3f7ad6fa-55e6-42a9-9a72-62b9148c6de7] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/45
[ActiveJob] [ActionMailer::DeliveryJob] [3f7ad6fa-55e6-42a9-9a72-62b9148c6de7]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [3f7ad6fa-55e6-42a9-9a72-62b9148c6de7]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [3f7ad6fa-55e6-42a9-9a72-62b9148c6de7] 
ClearanceMailer#change_password: processed outbound mail in 3.1ms
[ActiveJob] [ActionMailer::DeliveryJob] [3f7ad6fa-55e6-42a9-9a72-62b9148c6de7] 
Sent mail to user5@example.com (3.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [3f7ad6fa-55e6-42a9-9a72-62b9148c6de7] Date: Sat, 19 Nov 2016 19:57:32 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <5830f4fc25958_25ac3fdd9a45245c36453@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f4fc250e3_25ac3fdd9a45245c3631b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f4fc250e3_25ac3fdd9a45245c3631b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/45/password/edit?token=67aa602af4ba2f054b3518a7c6b14fbda11a599d

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f4fc250e3_25ac3fdd9a45245c3631b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/45/password/edit?token=67aa602af4ba2f054b3518a7c6b14fbda11a599d">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f4fc250e3_25ac3fdd9a45245c3631b--

[ActiveJob] [ActionMailer::DeliveryJob] [3f7ad6fa-55e6-42a9-9a72-62b9148c6de7] Performed ActionMailer::DeliveryJob from Inline(mailers) in 7.11ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 3f7ad6fa-55e6-42a9-9a72-62b9148c6de7) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/45
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 88ms (Views: 0.9ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 45]]
Started GET "/users/45/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"45"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 45], ["confirmation_token", "67aa602af4ba2f054b3518a7c6b14fbda11a599d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "45"], ["confirmation_token", "67aa602af4ba2f054b3518a7c6b14fbda11a599d"]]
Redirected to http://www.example.com/users/45/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/users/45/password/edit" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"45"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 45], ["confirmation_token", "67aa602af4ba2f054b3518a7c6b14fbda11a599d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "45"], ["confirmation_token", "67aa602af4ba2f054b3518a7c6b14fbda11a599d"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms)
Started PUT "/users/45/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:57:32 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"45"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 45], ["confirmation_token", "67aa602af4ba2f054b3518a7c6b14fbda11a599d"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "45"], ["confirmation_token", "67aa602af4ba2f054b3518a7c6b14fbda11a599d"]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 45) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 45) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$VavPNi7TtFqldJzke4GnfeQ0BdyL.a8CzuVJ1hWyqvUwuTfwxGsBW"], ["created_at", "2016-11-20 00:58:09.473176"], ["updated_at", "2016-11-20 00:58:09.473176"], ["remember_token", "191dd97a1b3e7fcc89a963fadfd8f2538d430a27"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (7.5ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (14.6ms)
Completed 200 OK in 44ms (Views: 24.6ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 68ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "191dd97a1b3e7fcc89a963fadfd8f2538d430a27"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 46]]
  Rendered users/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 18ms (Views: 15.2ms | ActiveRecord: 0.6ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "191dd97a1b3e7fcc89a963fadfd8f2538d430a27"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_token", "8f30ea5b5b29b0090e66394eb21c346c3b7eee65"], ["updated_at", "2016-11-20 00:58:09.632706"], ["id", 46]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/sign_in
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$hySrs9xmtxYkTu93gnlsOeIZzrk7xTz/CgFX.fV.p9Bbyu/FN4JVC"], ["created_at", "2016-11-20 00:58:09.684728"], ["updated_at", "2016-11-20 00:58:09.684728"], ["remember_token", "508661cc3aeeb16464853f461ca43f08adb9996e"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:09 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "e847b581a9f226ce0c46dd048e29b5921abfd7ba"], ["updated_at", "2016-11-20 00:58:09.696318"], ["id", 47]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 47]]
[ActiveJob] [ActionMailer::DeliveryJob] [bcec10f3-9129-44c5-9c12-59f3ad034710] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/47
[ActiveJob] [ActionMailer::DeliveryJob] [bcec10f3-9129-44c5-9c12-59f3ad034710]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [bcec10f3-9129-44c5-9c12-59f3ad034710]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [bcec10f3-9129-44c5-9c12-59f3ad034710] 
ClearanceMailer#change_password: processed outbound mail in 302.0ms
[ActiveJob] [ActionMailer::DeliveryJob] [bcec10f3-9129-44c5-9c12-59f3ad034710] 
Sent mail to user2@example.com (6.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [bcec10f3-9129-44c5-9c12-59f3ad034710] Date: Sat, 19 Nov 2016 19:58:10 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <5830f5224495_25cf3ff99cc524545574a@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f5223330_25cf3ff99cc5245455631";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f5223330_25cf3ff99cc5245455631
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/47/password/edit?token=e847b581a9f226ce0c46dd048e29b5921abfd7ba

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f5223330_25cf3ff99cc5245455631
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/47/password/edit?token=e847b581a9f226ce0c46dd048e29b5921abfd7ba">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f5223330_25cf3ff99cc5245455631--

[ActiveJob] [ActionMailer::DeliveryJob] [bcec10f3-9129-44c5-9c12-59f3ad034710] Performed ActionMailer::DeliveryJob from Inline(mailers) in 309.28ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: bcec10f3-9129-44c5-9c12-59f3ad034710) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/47
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.4ms)
Completed 200 OK in 329ms (Views: 2.1ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$Mpm4yHwaNZ5LNHeBFt3gV.elHK1CpvL/J4WdPWKB83lKI6G8wigay"], ["created_at", "2016-11-20 00:58:10.045871"], ["updated_at", "2016-11-20 00:58:10.045871"], ["remember_token", "83dc5ca16e66892bc7723038ffad24acd11573c0"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "83dc5ca16e66892bc7723038ffad24acd11573c0"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 48]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "83dc5ca16e66892bc7723038ffad24acd11573c0"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 48]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$mifELstJ6NrByyKy6322muRYncKwJJYohfcjyyJQoPL6UJBjXo3zi"], ["created_at", "2016-11-20 00:58:10.079371"], ["updated_at", "2016-11-20 00:58:10.079371"], ["remember_token", "d72468d7c73d68097cb340b0f803819a2ae25e40"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "d72468d7c73d68097cb340b0f803819a2ae25e40"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 49]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "d72468d7c73d68097cb340b0f803819a2ae25e40"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 49]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$YURDFwe2tcdHo8hcw8AVhOaMI0nfXNmpfMT7kB8fIMeyCnBeSvKwe"], ["created_at", "2016-11-20 00:58:10.112196"], ["updated_at", "2016-11-20 00:58:10.112196"], ["remember_token", "08ef35b70e6b9e43c81377ff002919cd68e12ca6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 401 Unauthorized in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.3ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$cKtcYliHVa3/zla9ml0yWe7e0EDsDLoBf7m5TdQ56oPcu.PIekO5O"], ["created_at", "2016-11-20 00:58:10.240824"], ["updated_at", "2016-11-20 00:58:10.240824"], ["remember_token", "ce5e053543ec1a732534704442f88e56b99f6219"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "ce5e053543ec1a732534704442f88e56b99f6219"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 51]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "ce5e053543ec1a732534704442f88e56b99f6219"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 51]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 11ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$99ybEwE6X6DoV32EOvgBUOjLsqLbnchnAZ79nlQL4uZ/17VyIfrVm"], ["created_at", "2016-11-20 00:58:10.302362"], ["updated_at", "2016-11-20 00:58:10.302362"], ["remember_token", "16b04bb197c786e2383859fe6f8a874779c89774"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user3@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "d683a7e97bd279472b3c75c81c10a0ea3f7efabb"], ["updated_at", "2016-11-20 00:58:10.314450"], ["id", 52]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 52]]
[ActiveJob] [ActionMailer::DeliveryJob] [096f8ba2-03bb-49f7-bcc2-f649238852df] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/52
[ActiveJob] [ActionMailer::DeliveryJob] [096f8ba2-03bb-49f7-bcc2-f649238852df]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [096f8ba2-03bb-49f7-bcc2-f649238852df]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [096f8ba2-03bb-49f7-bcc2-f649238852df] 
ClearanceMailer#change_password: processed outbound mail in 2.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [096f8ba2-03bb-49f7-bcc2-f649238852df] 
Sent mail to user3@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [096f8ba2-03bb-49f7-bcc2-f649238852df] Date: Sat, 19 Nov 2016 19:58:10 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <5830f5224f16f_25cf3ff99cc52454559ec@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f5224e960_25cf3ff99cc524545586";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f5224e960_25cf3ff99cc524545586
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/52/password/edit?token=d683a7e97bd279472b3c75c81c10a0ea3f7efabb

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f5224e960_25cf3ff99cc524545586
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/52/password/edit?token=d683a7e97bd279472b3c75c81c10a0ea3f7efabb">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f5224e960_25cf3ff99cc524545586--

[ActiveJob] [ActionMailer::DeliveryJob] [096f8ba2-03bb-49f7-bcc2-f649238852df] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.52ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 096f8ba2-03bb-49f7-bcc2-f649238852df) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/52
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 14ms (Views: 0.7ms | ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 52]]
Started GET "/users/52/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"52"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 52], ["confirmation_token", "d683a7e97bd279472b3c75c81c10a0ea3f7efabb"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "52"], ["confirmation_token", "d683a7e97bd279472b3c75c81c10a0ea3f7efabb"]]
Redirected to http://www.example.com/users/52/password/edit
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/users/52/password/edit" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"52"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 52], ["confirmation_token", "d683a7e97bd279472b3c75c81c10a0ea3f7efabb"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "52"], ["confirmation_token", "d683a7e97bd279472b3c75c81c10a0ea3f7efabb"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
Started PUT "/users/52/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"52"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 52], ["confirmation_token", "d683a7e97bd279472b3c75c81c10a0ea3f7efabb"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "52"], ["confirmation_token", "d683a7e97bd279472b3c75c81c10a0ea3f7efabb"]]
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 52) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 52) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$9/GQf2Hj7uF9C9O8oxUVQOHNfqwyIIRu7B7.iLEG3gtY42U4NkWB."], ["confirmation_token", nil], ["remember_token", "a21026a25b1fdaa86bc703a7a7de2b6466cdcf50"], ["updated_at", "2016-11-20 00:58:10.357029"], ["id", 52]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.7ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "a21026a25b1fdaa86bc703a7a7de2b6466cdcf50"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 52]]
  Rendered users/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "a21026a25b1fdaa86bc703a7a7de2b6466cdcf50"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 52]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$EtSKTMJ978/FddXsnfff.u2ybd.Zj73QnyhkZxvjASGXAwqsFp.tm"], ["created_at", "2016-11-20 00:58:10.377124"], ["updated_at", "2016-11-20 00:58:10.377124"], ["remember_token", "5648d90fb20b6f5f3212f55bff60489f1becbea2"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user4@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "7a9f44e53e15f34f1428be60fa0fb760354b7f7b"], ["updated_at", "2016-11-20 00:58:10.386146"], ["id", 53]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 53]]
[ActiveJob] [ActionMailer::DeliveryJob] [58ac1588-a319-4763-a10a-ec7203e6dafc] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/53
[ActiveJob] [ActionMailer::DeliveryJob] [58ac1588-a319-4763-a10a-ec7203e6dafc]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [58ac1588-a319-4763-a10a-ec7203e6dafc]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [58ac1588-a319-4763-a10a-ec7203e6dafc] 
ClearanceMailer#change_password: processed outbound mail in 3.3ms
[ActiveJob] [ActionMailer::DeliveryJob] [58ac1588-a319-4763-a10a-ec7203e6dafc] 
Sent mail to user4@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [58ac1588-a319-4763-a10a-ec7203e6dafc] Date: Sat, 19 Nov 2016 19:58:10 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <5830f5226099e_25cf3ff99cc524545617b@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f52260135_25cf3ff99cc52454560f6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f52260135_25cf3ff99cc52454560f6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/53/password/edit?token=7a9f44e53e15f34f1428be60fa0fb760354b7f7b

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f52260135_25cf3ff99cc52454560f6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/53/password/edit?token=7a9f44e53e15f34f1428be60fa0fb760354b7f7b">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f52260135_25cf3ff99cc52454560f6--

[ActiveJob] [ActionMailer::DeliveryJob] [58ac1588-a319-4763-a10a-ec7203e6dafc] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.97ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 58ac1588-a319-4763-a10a-ec7203e6dafc) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/53
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 53]]
Started GET "/users/53/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"53"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 53], ["confirmation_token", "7a9f44e53e15f34f1428be60fa0fb760354b7f7b"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "53"], ["confirmation_token", "7a9f44e53e15f34f1428be60fa0fb760354b7f7b"]]
Redirected to http://www.example.com/users/53/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/users/53/password/edit" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"53"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 53], ["confirmation_token", "7a9f44e53e15f34f1428be60fa0fb760354b7f7b"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "53"], ["confirmation_token", "7a9f44e53e15f34f1428be60fa0fb760354b7f7b"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
Started PUT "/users/53/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"53"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 53], ["confirmation_token", "7a9f44e53e15f34f1428be60fa0fb760354b7f7b"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "53"], ["confirmation_token", "7a9f44e53e15f34f1428be60fa0fb760354b7f7b"]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 53) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 53) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$lsh7b2Phg0DLC7Gw9y8Q6uW36xBGr/pFXXtTVJtQqySsZHJRwfwXa"], ["confirmation_token", nil], ["remember_token", "2e375caae6e928b64066ff8e208a1e18899b5595"], ["updated_at", "2016-11-20 00:58:10.418385"], ["id", 53]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "2e375caae6e928b64066ff8e208a1e18899b5595"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 53]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "2e375caae6e928b64066ff8e208a1e18899b5595"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "0bdcc951e86b20c3011f4b2a7b661bb5c20c5846"], ["updated_at", "2016-11-20 00:58:10.430014"], ["id", 53]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "0bdcc951e86b20c3011f4b2a7b661bb5c20c5846"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 53]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "0bdcc951e86b20c3011f4b2a7b661bb5c20c5846"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 53]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$gmaFHDdCS3NHPK4wAu3e6eK5XF25GvuaxlPDhvSQStMOkgx3k6CRe"], ["created_at", "2016-11-20 00:58:10.480425"], ["updated_at", "2016-11-20 00:58:10.480425"], ["remember_token", "d28cffa59224b0bc10855ec74e87da9d3ab652ee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user5@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "f69b386a4b0b047565082a624aecb0ce4dcb5899"], ["updated_at", "2016-11-20 00:58:10.492188"], ["id", 54]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 54]]
[ActiveJob] [ActionMailer::DeliveryJob] [44955e3b-61da-4303-b325-38abdb78c809] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/54
[ActiveJob] [ActionMailer::DeliveryJob] [44955e3b-61da-4303-b325-38abdb78c809]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [44955e3b-61da-4303-b325-38abdb78c809]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [44955e3b-61da-4303-b325-38abdb78c809] 
ClearanceMailer#change_password: processed outbound mail in 3.0ms
[ActiveJob] [ActionMailer::DeliveryJob] [44955e3b-61da-4303-b325-38abdb78c809] 
Sent mail to user5@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [44955e3b-61da-4303-b325-38abdb78c809] Date: Sat, 19 Nov 2016 19:58:10 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <5830f5228d9ad_25cf3ff99cc5245456389@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f5228d148_25cf3ff99cc524545624a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f5228d148_25cf3ff99cc524545624a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/54/password/edit?token=f69b386a4b0b047565082a624aecb0ce4dcb5899

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f5228d148_25cf3ff99cc524545624a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/54/password/edit?token=f69b386a4b0b047565082a624aecb0ce4dcb5899">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f5228d148_25cf3ff99cc524545624a--

[ActiveJob] [ActionMailer::DeliveryJob] [44955e3b-61da-4303-b325-38abdb78c809] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.85ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 44955e3b-61da-4303-b325-38abdb78c809) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/54
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 93ms (Views: 1.1ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 54]]
Started GET "/users/54/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"54"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 54], ["confirmation_token", "f69b386a4b0b047565082a624aecb0ce4dcb5899"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "54"], ["confirmation_token", "f69b386a4b0b047565082a624aecb0ce4dcb5899"]]
Redirected to http://www.example.com/users/54/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/54/password/edit" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"54"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 54], ["confirmation_token", "f69b386a4b0b047565082a624aecb0ce4dcb5899"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "54"], ["confirmation_token", "f69b386a4b0b047565082a624aecb0ce4dcb5899"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
Started PUT "/users/54/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:10 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"54"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 54], ["confirmation_token", "f69b386a4b0b047565082a624aecb0ce4dcb5899"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "54"], ["confirmation_token", "f69b386a4b0b047565082a624aecb0ce4dcb5899"]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 54) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 54) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$ZRigfU2C18WTQOElMWDYFucbyQoNWtcE8kFm3OhrnhIwnnfBubdOm"], ["created_at", "2016-11-20 00:58:45.418028"], ["updated_at", "2016-11-20 00:58:45.418028"], ["remember_token", "358b6e3147321442f4a758950ac0c261081a2e97"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (7.4ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 43ms (Views: 24.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "358b6e3147321442f4a758950ac0c261081a2e97"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 55]]
  Rendered users/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 73ms (Views: 15.2ms | ActiveRecord: 0.7ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "358b6e3147321442f4a758950ac0c261081a2e97"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_token", "01a814a4c3d1c6488591518687274fef56b3331b"], ["updated_at", "2016-11-20 00:58:45.572698"], ["id", 55]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/sign_in
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$ndBRtY.NeGca/rE7DrDlLO9oc5kfMNvZ2b.6Rk.QhMCO6i4LVMNDi"], ["created_at", "2016-11-20 00:58:45.621418"], ["updated_at", "2016-11-20 00:58:45.621418"], ["remember_token", "d8fe70230a9f122989105d317020c65f6c88bae0"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "e0169fa34917c243a8b2e671cbcfa9d4ea618328"], ["updated_at", "2016-11-20 00:58:45.632090"], ["id", 56]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 56]]
[ActiveJob] [ActionMailer::DeliveryJob] [10f6a010-c4eb-415a-b844-5feccc68a97f] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/56
[ActiveJob] [ActionMailer::DeliveryJob] [10f6a010-c4eb-415a-b844-5feccc68a97f]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [10f6a010-c4eb-415a-b844-5feccc68a97f]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [10f6a010-c4eb-415a-b844-5feccc68a97f] 
ClearanceMailer#change_password: processed outbound mail in 291.5ms
[ActiveJob] [ActionMailer::DeliveryJob] [10f6a010-c4eb-415a-b844-5feccc68a97f] 
Sent mail to user2@example.com (9.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [10f6a010-c4eb-415a-b844-5feccc68a97f] Date: Sat, 19 Nov 2016 19:58:45 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <5830f545e6a4b_25ec3fec498524541592a@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f545e4cd1_25ec3fec498524541589a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f545e4cd1_25ec3fec498524541589a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/56/password/edit?token=e0169fa34917c243a8b2e671cbcfa9d4ea618328

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f545e4cd1_25ec3fec498524541589a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/56/password/edit?token=e0169fa34917c243a8b2e671cbcfa9d4ea618328">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f545e4cd1_25ec3fec498524541589a--

[ActiveJob] [ActionMailer::DeliveryJob] [10f6a010-c4eb-415a-b844-5feccc68a97f] Performed ActionMailer::DeliveryJob from Inline(mailers) in 302.05ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 10f6a010-c4eb-415a-b844-5feccc68a97f) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/56
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.5ms)
Completed 200 OK in 321ms (Views: 2.1ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$PYg8AnuVE/iNjJnl3XbyYeat5noO41pulOm6a11YGIZ0iRkTMEV3i"], ["created_at", "2016-11-20 00:58:45.972309"], ["updated_at", "2016-11-20 00:58:45.972309"], ["remember_token", "9ed4d0a44a0d57d12627e31a1445003b24a65504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "9ed4d0a44a0d57d12627e31a1445003b24a65504"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 57]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:45 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "9ed4d0a44a0d57d12627e31a1445003b24a65504"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 57]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$X0iBlCo.pfzQ/2BMVNlaE.oVlmtdDqHY4VpAi8uepbYVD/ANVfcGC"], ["created_at", "2016-11-20 00:58:46.003610"], ["updated_at", "2016-11-20 00:58:46.003610"], ["remember_token", "0be84eee830b45b26faa124197b9a7e064b55c20"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.6ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "0be84eee830b45b26faa124197b9a7e064b55c20"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 58]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "0be84eee830b45b26faa124197b9a7e064b55c20"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 58]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$klyUvM/eO1NXwHgQvcy7J.xjRjIZr07tXQgAt1Q.ZQ/2ig2gwEeUi"], ["created_at", "2016-11-20 00:58:46.038095"], ["updated_at", "2016-11-20 00:58:46.038095"], ["remember_token", "bb2a8f4c9736f7d98855ac55b02745eb922873f3"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 401 Unauthorized in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.1ms)
Completed 401 Unauthorized in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.2ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$BZEb1SDV02PJgzK9GUMvF.3wpP/UbG6Q9eRKniqzRvA22q0dMus8."], ["created_at", "2016-11-20 00:58:46.164333"], ["updated_at", "2016-11-20 00:58:46.164333"], ["remember_token", "5b5e15e143ba3410ed69fe8dee6edcb0c68d816a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "5b5e15e143ba3410ed69fe8dee6edcb0c68d816a"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 60]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "5b5e15e143ba3410ed69fe8dee6edcb0c68d816a"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 60]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$GYwNCTP4D8.FWW.u/QBq9ukEQoDsnZvONyrGUt3T71APYVcDLQR9S"], ["created_at", "2016-11-20 00:58:46.226903"], ["updated_at", "2016-11-20 00:58:46.226903"], ["remember_token", "d5a484ca79a0e13abd5f86291f0e28391947ac96"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user3@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "0c28020f660b05d7f64914a8fd46dfa7277d023e"], ["updated_at", "2016-11-20 00:58:46.235367"], ["id", 61]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 61]]
[ActiveJob] [ActionMailer::DeliveryJob] [0241250a-8cb1-49eb-8fee-aa17e0fd365e] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/61
[ActiveJob] [ActionMailer::DeliveryJob] [0241250a-8cb1-49eb-8fee-aa17e0fd365e]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0241250a-8cb1-49eb-8fee-aa17e0fd365e]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0241250a-8cb1-49eb-8fee-aa17e0fd365e] 
ClearanceMailer#change_password: processed outbound mail in 2.6ms
[ActiveJob] [ActionMailer::DeliveryJob] [0241250a-8cb1-49eb-8fee-aa17e0fd365e] 
Sent mail to user3@example.com (3.1ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0241250a-8cb1-49eb-8fee-aa17e0fd365e] Date: Sat, 19 Nov 2016 19:58:46 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <5830f5463b9c7_25ec3fec4985245416145@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f5463b20c_25ec3fec498524541603c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f5463b20c_25ec3fec498524541603c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/61/password/edit?token=0c28020f660b05d7f64914a8fd46dfa7277d023e

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f5463b20c_25ec3fec498524541603c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/61/password/edit?token=0c28020f660b05d7f64914a8fd46dfa7277d023e">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f5463b20c_25ec3fec498524541603c--

[ActiveJob] [ActionMailer::DeliveryJob] [0241250a-8cb1-49eb-8fee-aa17e0fd365e] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.19ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 0241250a-8cb1-49eb-8fee-aa17e0fd365e) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/61
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 61]]
Started GET "/users/61/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"61"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 61], ["confirmation_token", "0c28020f660b05d7f64914a8fd46dfa7277d023e"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "61"], ["confirmation_token", "0c28020f660b05d7f64914a8fd46dfa7277d023e"]]
Redirected to http://www.example.com/users/61/password/edit
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/61/password/edit" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"61"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 61], ["confirmation_token", "0c28020f660b05d7f64914a8fd46dfa7277d023e"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "61"], ["confirmation_token", "0c28020f660b05d7f64914a8fd46dfa7277d023e"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.4ms)
Started PUT "/users/61/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"61"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 61], ["confirmation_token", "0c28020f660b05d7f64914a8fd46dfa7277d023e"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "61"], ["confirmation_token", "0c28020f660b05d7f64914a8fd46dfa7277d023e"]]
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 61) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 61) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$U/rZXW96FhjossvB6ZLrb.5KNkZKYVHJdVHry7rRsZ6Igt36rBRkm"], ["confirmation_token", nil], ["remember_token", "075a1b5c822c791507b2a3b00b9e484f79d1e51d"], ["updated_at", "2016-11-20 00:58:46.274171"], ["id", 61]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "075a1b5c822c791507b2a3b00b9e484f79d1e51d"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 61]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "075a1b5c822c791507b2a3b00b9e484f79d1e51d"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 61]]
  Rendered users/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$oXYLrGA4daIshYQESdM/D..2LvEy2R278HwiH.z0nHCZiT9Nnv/we"], ["created_at", "2016-11-20 00:58:46.298229"], ["updated_at", "2016-11-20 00:58:46.298229"], ["remember_token", "9a74ece191c36a2c9bfa30635a595b8e0c5b925e"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user4@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "3730c0509038e96b7e757f8f932ccf98a8ee6ecc"], ["updated_at", "2016-11-20 00:58:46.310706"], ["id", 62]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 62]]
[ActiveJob] [ActionMailer::DeliveryJob] [0b4e56a2-20dd-481d-b892-9847b6f024e2] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/62
[ActiveJob] [ActionMailer::DeliveryJob] [0b4e56a2-20dd-481d-b892-9847b6f024e2]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.5ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0b4e56a2-20dd-481d-b892-9847b6f024e2]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0b4e56a2-20dd-481d-b892-9847b6f024e2] 
ClearanceMailer#change_password: processed outbound mail in 2.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [0b4e56a2-20dd-481d-b892-9847b6f024e2] 
Sent mail to user4@example.com (3.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [0b4e56a2-20dd-481d-b892-9847b6f024e2] Date: Sat, 19 Nov 2016 19:58:46 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <5830f5464e46f_25ec3fec4985245416356@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f5464dc02_25ec3fec49852454162fc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f5464dc02_25ec3fec49852454162fc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/62/password/edit?token=3730c0509038e96b7e757f8f932ccf98a8ee6ecc

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f5464dc02_25ec3fec49852454162fc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/62/password/edit?token=3730c0509038e96b7e757f8f932ccf98a8ee6ecc">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f5464dc02_25ec3fec49852454162fc--

[ActiveJob] [ActionMailer::DeliveryJob] [0b4e56a2-20dd-481d-b892-9847b6f024e2] Performed ActionMailer::DeliveryJob from Inline(mailers) in 6.73ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 0b4e56a2-20dd-481d-b892-9847b6f024e2) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/62
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 15ms (Views: 0.7ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 62]]
Started GET "/users/62/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"62"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 62], ["confirmation_token", "3730c0509038e96b7e757f8f932ccf98a8ee6ecc"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "62"], ["confirmation_token", "3730c0509038e96b7e757f8f932ccf98a8ee6ecc"]]
Redirected to http://www.example.com/users/62/password/edit
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/users/62/password/edit" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"62"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 62], ["confirmation_token", "3730c0509038e96b7e757f8f932ccf98a8ee6ecc"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "62"], ["confirmation_token", "3730c0509038e96b7e757f8f932ccf98a8ee6ecc"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
Started PUT "/users/62/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"62"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 62], ["confirmation_token", "3730c0509038e96b7e757f8f932ccf98a8ee6ecc"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "62"], ["confirmation_token", "3730c0509038e96b7e757f8f932ccf98a8ee6ecc"]]
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 62) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 62) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$A.G99iI2MkSi1zxsHiZhLOVUjLA8yo1.4fpt2y/RuORXm1Hk1QZdS"], ["confirmation_token", nil], ["remember_token", "b5e5a6676f05812ec7929b7dab17bc525a26804f"], ["updated_at", "2016-11-20 00:58:46.344050"], ["id", 62]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "b5e5a6676f05812ec7929b7dab17bc525a26804f"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 62]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "b5e5a6676f05812ec7929b7dab17bc525a26804f"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "54f30f097242ca7db0f3e87e457c3ffdd1c3ca33"], ["updated_at", "2016-11-20 00:58:46.356091"], ["id", 62]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "54f30f097242ca7db0f3e87e457c3ffdd1c3ca33"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 62]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "54f30f097242ca7db0f3e87e457c3ffdd1c3ca33"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 62]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$SSxV2VJBc9HXXk.s0iPt3eth18D2GGfTkxBRDvx.joVvGGWSnZAsK"], ["created_at", "2016-11-20 00:58:46.391077"], ["updated_at", "2016-11-20 00:58:46.391077"], ["remember_token", "c17bbd27bdd588c3be6e90179a4f6f3f76cd2039"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user5@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "24bf7b4732dc82c83d88dabe1de4729d899d4b59"], ["updated_at", "2016-11-20 00:58:46.472025"], ["id", 63]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 63]]
[ActiveJob] [ActionMailer::DeliveryJob] [4fb44f62-679e-4dcc-b8bc-77f673779d32] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/63
[ActiveJob] [ActionMailer::DeliveryJob] [4fb44f62-679e-4dcc-b8bc-77f673779d32]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4fb44f62-679e-4dcc-b8bc-77f673779d32]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4fb44f62-679e-4dcc-b8bc-77f673779d32] 
ClearanceMailer#change_password: processed outbound mail in 3.7ms
[ActiveJob] [ActionMailer::DeliveryJob] [4fb44f62-679e-4dcc-b8bc-77f673779d32] 
Sent mail to user5@example.com (4.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4fb44f62-679e-4dcc-b8bc-77f673779d32] Date: Sat, 19 Nov 2016 19:58:46 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <5830f54676670_25ec3fec49852454165f6@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f54675a7e_25ec3fec498524541647a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f54675a7e_25ec3fec498524541647a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/63/password/edit?token=24bf7b4732dc82c83d88dabe1de4729d899d4b59

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f54675a7e_25ec3fec498524541647a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/63/password/edit?token=24bf7b4732dc82c83d88dabe1de4729d899d4b59">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f54675a7e_25ec3fec498524541647a--

[ActiveJob] [ActionMailer::DeliveryJob] [4fb44f62-679e-4dcc-b8bc-77f673779d32] Performed ActionMailer::DeliveryJob from Inline(mailers) in 9.01ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 4fb44f62-679e-4dcc-b8bc-77f673779d32) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/63
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 20ms (Views: 0.9ms | ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 63]]
Started GET "/users/63/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"63"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 63], ["confirmation_token", "24bf7b4732dc82c83d88dabe1de4729d899d4b59"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "63"], ["confirmation_token", "24bf7b4732dc82c83d88dabe1de4729d899d4b59"]]
Redirected to http://www.example.com/users/63/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/users/63/password/edit" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"63"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 63], ["confirmation_token", "24bf7b4732dc82c83d88dabe1de4729d899d4b59"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "63"], ["confirmation_token", "24bf7b4732dc82c83d88dabe1de4729d899d4b59"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms)
Started PUT "/users/63/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 19:58:46 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"63"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 63], ["confirmation_token", "24bf7b4732dc82c83d88dabe1de4729d899d4b59"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "63"], ["confirmation_token", "24bf7b4732dc82c83d88dabe1de4729d899d4b59"]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 63) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 63) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@test.com", "password"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@test.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@test.com"], ["encrypted_password", "$2a$04$AGXbSGFrgRqkibayLOPjXO18OeRcWMyGmC.OUOomPFXzQUqT7YFOS"], ["created_at", "2016-11-20 01:03:28.407831"], ["updated_at", "2016-11-20 01:03:28.407831"], ["remember_token", "b11354a75562312925ae781d541ae29ff100a28e"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 91ms (ActiveRecord: 4.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user1@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@example.com"], ["encrypted_password", "$2a$04$xno8L80PO.4DZJ6mMN3TEe/s4r/d.hZQleBmAvksEsipErghmDjHe"], ["created_at", "2016-11-20 01:03:28.421200"], ["updated_at", "2016-11-20 01:03:28.421200"], ["remember_token", "16229a531db0b4b861733e15eca972bc2cd3b1ca"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (7.6ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (14.4ms)
Completed 200 OK in 49ms (Views: 25.6ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user1@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user1@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 61ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "16229a531db0b4b861733e15eca972bc2cd3b1ca"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 65]]
  Rendered users/show.html.erb within layouts/application (9.5ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.6ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "16229a531db0b4b861733e15eca972bc2cd3b1ca"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_token", "92f612049b91765fc22af24e55186ba8c54534c6"], ["updated_at", "2016-11-20 01:03:28.577214"], ["id", 65]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/sign_in
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user2@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user2@example.com"], ["encrypted_password", "$2a$04$fkZEV/BE0Tq5wCc1CI16buJvWoCt1GRzY8WGv2hImKDW6q/zsMcki"], ["created_at", "2016-11-20 01:03:28.630106"], ["updated_at", "2016-11-20 01:03:28.630106"], ["remember_token", "033b46fcebe151cc7d5229e6fddf858994065130"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "66db0cd4138c55e8811dbd8a71dfc42de49ca8bf"], ["updated_at", "2016-11-20 01:03:28.640369"], ["id", 66]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 66]]
[ActiveJob] [ActionMailer::DeliveryJob] [4aa40020-7ea4-41f0-a608-4683076e9bbb] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/66
[ActiveJob] [ActionMailer::DeliveryJob] [4aa40020-7ea4-41f0-a608-4683076e9bbb]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (1.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4aa40020-7ea4-41f0-a608-4683076e9bbb]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (1.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4aa40020-7ea4-41f0-a608-4683076e9bbb] 
ClearanceMailer#change_password: processed outbound mail in 313.1ms
[ActiveJob] [ActionMailer::DeliveryJob] [4aa40020-7ea4-41f0-a608-4683076e9bbb] 
Sent mail to user2@example.com (6.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4aa40020-7ea4-41f0-a608-4683076e9bbb] Date: Sat, 19 Nov 2016 20:03:28 -0500
From: reply@example.com
To: user2@example.com
Message-ID: <5830f660ed9ae_26da3fd68245245891578@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f660ec80b_26da3fd6824524589145";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f660ec80b_26da3fd6824524589145
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/66/password/edit?token=66db0cd4138c55e8811dbd8a71dfc42de49ca8bf

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f660ec80b_26da3fd6824524589145
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/66/password/edit?token=66db0cd4138c55e8811dbd8a71dfc42de49ca8bf">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f660ec80b_26da3fd6824524589145--

[ActiveJob] [ActionMailer::DeliveryJob] [4aa40020-7ea4-41f0-a608-4683076e9bbb] Performed ActionMailer::DeliveryJob from Inline(mailers) in 320.46ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 4aa40020-7ea4-41f0-a608-4683076e9bbb) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/66
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.4ms)
Completed 200 OK in 340ms (Views: 2.1ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 20:03:28 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$.p8PNTxbFNEJ9KYescbeReyAcWPgDRrav4nGRlo6VYooG80kvTKpS"], ["created_at", "2016-11-20 01:03:29.000485"], ["updated_at", "2016-11-20 01:03:29.000485"], ["remember_token", "7cc1fd48fa28d03d8abf875d3e5f00e05087e0c0"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "7cc1fd48fa28d03d8abf875d3e5f00e05087e0c0"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 67]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "7cc1fd48fa28d03d8abf875d3e5f00e05087e0c0"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 67]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user.name@example.com"], ["encrypted_password", "$2a$04$f.5HO5av1FwR3V7PEooESu31YuyL6xxAfhHqCtBssq3dq2S9LdJo."], ["created_at", "2016-11-20 01:03:29.031769"], ["updated_at", "2016-11-20 01:03:29.031769"], ["remember_token", "591818cd2f649ab94d744e48348f0fdf9458045d"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"User.Name@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user.name@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "591818cd2f649ab94d744e48348f0fdf9458045d"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 68]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "591818cd2f649ab94d744e48348f0fdf9458045d"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 68]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$0WizbKu5dPwmBiwO2sfXyuFOToFQMAPs81Tytbg.pkVpckqrSofAi"], ["created_at", "2016-11-20 01:03:29.064332"], ["updated_at", "2016-11-20 01:03:29.064332"], ["remember_token", "518c9cbcc7c43e341d7d7c5bab5b0af69bca6987"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.1ms)
Completed 401 Unauthorized in 5ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"unknown.email@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "unknown.email@example.com"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.4ms)
Completed 401 Unauthorized in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (1.3ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "valid@example.com"], ["encrypted_password", "$2a$04$H6PyP5cksaMbyRliWDrhheb00ojMhhVxiNeYPD5MUv8mKcC.Nl4Zu"], ["created_at", "2016-11-20 01:03:29.202207"], ["updated_at", "2016-11-20 01:03:29.202207"], ["remember_token", "9ed99562efd8eee7401d826f04e4cc78a182f81b"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "9ed99562efd8eee7401d826f04e4cc78a182f81b"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 70]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "9ed99562efd8eee7401d826f04e4cc78a182f81b"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 70]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"invalid_email", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'invalid_email' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Started GET "/sign_up" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::UsersController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"valid@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'valid@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/_form.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user3@example.com"], ["encrypted_password", "$2a$04$TcNXJHqlkwvA.4VpzExeq.C5OHnVBAZLY17koNyHPlTHC.zmyxeum"], ["created_at", "2016-11-20 01:03:29.255583"], ["updated_at", "2016-11-20 01:03:29.255583"], ["remember_token", "4da0befd3b5bc1925ca59c7daed30dd144c6c5c9"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user3@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["confirmation_token", "f867ecba454383218f31b2b2789798749c04bd25"], ["updated_at", "2016-11-20 01:03:29.264088"], ["id", 71]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
[ActiveJob]   [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 71]]
[ActiveJob] [ActionMailer::DeliveryJob] [4f46e53f-bd45-4587-a280-805a4c7bad66] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/71
[ActiveJob] [ActionMailer::DeliveryJob] [4f46e53f-bd45-4587-a280-805a4c7bad66]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4f46e53f-bd45-4587-a280-805a4c7bad66]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4f46e53f-bd45-4587-a280-805a4c7bad66] 
ClearanceMailer#change_password: processed outbound mail in 3.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [4f46e53f-bd45-4587-a280-805a4c7bad66] 
Sent mail to user3@example.com (4.0ms)
[ActiveJob] [ActionMailer::DeliveryJob] [4f46e53f-bd45-4587-a280-805a4c7bad66] Date: Sat, 19 Nov 2016 20:03:29 -0500
From: reply@example.com
To: user3@example.com
Message-ID: <5830f661435e4_26da3fd68245245891738@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f66142b93_26da3fd682452458916ab";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f66142b93_26da3fd682452458916ab
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/71/password/edit?token=f867ecba454383218f31b2b2789798749c04bd25

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f66142b93_26da3fd682452458916ab
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/71/password/edit?token=f867ecba454383218f31b2b2789798749c04bd25">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f66142b93_26da3fd682452458916ab--

[ActiveJob] [ActionMailer::DeliveryJob] [4f46e53f-bd45-4587-a280-805a4c7bad66] Performed ActionMailer::DeliveryJob from Inline(mailers) in 8.57ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 4f46e53f-bd45-4587-a280-805a4c7bad66) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/71
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 17ms (Views: 0.7ms | ActiveRecord: 1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 71]]
Started GET "/users/71/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"71"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 71], ["confirmation_token", "f867ecba454383218f31b2b2789798749c04bd25"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "71"], ["confirmation_token", "f867ecba454383218f31b2b2789798749c04bd25"]]
Redirected to http://www.example.com/users/71/password/edit
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/71/password/edit" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"71"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 71], ["confirmation_token", "f867ecba454383218f31b2b2789798749c04bd25"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "71"], ["confirmation_token", "f867ecba454383218f31b2b2789798749c04bd25"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms)
Started PUT "/users/71/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"71"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", 71], ["confirmation_token", "f867ecba454383218f31b2b2789798749c04bd25"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", "71"], ["confirmation_token", "f867ecba454383218f31b2b2789798749c04bd25"]]
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 71) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user3@example.com' AND "users"."id" != 71) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5  [["encrypted_password", "$2a$04$vv4cE4ew0pxnKFEC5iM86usKuEoZ.zEEW2wZEnjxxcf/xm5HNf3VW"], ["confirmation_token", nil], ["remember_token", "346af31e30d5c9c1ff5c7cde34c95768f1467cf2"], ["updated_at", "2016-11-20 01:03:29.307558"], ["id", 71]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "346af31e30d5c9c1ff5c7cde34c95768f1467cf2"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 71]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "346af31e30d5c9c1ff5c7cde34c95768f1467cf2"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 71]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user4@example.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user4@example.com"], ["encrypted_password", "$2a$04$/Vy28ED4.wHdv717LXEyjOx4NP9WdL4rSMBbE6fgVganhLGGj3vcG"], ["created_at", "2016-11-20 01:03:29.327425"], ["updated_at", "2016-11-20 01:03:29.327425"], ["remember_token", "9f3370e13dd883df4700810a3432707a99af5e77"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user4@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "449ff5341023873c228f320452ea51af7e5f4cec"], ["updated_at", "2016-11-20 01:03:29.336078"], ["id", 72]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 72]]
[ActiveJob] [ActionMailer::DeliveryJob] [cb7fe7de-259e-4734-85de-31238fc23c48] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/72
[ActiveJob] [ActionMailer::DeliveryJob] [cb7fe7de-259e-4734-85de-31238fc23c48]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [cb7fe7de-259e-4734-85de-31238fc23c48]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (0.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [cb7fe7de-259e-4734-85de-31238fc23c48] 
ClearanceMailer#change_password: processed outbound mail in 2.9ms
[ActiveJob] [ActionMailer::DeliveryJob] [cb7fe7de-259e-4734-85de-31238fc23c48] 
Sent mail to user4@example.com (3.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [cb7fe7de-259e-4734-85de-31238fc23c48] Date: Sat, 19 Nov 2016 20:03:29 -0500
From: reply@example.com
To: user4@example.com
Message-ID: <5830f6615446e_26da3fd68245245891949@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f66153a0d_26da3fd68245245891835";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f66153a0d_26da3fd68245245891835
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/72/password/edit?token=449ff5341023873c228f320452ea51af7e5f4cec

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f66153a0d_26da3fd68245245891835
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/72/password/edit?token=449ff5341023873c228f320452ea51af7e5f4cec">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f66153a0d_26da3fd68245245891835--

[ActiveJob] [ActionMailer::DeliveryJob] [cb7fe7de-259e-4734-85de-31238fc23c48] Performed ActionMailer::DeliveryJob from Inline(mailers) in 7.12ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: cb7fe7de-259e-4734-85de-31238fc23c48) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/72
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 72]]
Started GET "/users/72/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"72"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 72], ["confirmation_token", "449ff5341023873c228f320452ea51af7e5f4cec"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "72"], ["confirmation_token", "449ff5341023873c228f320452ea51af7e5f4cec"]]
Redirected to http://www.example.com/users/72/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/users/72/password/edit" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"72"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 72], ["confirmation_token", "449ff5341023873c228f320452ea51af7e5f4cec"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "72"], ["confirmation_token", "449ff5341023873c228f320452ea51af7e5f4cec"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
Started PUT "/users/72/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"72"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 72], ["confirmation_token", "449ff5341023873c228f320452ea51af7e5f4cec"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "72"], ["confirmation_token", "449ff5341023873c228f320452ea51af7e5f4cec"]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 72) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user4@example.com' AND "users"."id" != 72) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "encrypted_password" = $1, "confirmation_token" = $2, "remember_token" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["encrypted_password", "$2a$04$.ZkgrRvQACE36PXCJCX7teeTie20AVASsHMjHt0pEC1SMN5bey9lC"], ["confirmation_token", nil], ["remember_token", "99f6e5577444171a84b0836e50fc62ed1ad4986c"], ["updated_at", "2016-11-20 01:03:29.368249"], ["id", 72]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "99f6e5577444171a84b0836e50fc62ed1ad4986c"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1  [["referrer_id", 72]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started DELETE "/sign_out" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["remember_token", "99f6e5577444171a84b0836e50fc62ed1ad4986c"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_token", "12e9c90beb62439ec0c5c700b852ed4feebb83f5"], ["updated_at", "2016-11-20 01:03:29.380172"], ["id", 72]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/sign_in
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_in" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/_form.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"user4@example.com", "password"=>"[FILTERED]"}, "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "user4@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "12e9c90beb62439ec0c5c700b852ed4feebb83f5"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 72]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."remember_token" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["remember_token", "12e9c90beb62439ec0c5c700b852ed4feebb83f5"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."referrer_id" = $1[0m  [["referrer_id", 72]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user5@example.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "user5@example.com"], ["encrypted_password", "$2a$04$48v3GO2f5oUwcD/gAPP6lugE7oyAQdH7N8YhIHfeurelTdauILYLm"], ["created_at", "2016-11-20 01:03:29.413144"], ["updated_at", "2016-11-20 01:03:29.413144"], ["remember_token", "fdf596f4f57623aaa15c1d21049f0f3348116374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/passwords/new" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#new as HTML
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started POST "/passwords" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#create as HTML
  Parameters: {"utf8"=>"✓", "password"=>"[FILTERED]", "commit"=>"Reset password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "user5@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "confirmation_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["confirmation_token", "1571855ea6195a348c3628817142ac815e488911"], ["updated_at", "2016-11-20 01:03:29.422078"], ["id", 73]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob]   [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 73]]
[ActiveJob] [ActionMailer::DeliveryJob] [6f3496c8-d820-4647-bdb6-95ca66f7e86d] Performing ActionMailer::DeliveryJob from Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/73
[ActiveJob] [ActionMailer::DeliveryJob] [6f3496c8-d820-4647-bdb6-95ca66f7e86d]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.html.erb (0.4ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6f3496c8-d820-4647-bdb6-95ca66f7e86d]   Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/clearance_mailer/change_password.text.erb (71.8ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6f3496c8-d820-4647-bdb6-95ca66f7e86d] 
ClearanceMailer#change_password: processed outbound mail in 74.8ms
[ActiveJob] [ActionMailer::DeliveryJob] [6f3496c8-d820-4647-bdb6-95ca66f7e86d] 
Sent mail to user5@example.com (3.2ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6f3496c8-d820-4647-bdb6-95ca66f7e86d] Date: Sat, 19 Nov 2016 20:03:29 -0500
From: reply@example.com
To: user5@example.com
Message-ID: <5830f6617aaf2_26da3fd682452458921bd@Lydias-MacBook-Air.local.mail>
Subject: Change your password
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5830f6617a230_26da3fd682452458920a2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5830f6617a230_26da3fd682452458920a2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Someone, hopefully you, requested we send you a link to change your password:

http://localhost:3000/users/73/password/edit?token=1571855ea6195a348c3628817142ac815e488911

If you didn't request this, ignore this email. Your password has not been changed.

----==_mimepart_5830f6617a230_26da3fd682452458920a2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Someone, hopefully you, requested we send you a link to change your password:</p>

<p>
  <a href="http://localhost:3000/users/73/password/edit?token=1571855ea6195a348c3628817142ac815e488911">Change my password</a>
</p>

<p>If you didn't request this, ignore this email. Your password has not been changed.</p>

----==_mimepart_5830f6617a230_26da3fd682452458920a2--

[ActiveJob] [ActionMailer::DeliveryJob] [6f3496c8-d820-4647-bdb6-95ca66f7e86d] Performed ActionMailer::DeliveryJob from Inline(mailers) in 78.5ms
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 6f3496c8-d820-4647-bdb6-95ca66f7e86d) to Inline(mailers) with arguments: "ClearanceMailer", "change_password", "deliver_now", gid://referrals-app/User/73
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/create.html.erb within layouts/application (0.1ms)
Completed 200 OK in 85ms (Views: 0.9ms | ActiveRecord: 0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 73]]
Started GET "/users/73/password/edit?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"token"=>"[FILTERED]", "user_id"=>"73"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 73], ["confirmation_token", "1571855ea6195a348c3628817142ac815e488911"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "73"], ["confirmation_token", "1571855ea6195a348c3628817142ac815e488911"]]
Redirected to http://www.example.com/users/73/password/edit
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/users/73/password/edit" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#edit as HTML
  Parameters: {"user_id"=>"73"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 73], ["confirmation_token", "1571855ea6195a348c3628817142ac815e488911"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "73"], ["confirmation_token", "1571855ea6195a348c3628817142ac815e488911"]]
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms)
Started PUT "/users/73/password?token=[FILTERED]" for 127.0.0.1 at 2016-11-19 20:03:29 -0500
Processing by Clearance::PasswordsController#update as HTML
  Parameters: {"utf8"=>"✓", "password_reset"=>"[FILTERED]", "commit"=>"Save this password", "token"=>"[FILTERED]", "user_id"=>"73"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1  [["id", 73], ["confirmation_token", "1571855ea6195a348c3628817142ac815e488911"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 AND "users"."confirmation_token" = $2 LIMIT 1[0m  [["id", "73"], ["confirmation_token", "1571855ea6195a348c3628817142ac815e488911"]]
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 73) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."email" = 'user5@example.com' AND "users"."id" != 73) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered /Library/Ruby/Gems/2.0.0/gems/clearance-1.15.1/app/views/passwords/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
